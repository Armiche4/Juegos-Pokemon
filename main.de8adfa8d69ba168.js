(self.webpackChunkpoketest=self.webpackChunkpoketest||[]).push([[179],{2011:(ht,Te,R)=>{"use strict";R.d(Te,{hO:()=>Ve,xv:()=>ye,Dh:()=>pe,GT:()=>we,cc:()=>ke,on:()=>$,pX:()=>fe});var c=R(5e3),B=R(127),L=R(5813);ht=R.hmd(ht);const he=["ngOnDestroy"],fe=(re,me,Me,Ce={})=>new Proxy(re,{get:(Ge,Ne)=>Me.runOutsideAngular(()=>{var We;if(re[Ne])return(null===(We=null==Ce?void 0:Ce.spy)||void 0===We?void 0:We.get)&&Ce.spy.get(Ne,re[Ne]),re[Ne];if(he.indexOf(Ne)>-1)return()=>{};const le=me.toPromise().then(it=>{const F=it&&it[Ne];return"function"==typeof F?F.bind(it):F&&F.then?F.then(U=>Me.run(()=>U)):Me.run(()=>F)});return new Proxy(()=>{},{get:(it,F)=>le[F],apply:(it,F,U)=>le.then(G=>{var ne;const de=G&&G(...U);return(null===(ne=null==Ce?void 0:Ce.spy)||void 0===ne?void 0:ne.apply)&&Ce.spy.apply(Ne,U,de),de})})})}),we=(re,me)=>{me.forEach(Me=>{Object.getOwnPropertyNames(Me.prototype||Me).forEach(Ce=>{Object.defineProperty(re.prototype,Ce,Object.getOwnPropertyDescriptor(Me.prototype||Me,Ce))})})};class se{constructor(me){return me}}const pe=new c.OlP("angularfire2.app.options"),ye=new c.OlP("angularfire2.app.name");function $(re,me,Me){const Ge="object"==typeof Me&&Me||{};Ge.name=Ge.name||"string"==typeof Me&&Me||"[DEFAULT]";const We=B.Z.apps.filter(le=>le&&le.name===Ge.name)[0]||me.runOutsideAngular(()=>B.Z.initializeApp(re,Ge));try{JSON.stringify(re)!==JSON.stringify(We.options)&&W("error",`${We.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(le){}return new se(We)}const W=(re,...me)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[re](...me)},oe={provide:se,useFactory:$,deps:[pe,c.R0b,[new c.FiY,ye]]};let Ve=(()=>{class re{constructor(Me){B.Z.registerVersion("angularfire",L.q4.full,"core"),B.Z.registerVersion("angularfire",L.q4.full,"app-compat"),B.Z.registerVersion("angular",c.q4F.full,Me.toString())}static initializeApp(Me,Ce){return{ngModule:re,providers:[{provide:pe,useValue:Me},{provide:ye,useValue:Ce}]}}}return re.\u0275fac=function(Me){return new(Me||re)(c.LFG(c.Lbi))},re.\u0275mod=c.oAB({type:re}),re.\u0275inj=c.cJS({providers:[oe]}),re})();function ke(re,me,Me,Ce,Ge){const[,Ne,We]=globalThis.\u0275AngularfireInstanceCache.find(le=>le[0]===re)||[];if(Ne)return function(re,me){try{return re.toString()===me.toString()}catch(Me){return re===me}}(Ge,We)||(ge("error",`${me} was already initialized on the ${Me} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Ge,was:We})),Ne;{const le=Ce();return globalThis.\u0275AngularfireInstanceCache.push([re,le,Ge]),le}}const Be=!!ht.hot,ge=(re,...me)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[re](...me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ht,Te,R)=>{"use strict";R.d(Te,{q4:()=>Do,iC:()=>rc,HU:()=>v1,vb:()=>cs,JM:()=>tc,u3:()=>wl});var c=R(5e3),B=R(5867),L=R(5861),he=R(9681),fe=R(2090),we=R(4859),se=R(1877),pe=R(2940);const ye="@firebase/installations",$="0.5.5",oe=`w:${$}`,Ve="FIS_v2",me=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Me(E){return E instanceof fe.ZR&&E.code.includes("request-failed")}function Ce({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Ge(E){return{token:E.token,requestStatus:2,expiresIn:G(E.expiresIn),creationTime:Date.now()}}function Ne(E,S){return We.apply(this,arguments)}function We(){return(We=(0,L.Z)(function*(E,S){const V=(yield S.json()).error;return me.create("request-failed",{requestName:E,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function le({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function it(E,{refreshToken:S}){const N=le(E);return N.append("Authorization",function(E){return`${Ve} ${E}`}(S)),N}function F(E){return U.apply(this,arguments)}function U(){return(U=(0,L.Z)(function*(E){const S=yield E();return S.status>=500&&S.status<600?E():S})).apply(this,arguments)}function G(E){return Number(E.replace("s","000"))}function de(E,S){return Y.apply(this,arguments)}function Y(){return(Y=(0,L.Z)(function*(E,{fid:S}){const N=Ce(E),_e={method:"POST",headers:le(E),body:JSON.stringify({fid:S,authVersion:Ve,appId:E.appId,sdkVersion:oe})},Pe=yield F(()=>fetch(N,_e));if(Pe.ok){const Qe=yield Pe.json();return{fid:Qe.fid||S,registrationStatus:2,refreshToken:Qe.refreshToken,authToken:Ge(Qe.authToken)}}throw yield Ne("Create Installation",Pe)})).apply(this,arguments)}function He(E){return new Promise(S=>{setTimeout(S,E)})}const nn=/^[cdef][\w-]{21}$/;function lt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const N=function(E){return function(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return nn.test(N)?N:""}catch(E){return""}}function Lt(E){return`${E.appName}!${E.appId}`}const zn=new Map;function tr(E,S){const N=Lt(E);An(N,S),function(E,S){const N=(!Kn&&"BroadcastChannel"in self&&(Kn=new BroadcastChannel("[Firebase] FID Change"),Kn.onmessage=E=>{An(E.data.key,E.data.fid)}),Kn);N&&N.postMessage({key:E,fid:S}),0===zn.size&&Kn&&(Kn.close(),Kn=null)}(N,S)}function An(E,S){const N=zn.get(E);if(N)for(const V of N)V(S)}let Kn=null;const Yn="firebase-installations-store";let Pi=null;function oi(){return Pi||(Pi=(0,pe.openDb)("firebase-installations-database",1,E=>{0===E.oldVersion&&E.createObjectStore(Yn)})),Pi}function gt(E,S){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,L.Z)(function*(E,S){const N=Lt(E),q=(yield oi()).transaction(Yn,"readwrite"),_e=q.objectStore(Yn),Pe=yield _e.get(N);return yield _e.put(S,N),yield q.complete,(!Pe||Pe.fid!==S.fid)&&tr(E,S.fid),S})).apply(this,arguments)}function pr(E){return cr.apply(this,arguments)}function cr(){return(cr=(0,L.Z)(function*(E){const S=Lt(E),V=(yield oi()).transaction(Yn,"readwrite");yield V.objectStore(Yn).delete(S),yield V.complete})).apply(this,arguments)}function mt(E,S){return bt.apply(this,arguments)}function bt(){return(bt=(0,L.Z)(function*(E,S){const N=Lt(E),q=(yield oi()).transaction(Yn,"readwrite"),_e=q.objectStore(Yn),Pe=yield _e.get(N),Qe=S(Pe);return void 0===Qe?yield _e.delete(N):yield _e.put(Qe,N),yield q.complete,Qe&&(!Pe||Pe.fid!==Qe.fid)&&tr(E,Qe.fid),Qe})).apply(this,arguments)}function Bt(E){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,L.Z)(function*(E){let S;const N=yield mt(E,V=>{const q=lr(V),_e=rn(E,q);return S=_e.registrationPromise,_e.installationEntry});return""===N.fid?{installationEntry:yield S}:{installationEntry:N,registrationPromise:S}})).apply(this,arguments)}function lr(E){return sn(E||{fid:lt(),registrationStatus:0})}function rn(E,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(me.create("app-offline"))};const N={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},V=function(E,S){return at.apply(this,arguments)}(E,N);return{installationEntry:N,registrationPromise:V}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:co(E)}:{installationEntry:S}}function at(){return(at=(0,L.Z)(function*(E,S){try{return gt(E,yield de(E,S))}catch(N){throw Me(N)&&409===N.customData.serverCode?yield pr(E):yield gt(E,{fid:S.fid,registrationStatus:0}),N}})).apply(this,arguments)}function co(E){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,L.Z)(function*(E){let S=yield ai(E);for(;1===S.registrationStatus;)yield He(100),S=yield ai(E);if(0===S.registrationStatus){const{installationEntry:N,registrationPromise:V}=yield Bt(E);return V||N}return S})).apply(this,arguments)}function ai(E){return mt(E,S=>{if(!S)throw me.create("installation-not-found");return sn(S)})}function sn(E){return function(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function zs(E,S){return Q.apply(this,arguments)}function Q(){return(Q=(0,L.Z)(function*({appConfig:E,platformLoggerProvider:S},N){const V=j(E,N),q=it(E,N),_e=S.getImmediate({optional:!0});_e&&q.append("x-firebase-client",_e.getPlatformInfoString());const Qe={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:oe}})},nt=yield F(()=>fetch(V,Qe));if(nt.ok)return Ge(yield nt.json());throw yield Ne("Generate Auth Token",nt)})).apply(this,arguments)}function j(E,{fid:S}){return`${Ce(E)}/${S}/authTokens:generate`}function ee(E){return Se.apply(this,arguments)}function Se(){return(Se=(0,L.Z)(function*(E,S=!1){let N;const V=yield mt(E.appConfig,_e=>{if(!qn(_e))throw me.create("not-registered");const Pe=_e.authToken;if(!S&&mr(Pe))return _e;if(1===Pe.requestStatus)return N=ce(E,S),_e;{if(!navigator.onLine)throw me.create("app-offline");const Qe=ue(_e);return N=qt(E,Qe),Qe}});return N?yield N:V.authToken})).apply(this,arguments)}function ce(E,S){return rt.apply(this,arguments)}function rt(){return(rt=(0,L.Z)(function*(E,S){let N=yield dt(E.appConfig);for(;1===N.authToken.requestStatus;)yield He(100),N=yield dt(E.appConfig);const V=N.authToken;return 0===V.requestStatus?ee(E,S):V})).apply(this,arguments)}function dt(E){return mt(E,S=>{if(!qn(S))throw me.create("not-registered");return function(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function qt(E,S){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,L.Z)(function*(E,S){try{const N=yield zs(E,S),V=Object.assign(Object.assign({},S),{authToken:N});return yield gt(E.appConfig,V),N}catch(N){if(!Me(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const V=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield gt(E.appConfig,V)}else yield pr(E.appConfig);throw N}})).apply(this,arguments)}function qn(E){return void 0!==E&&2===E.registrationStatus}function mr(E){return 2===E.requestStatus&&!function(E){const S=Date.now();return S<E.creationTime||E.creationTime+E.expiresIn<S+36e5}(E)}function ue(E){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:S})}function De(){return(De=(0,L.Z)(function*(E){const S=E,{installationEntry:N,registrationPromise:V}=yield Bt(S.appConfig);return V?V.catch(console.error):ee(S).catch(console.error),N.fid})).apply(this,arguments)}function Rt(){return(Rt=(0,L.Z)(function*(E,S=!1){const N=E;return yield $t(N.appConfig),(yield ee(N,S)).token})).apply(this,arguments)}function $t(E){return It.apply(this,arguments)}function It(){return(It=(0,L.Z)(function*(E){const{registrationPromise:S}=yield Bt(E);S&&(yield S)})).apply(this,arguments)}function Qn(E){return me.create("missing-app-config-values",{valueName:E})}const gr="installations";(0,he._registerComponent)(new we.wA(gr,E=>{const S=E.getProvider("app").getImmediate(),N=function(E){if(!E||!E.options)throw Qn("App Configuration");if(!E.name)throw Qn("App Name");const S=["projectId","apiKey","appId"];for(const N of S)if(!E.options[N])throw Qn(N);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(S);return{app:S,appConfig:N,platformLoggerProvider:(0,he._getProvider)(S,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,he._registerComponent)(new we.wA("installations-internal",E=>{const S=E.getProvider("app").getImmediate(),N=(0,he._getProvider)(S,gr).getImmediate();return{getId:()=>function(E){return De.apply(this,arguments)}(N),getToken:q=>function(E){return Rt.apply(this,arguments)}(N,q)}},"PRIVATE")),(0,he.registerVersion)(ye,$),(0,he.registerVersion)(ye,$,"esm2017");const Er="@firebase/remote-config",nr=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jo{constructor(S,N,V,q){this.client=S,this.storage=N,this.storageCache=V,this.logger=q}isCachedDataFresh(S,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-N,q=V<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${q}.`),q}fetch(S){var N=this;return(0,L.Z)(function*(){const[V,q]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(q&&N.isCachedDataFresh(S.cacheMaxAgeMillis,V))return q;S.eTag=q&&q.eTag;const _e=yield N.client.fetch(S),Pe=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===_e.status&&Pe.push(N.storage.setLastSuccessfulFetchResponse(_e)),yield Promise.all(Pe),_e})()}}function ho(E=navigator){return E.languages&&E.languages[0]||E.language}class ui{constructor(S,N,V,q,_e,Pe){this.firebaseInstallations=S,this.sdkVersion=N,this.namespace=V,this.projectId=q,this.apiKey=_e,this.appId=Pe}fetch(S){var N=this;return(0,L.Z)(function*(){const[V,q]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Pe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,Qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},nt={sdk_version:N.sdkVersion,app_instance_id:V,app_instance_id_token:q,app_id:N.appId,language_code:ho()},Yt={method:"POST",headers:Qe,body:JSON.stringify(nt)},hn=fetch(Pe,Yt),Or=new Promise((Ui,ji)=>{S.signal.addEventListener(()=>{const To=new Error("The operation was aborted.");To.name="AbortError",ji(To)})});let Xn;try{yield Promise.race([hn,Or]),Xn=yield hn}catch(Ui){let ji="fetch-client-network";throw"AbortError"===Ui.name&&(ji="fetch-timeout"),nr.create(ji,{originalErrorMessage:Ui.message})}let dn=Xn.status;const Ca=Xn.headers.get("ETag")||void 0;let Si,ba;if(200===Xn.status){let Ui;try{Ui=yield Xn.json()}catch(ji){throw nr.create("fetch-client-parse",{originalErrorMessage:ji.message})}Si=Ui.entries,ba=Ui.state}if("INSTANCE_STATE_UNSPECIFIED"===ba?dn=500:"NO_CHANGE"===ba?dn=304:("NO_TEMPLATE"===ba||"EMPTY_CONFIG"===ba)&&(Si={}),304!==dn&&200!==dn)throw nr.create("fetch-status",{httpStatus:dn});return{status:dn,eTag:Ca,config:Si}})()}}class $u{constructor(S,N){this.client=S,this.storage=N}fetch(S){var N=this;return(0,L.Z)(function*(){const V=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(S,V)})()}attemptFetch(S,{throttleEndTimeMillis:N,backoffCount:V}){var q=this;return(0,L.Z)(function*(){yield function(E,S){return new Promise((N,V)=>{const q=Math.max(S-Date.now(),0),_e=setTimeout(N,q);E.addEventListener(()=>{clearTimeout(_e),V(nr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,N);try{const _e=yield q.client.fetch(S);return yield q.storage.deleteThrottleMetadata(),_e}catch(_e){if(!function(E){if(!(E instanceof fe.ZR&&E.customData))return!1;const S=Number(E.customData.httpStatus);return 429===S||500===S||503===S||504===S}(_e))throw _e;const Pe={throttleEndTimeMillis:Date.now()+(0,fe.$s)(V),backoffCount:V+1};return yield q.storage.setThrottleMetadata(Pe),q.attemptFetch(S,Pe)}})()}}class il{constructor(S,N,V,q,_e){this.app=S,this._client=N,this._storageCache=V,this._storage=q,this._logger=_e,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function R2(E,S){const N=E.target.error||void 0;return nr.create(S,{originalErrorMessage:N&&N.message})}const Hs="app_namespace_store";class Xo{constructor(S,N,V,q=function(){return new Promise((E,S)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=V=>{S(R2(V,"storage-open"))},N.onsuccess=V=>{E(V.target.result)},N.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Hs,{keyPath:"compositeKey"})}}catch(N){S(nr.create("storage-open",{originalErrorMessage:N}))}})}()){this.appId=S,this.appName=N,this.namespace=V,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var N=this;return(0,L.Z)(function*(){const V=yield N.openDbPromise;return new Promise((q,_e)=>{const Qe=V.transaction([Hs],"readonly").objectStore(Hs),nt=N.createCompositeKey(S);try{const Yt=Qe.get(nt);Yt.onerror=hn=>{_e(R2(hn,"storage-get"))},Yt.onsuccess=hn=>{const Or=hn.target.result;q(Or?Or.value:void 0)}}catch(Yt){_e(nr.create("storage-get",{originalErrorMessage:Yt&&Yt.message}))}})})()}set(S,N){var V=this;return(0,L.Z)(function*(){const q=yield V.openDbPromise;return new Promise((_e,Pe)=>{const nt=q.transaction([Hs],"readwrite").objectStore(Hs),Yt=V.createCompositeKey(S);try{const hn=nt.put({compositeKey:Yt,value:N});hn.onerror=Or=>{Pe(R2(Or,"storage-set"))},hn.onsuccess=()=>{_e()}}catch(hn){Pe(nr.create("storage-set",{originalErrorMessage:hn&&hn.message}))}})})()}delete(S){var N=this;return(0,L.Z)(function*(){const V=yield N.openDbPromise;return new Promise((q,_e)=>{const Qe=V.transaction([Hs],"readwrite").objectStore(Hs),nt=N.createCompositeKey(S);try{const Yt=Qe.delete(nt);Yt.onerror=hn=>{_e(R2(hn,"storage-delete"))},Yt.onsuccess=()=>{q()}}catch(Yt){_e(nr.create("storage-delete",{originalErrorMessage:Yt&&Yt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Qu{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,L.Z)(function*(){const N=S.storage.getLastFetchStatus(),V=S.storage.getLastSuccessfulFetchTimestampMillis(),q=S.storage.getActiveConfig(),_e=yield N;_e&&(S.lastFetchStatus=_e);const Pe=yield V;Pe&&(S.lastSuccessfulFetchTimestampMillis=Pe);const Qe=yield q;Qe&&(S.activeConfig=Qe)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function $a(){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,L.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(E){return!1}})).apply(this,arguments)}(0,he._registerComponent)(new we.wA("remote-config",function(S,{instanceIdentifier:N}){const V=S.getProvider("app").getImmediate(),q=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw nr.create("registration-window");if(!(0,fe.hl)())throw nr.create("indexed-db-unavailable");const{projectId:_e,apiKey:Pe,appId:Qe}=V.options;if(!_e)throw nr.create("registration-project-id");if(!Pe)throw nr.create("registration-api-key");if(!Qe)throw nr.create("registration-app-id");const nt=new Xo(Qe,V.name,N=N||"firebase"),Yt=new Qu(nt),hn=new se.Yd(Er);hn.logLevel=se.in.ERROR;const Or=new ui(q,he.SDK_VERSION,N,_e,Pe,Qe),Xn=new $u(Or,nt),dn=new Jo(Xn,nt,Yt,hn),Ca=new il(V,dn,Yt,nt,hn);return function(E){const S=(0,fe.m9)(E);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Ca),Ca},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(Er,"0.3.4"),(0,he.registerVersion)(Er,"0.3.4","esm2017");const Ka="/firebase-messaging-sw.js",U1="/firebase-cloud-messaging-push-scope",Bs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ea="google.c.a.c_id",ol="google.c.a.c_l",Ya="google.c.a.ts",F2="google.c.a.e";var fo=(()=>{return(E=fo||(fo={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",fo;var E})();function ns(E){const S=new Uint8Array(E);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ja(E){const N=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(N),q=new Uint8Array(V.length);for(let _e=0;_e<V.length;++_e)q[_e]=V.charCodeAt(_e);return q}const jr="fcm_token_details_db",al="fcm_token_object_Store";function V2(E){return po.apply(this,arguments)}function po(){return po=(0,L.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(_e=>_e.name).includes(jr))return null;let S=null;return(yield(0,pe.openDb)(jr,5,function(){var V=(0,L.Z)(function*(q){var _e;if(q.oldVersion<2||!q.objectStoreNames.contains(al))return;const Pe=q.transaction.objectStore(al),Qe=yield Pe.index("fcmSenderId").get(E);if(yield Pe.clear(),Qe)if(2===q.oldVersion){const nt=Qe;if(!nt.auth||!nt.p256dh||!nt.endpoint)return;S={token:nt.fcmToken,createTime:null!==(_e=nt.createTime)&&void 0!==_e?_e:Date.now(),subscriptionOptions:{auth:nt.auth,p256dh:nt.p256dh,endpoint:nt.endpoint,swScope:nt.swScope,vapidKey:"string"==typeof nt.vapidKey?nt.vapidKey:ns(nt.vapidKey)}}}else if(3===q.oldVersion){const nt=Qe;S={token:nt.fcmToken,createTime:nt.createTime,subscriptionOptions:{auth:ns(nt.auth),p256dh:ns(nt.p256dh),endpoint:nt.endpoint,swScope:nt.swScope,vapidKey:ns(nt.vapidKey)}}}else if(4===q.oldVersion){const nt=Qe;S={token:nt.fcmToken,createTime:nt.createTime,subscriptionOptions:{auth:ns(nt.auth),p256dh:ns(nt.p256dh),endpoint:nt.endpoint,swScope:nt.swScope,vapidKey:ns(nt.vapidKey)}}}});return function(q){return V.apply(this,arguments)}}())).close(),yield(0,pe.deleteDb)(jr),yield(0,pe.deleteDb)("fcm_vapid_details_db"),yield(0,pe.deleteDb)("undefined"),cl(S)?S:null}),po.apply(this,arguments)}function cl(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:S}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const an="firebase-messaging-store";let Xa=null;function ta(){return Xa||(Xa=(0,pe.openDb)("firebase-messaging-database",1,E=>{0===E.oldVersion&&E.createObjectStore(an)})),Xa}function Nn(E){return mo.apply(this,arguments)}function mo(){return(mo=(0,L.Z)(function*(E){const S=Cs(E),V=yield(yield ta()).transaction(an).objectStore(an).get(S);if(V)return V;{const q=yield V2(E.appConfig.senderId);if(q)return yield go(E,q),q}})).apply(this,arguments)}function go(E,S){return Us.apply(this,arguments)}function Us(){return(Us=(0,L.Z)(function*(E,S){const N=Cs(E),q=(yield ta()).transaction(an,"readwrite");return yield q.objectStore(an).put(S,N),yield q.complete,S})).apply(this,arguments)}function Sr(E){return e1.apply(this,arguments)}function e1(){return(e1=(0,L.Z)(function*(E){const S=Cs(E),V=(yield ta()).transaction(an,"readwrite");yield V.objectStore(an).delete(S),yield V.complete})).apply(this,arguments)}function Cs({appConfig:E}){return E.appId}const cn=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function na(E,S){return ra.apply(this,arguments)}function ra(){return(ra=(0,L.Z)(function*(E,S){const N=yield aa(E),V=_o(S),q={method:"POST",headers:N,body:JSON.stringify(V)};let _e;try{_e=yield(yield fetch(vt(E.appConfig),q)).json()}catch(Pe){throw cn.create("token-subscribe-failed",{errorInfo:Pe})}if(_e.error)throw cn.create("token-subscribe-failed",{errorInfo:_e.error.message});if(!_e.token)throw cn.create("token-subscribe-no-token");return _e.token})).apply(this,arguments)}function ia(E,S){return hi.apply(this,arguments)}function hi(){return(hi=(0,L.Z)(function*(E,S){const N=yield aa(E),V=_o(S.subscriptionOptions),q={method:"PATCH",headers:N,body:JSON.stringify(V)};let _e;try{_e=yield(yield fetch(`${vt(E.appConfig)}/${S.token}`,q)).json()}catch(Pe){throw cn.create("token-update-failed",{errorInfo:Pe})}if(_e.error)throw cn.create("token-update-failed",{errorInfo:_e.error.message});if(!_e.token)throw cn.create("token-update-no-token");return _e.token})).apply(this,arguments)}function sa(E,S){return oa.apply(this,arguments)}function oa(){return(oa=(0,L.Z)(function*(E,S){const V={method:"DELETE",headers:yield aa(E)};try{const _e=yield(yield fetch(`${vt(E.appConfig)}/${S}`,V)).json();if(_e.error)throw cn.create("token-unsubscribe-failed",{errorInfo:_e.error.message})}catch(q){throw cn.create("token-unsubscribe-failed",{errorInfo:q})}})).apply(this,arguments)}function vt({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function aa(E){return vo.apply(this,arguments)}function vo(){return(vo=(0,L.Z)(function*({appConfig:E,installations:S}){const N=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function _o({p256dh:E,auth:S,endpoint:N,vapidKey:V}){const q={web:{endpoint:N,auth:S,p256dh:E}};return V!==Bs&&(q.web.applicationPubKey=V),q}const ll=6048e5;function t1(E){return H2.apply(this,arguments)}function H2(){return(H2=(0,L.Z)(function*(E){const S=yield rs(E.swRegistration,E.vapidKey),N={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:S.endpoint,auth:ns(S.getKey("auth")),p256dh:ns(S.getKey("p256dh"))},V=yield Nn(E.firebaseDependencies);if(V){if(n1(V.subscriptionOptions,N))return Date.now()>=V.createTime+ll?Kt(E,{token:V.token,createTime:Date.now(),subscriptionOptions:N}):V.token;try{yield sa(E.firebaseDependencies,V.token)}catch(q){console.warn(q)}return Fn(E.firebaseDependencies,N)}return Fn(E.firebaseDependencies,N)})).apply(this,arguments)}function Z1(E){return Le.apply(this,arguments)}function Le(){return(Le=(0,L.Z)(function*(E){const S=yield Nn(E.firebaseDependencies);S&&(yield sa(E.firebaseDependencies,S.token),yield Sr(E.firebaseDependencies));const N=yield E.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function Kt(E,S){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,L.Z)(function*(E,S){try{const N=yield ia(E.firebaseDependencies,S),V=Object.assign(Object.assign({},S),{token:N,createTime:Date.now()});return yield go(E.firebaseDependencies,V),N}catch(N){throw yield Z1(E),N}})).apply(this,arguments)}function Fn(E,S){return B2.apply(this,arguments)}function B2(){return(B2=(0,L.Z)(function*(E,S){const V={token:yield na(E,S),createTime:Date.now(),subscriptionOptions:S};return yield go(E,V),V.token})).apply(this,arguments)}function rs(E,S){return qr.apply(this,arguments)}function qr(){return(qr=(0,L.Z)(function*(E,S){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ja(S)})})).apply(this,arguments)}function n1(E,S){return S.vapidKey===E.vapidKey&&S.endpoint===E.endpoint&&S.auth===E.auth&&S.p256dh===E.p256dh}function r1(E){const S={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function(E,S){if(!S.notification)return;E.notification={};const N=S.notification.title;N&&(E.notification.title=N);const V=S.notification.body;V&&(E.notification.body=V);const q=S.notification.image;q&&(E.notification.image=q)}(S,E),function(E,S){!S.data||(E.data=S.data)}(S,E),function(E,S){if(!S.fcmOptions)return;E.fcmOptions={};const N=S.fcmOptions.link;N&&(E.fcmOptions.link=N);const V=S.fcmOptions.analytics_label;V&&(E.fcmOptions.analyticsLabel=V)}(S,E),S}function s1(E){return"object"==typeof E&&!!E&&ea in E}function ur(E,S){const N=[];for(let V=0;V<E.length;V++)N.push(E.charAt(V)),V<S.length&&N.push(S.charAt(V));return N.join("")}function yo(E){return cn.create("missing-app-config-values",{valueName:E})}ur("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ur("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ca{constructor(S,N,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function(E){if(!E||!E.options)throw yo("App Configuration Object");if(!E.name)throw yo("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:N}=E;for(const V of S)if(!N[V])throw yo(V);return{appName:E.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:q,installations:N,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Ei(E){return j2.apply(this,arguments)}function j2(){return(j2=(0,L.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Ka,{scope:U1}),E.swRegistration.update().catch(()=>{})}catch(S){throw cn.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function G1(E,S){return Z2.apply(this,arguments)}function Z2(){return(Z2=(0,L.Z)(function*(E,S){if(!S&&!E.swRegistration&&(yield Ei(E)),S||!E.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw cn.create("invalid-sw-registration");E.swRegistration=S}})).apply(this,arguments)}function q2(E,S){return o1.apply(this,arguments)}function o1(){return(o1=(0,L.Z)(function*(E,S){S?E.vapidKey=S:E.vapidKey||(E.vapidKey=Bs)})).apply(this,arguments)}function W1(){return(W1=(0,L.Z)(function*(E,S){if(!navigator)throw cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw cn.create("permission-blocked");return yield q2(E,null==S?void 0:S.vapidKey),yield G1(E,null==S?void 0:S.serviceWorkerRegistration),t1(E)})).apply(this,arguments)}function ua(E,S,N){return ul.apply(this,arguments)}function ul(){return(ul=(0,L.Z)(function*(E,S,N){const V=hl(S);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:N[ea],message_name:N[ol],message_time:N[Ya],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function hl(E){switch(E){case fo.NOTIFICATION_CLICKED:return"notification_open";case fo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function a1(){return(a1=(0,L.Z)(function*(E,S){const N=S.data;if(!N.isFirebaseMessaging)return;E.onMessageHandler&&N.messageType===fo.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(r1(N)):E.onMessageHandler.next(r1(N)));const V=N.data;s1(V)&&"1"===V[F2]&&(yield ua(E,N.messageType,V))})).apply(this,arguments)}const G2="@firebase/messaging";function K2(){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,L.Z)(function*(){return"undefined"!=typeof window&&(0,fe.hl)()&&(yield(0,fe.eu)())&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,he._registerComponent)(new we.wA("messaging",E=>{const S=new ca(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function(E,S){return a1.apply(this,arguments)}(S,N)),S},"PUBLIC")),(0,he._registerComponent)(new we.wA("messaging-internal",E=>{const S=E.getProvider("messaging").getImmediate();return{getToken:V=>function(E,S){return W1.apply(this,arguments)}(S,V)}},"PRIVATE")),(0,he.registerVersion)(G2,"0.9.6"),(0,he.registerVersion)(G2,"0.9.6","esm2017");const Ws="analytics",is="firebase_id",Z4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pl="https://www.googletagmanager.com/gtag/js",Hn=new se.Yd("@firebase/analytics");function Co(E){return Promise.all(E.map(S=>S.catch(N=>N)))}function ml(E,S){const N=document.createElement("script");N.src=`${pl}?l=${E}&id=${S}`,N.async=!0,document.head.appendChild(N)}function bo(E,S,N,V,q,_e){return l1.apply(this,arguments)}function l1(){return(l1=(0,L.Z)(function*(E,S,N,V,q,_e){const Pe=V[q];try{if(Pe)yield S[Pe];else{const nt=(yield Co(N)).find(Yt=>Yt.measurementId===q);nt&&(yield S[nt.appId])}}catch(Qe){Hn.error(Qe)}E("config",q,_e)})).apply(this,arguments)}function K1(E,S,N,V,q){return Y2.apply(this,arguments)}function Y2(){return(Y2=(0,L.Z)(function*(E,S,N,V,q){try{let _e=[];if(q&&q.send_to){let Pe=q.send_to;Array.isArray(Pe)||(Pe=[Pe]);const Qe=yield Co(N);for(const nt of Pe){const Yt=Qe.find(Or=>Or.measurementId===nt),hn=Yt&&S[Yt.appId];if(!hn){_e=[];break}_e.push(hn)}}0===_e.length&&(_e=Object.values(S)),yield Promise.all(_e),E("event",V,q||{})}catch(_e){Hn.error(_e)}})).apply(this,arguments)}function bn(){const E=window.document.getElementsByTagName("script");for(const S of Object.values(E))if(S.src&&S.src.includes(pl))return S;return null}const tt=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),wo=new class{constructor(S={},N=1e3){this.throttleMetadata=S,this.intervalMillis=N}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,N){this.throttleMetadata[S]=N}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function rr(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function da(E){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,L.Z)(function*(E){var S;const{appId:N,apiKey:V}=E,q={method:"GET",headers:rr(V)},_e=Z4.replace("{app-id}",N),Pe=yield fetch(_e,q);if(200!==Pe.status&&304!==Pe.status){let Qe="";try{const nt=yield Pe.json();(null===(S=nt.error)||void 0===S?void 0:S.message)&&(Qe=nt.error.message)}catch(nt){}throw tt.create("config-fetch-failed",{httpStatus:Pe.status,responseMessage:Qe})}return Pe.json()})).apply(this,arguments)}function u1(E){return Y1.apply(this,arguments)}function Y1(){return(Y1=(0,L.Z)(function*(E,S=wo,N){const{appId:V,apiKey:q,measurementId:_e}=E.options;if(!V)throw tt.create("no-app-id");if(!q){if(_e)return{measurementId:_e,appId:V};throw tt.create("no-api-key")}const Pe=S.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qe=new ss;return setTimeout((0,L.Z)(function*(){Qe.abort()}),void 0!==N?N:6e4),Eo({appId:V,apiKey:q,measurementId:_e},Pe,Qe,S)})).apply(this,arguments)}function Eo(E,S,N){return wt.apply(this,arguments)}function wt(){return(wt=(0,L.Z)(function*(E,{throttleEndTimeMillis:S,backoffCount:N},V,q=wo){const{appId:_e,measurementId:Pe}=E;try{yield gl(V,S)}catch(Qe){if(Pe)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pe} provided in the "measurementId" field in the local Firebase config. [${Qe.message}]`),{appId:_e,measurementId:Pe};throw Qe}try{const Qe=yield da(E);return q.deleteThrottleMetadata(_e),Qe}catch(Qe){if(!G4(Qe)){if(q.deleteThrottleMetadata(_e),Pe)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pe} provided in the "measurementId" field in the local Firebase config. [${Qe.message}]`),{appId:_e,measurementId:Pe};throw Qe}const nt=503===Number(Qe.customData.httpStatus)?(0,fe.$s)(N,q.intervalMillis,30):(0,fe.$s)(N,q.intervalMillis),Yt={throttleEndTimeMillis:Date.now()+nt,backoffCount:N+1};return q.setThrottleMetadata(_e,Yt),Hn.debug(`Calling attemptFetch again in ${nt} millis`),Eo(E,Yt,V,q)}})).apply(this,arguments)}function gl(E,S){return new Promise((N,V)=>{const q=Math.max(S-Date.now(),0),_e=setTimeout(N,q);E.addEventListener(()=>{clearTimeout(_e),V(tt.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function G4(E){if(!(E instanceof fe.ZR&&E.customData))return!1;const S=Number(E.customData.httpStatus);return 429===S||500===S||503===S||504===S}class ss{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function h1(){return xn.apply(this,arguments)}function xn(){return(xn=(0,L.Z)(function*(){if(!(0,fe.hl)())return Hn.warn(tt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(E){return Hn.warn(tt.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function fa(){return(fa=(0,L.Z)(function*(E,S,N,V,q,_e,Pe){var Qe;const nt=u1(E);nt.then(dn=>{N[dn.measurementId]=dn.appId,E.options.measurementId&&dn.measurementId!==E.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${dn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(dn=>Hn.error(dn)),S.push(nt);const Yt=h1().then(dn=>{if(dn)return V.getId()}),[hn,Or]=yield Promise.all([nt,Yt]);bn()||ml(_e,hn.measurementId),q("js",new Date);const Xn=null!==(Qe=null==Pe?void 0:Pe.config)&&void 0!==Qe?Qe:{};return Xn.origin="firebase",Xn.update=!0,null!=Or&&(Xn[is]=Or),q("config",hn.measurementId,Xn),hn.measurementId})).apply(this,arguments)}class Q2{constructor(S){this.app=S}_delete(){return delete Ai[this.app.options.appId],Promise.resolve()}}let Ai={},d1=[];const pa={};let Q1,Gr,os="dataLayer",$s=!1;function xr(E,S,N){!function(){const E=[];if((0,fe.ru)()&&E.push("This is a browser extension environment."),(0,fe.zI)()||E.push("Cookies are not available."),E.length>0){const S=E.map((V,q)=>`(${q+1}) ${V}`).join(" "),N=tt.create("invalid-analytics-context",{errorInfo:S});Hn.warn(N.message)}}();const V=E.options.appId;if(!V)throw tt.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw tt.create("no-api-key");Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ai[V])throw tt.create("already-exists",{id:V});if(!$s){!function(E){let S=[];Array.isArray(window[E])?S=window[E]:window[E]=S}(os);const{wrappedGtag:_e,gtagCore:Pe}=function(E,S,N,V,q){let _e=function(...Pe){window[V].push(arguments)};return window[q]&&"function"==typeof window[q]&&(_e=window[q]),window[q]=function(E,S,N,V){function _e(){return(_e=(0,L.Z)(function*(Pe,Qe,nt){try{"event"===Pe?yield K1(E,S,N,Qe,nt):"config"===Pe?yield bo(E,S,N,V,Qe,nt):E("set",Qe)}catch(Yt){Hn.error(Yt)}})).apply(this,arguments)}return function(Pe,Qe,nt){return _e.apply(this,arguments)}}(_e,E,S,N),{gtagCore:_e,wrappedGtag:window[q]}}(Ai,d1,pa,os,"gtag");Gr=_e,Q1=Pe,$s=!0}return Ai[V]=function(E,S,N,V,q,_e,Pe){return fa.apply(this,arguments)}(E,d1,pa,S,Q1,os,N),new Q2(E)}function ga(){return(ga=(0,L.Z)(function*(E,S,N,V,q){if(q&&q.global)E("event",N,V);else{const _e=yield S;E("event",N,Object.assign(Object.assign({},V),{send_to:_e}))}})).apply(this,arguments)}function On(){return J1.apply(this,arguments)}function J1(){return(J1=(0,L.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(E){return!1}})).apply(this,arguments)}const vl="@firebase/analytics";(0,he._registerComponent)(new we.wA(Ws,(S,{options:N})=>xr(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,he._registerComponent)(new we.wA("analytics-internal",function(S){try{const N=S.getProvider(Ws).getImmediate();return{logEvent:(V,q,_e)=>function(E,S,N,V){E=(0,fe.m9)(E),function(E,S,N,V,q){return ga.apply(this,arguments)}(Gr,Ai[E.app.options.appId],S,N,V).catch(q=>Hn.error(q))}(N,V,q,_e)}}catch(N){throw tt.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,he.registerVersion)(vl,"0.7.5"),(0,he.registerVersion)(vl,"0.7.5","esm2017");var Bn=R(4408),f1=R(7565);const W4=new class extends f1.v{}(class extends Bn.o{constructor(S,N){super(S,N),this.scheduler=S,this.work=N}schedule(S,N=0){return N>0?super.schedule(S,N):(this.delay=N,this.state=S,this.scheduler.flush(this),this)}execute(S,N){return N>0||this.closed?super.execute(S,N):this._execute(S,N)}requestAsyncId(S,N,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(S,N,V):S.flush(this)}});var mi=R(4986),p1=R(8306),m1=R(8505),ws=R(9468),X2=R(5363);const Do=new c.GfV("7.2.0"),yl="__angularfire_symbol__analyticsIsSupported",zt="__angularfire_symbol__remoteConfigIsSupported",Bi="__angularfire_symbol__messagingIsSupported";function tc(E,S,N){if(S){if(1===S.length)return S[0];const _e=S.filter(Pe=>Pe.app===N);if(1===_e.length)return _e[0]}return N.container.getProvider(E).getImmediate({optional:!0})}globalThis[yl]||(globalThis[yl]=On().then(E=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=E)),globalThis[Bi]||(globalThis[Bi]=K2().then(E=>globalThis.__angularfire_symbol__messagingIsSupportedValue=E)),globalThis[zt]||(globalThis[zt]=$a().then(E=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=E));const cs=(E,S)=>{const N=S?[S]:(0,B.C6)(),V=[];return N.forEach(q=>{q.container.getProvider(E).instances.forEach(Pe=>{V.includes(Pe)||V.push(Pe)})}),V};function Es(){}class g1{constructor(S,N=W4){this.zone=S,this.delegate=N}now(){return this.delegate.now()}schedule(S,N,V){const q=this.zone;return this.delegate.schedule(function(Pe){q.runGuarded(()=>{S.apply(this,[Pe])})},N,V)}}class nc{constructor(S){this.zone=S,this.task=null}call(S,N){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Es,{},Es,Es)),N.pipe((0,m1.b)({next:V,complete:V,error:V})).subscribe(S).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let v1=(()=>{class E{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new g1(Zone.current)),this.insideAngular=N.run(()=>new g1(Zone.current,mi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(N){return new(N||E)(c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function wn(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function As(E){return wn().ngZone.runOutsideAngular(()=>E())}function gi(E){return wn().ngZone.run(()=>E())}function rc(E){return wn(),function(E){return function(N){return(N=N.lift(new nc(E.ngZone))).pipe((0,ws.R)(E.outsideAngular),(0,X2.Q)(E.insideAngular))}}(wn())(E)}const ic=(E,S)=>{const N=void 0;return function(){return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),gi(()=>E.apply(N,arguments))}},wl=(E,S)=>function(){let N;for(let q=0;q<arguments.length;q++)"function"==typeof arguments[q]&&(S&&(N||(N=gi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Es,{},Es,Es)))),arguments[q]=ic(arguments[q],N));const V=As(()=>E.apply(this,arguments));if(!S){if(V instanceof p1.y){const q=wn();return V.pipe((0,ws.R)(q.outsideAngular),(0,X2.Q)(q.insideAngular))}return gi(()=>V)}return V instanceof p1.y?V.pipe(rc):V instanceof Promise?gi(()=>new Promise((q,_e)=>V.then(Pe=>gi(()=>q(Pe)),Pe=>gi(()=>_e(Pe))))):"function"==typeof V&&N?function(){return setTimeout(()=>{N&&"scheduled"===N.state&&N.invoke()},10),V.apply(this,arguments)}:gi(()=>V)}},4074:(ht,Te,R)=>{"use strict";R.d(Te,{$:()=>ll,A:()=>W,E:()=>Xe,G:()=>Sn,I:()=>ys,K:()=>mr,L:()=>$a,M:()=>Bs,N:()=>z2,P:()=>X2,Q:()=>ea,R:()=>vl,T:()=>U1,U:()=>Qa,V:()=>fo,W:()=>al,X:()=>Cs,Y:()=>cn,Z:()=>ra,_:()=>oa,a:()=>tt,a0:()=>H2,a1:()=>Le,a2:()=>Zs,a3:()=>B2,a4:()=>qr,a5:()=>r1,a6:()=>Xu,a7:()=>q1,a8:()=>s1,a9:()=>ca,aA:()=>hn,aB:()=>rc,aC:()=>gr,aG:()=>jn,aJ:()=>Ya,aa:()=>j2,ab:()=>Z2,ae:()=>W1,af:()=>ul,ag:()=>hl,aj:()=>U4,ak:()=>Gs,am:()=>fl,an:()=>n6,ao:()=>yn,ap:()=>F,aq:()=>fn,ar:()=>$t,as:()=>Me,at:()=>r0,au:()=>To,av:()=>Ce,aw:()=>le,ax:()=>G,ay:()=>jt,az:()=>Si,b:()=>bn,c:()=>$4,d:()=>cs,e:()=>i6,f:()=>wl,g:()=>_e,h:()=>N,i:()=>ma,j:()=>nt,k:()=>r2,l:()=>f1,m:()=>a6,o:()=>pe,r:()=>W4,s:()=>Bn,u:()=>m1,z:()=>ke});var c=R(5861),B=R(2090),L=R(9681),he=R(655),fe=R(1877),we=R(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ze=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Be=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),re=new fe.Yd("@firebase/auth");function me(y,...m){re.logLevel<=fe.in.ERROR&&re.error(`Auth (${L.SDK_VERSION}): ${y}`,...m)}function Me(y,...m){throw We(y,...m)}function Ce(y,...m){return We(y,...m)}function Ge(y,m,g){const w=Object.assign(Object.assign({},Ze()),{[m]:g});return new B.LL("auth","Firebase",w).create(m,{appName:y.name})}function Ne(y,m,g){if(!(m instanceof g))throw g.name!==m.constructor.name&&Me(y,"argument-error"),Ge(y,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(y,...m){if("string"!=typeof y){const g=m[0],w=[...m.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return Be.create(y,...m)}function le(y,m,...g){if(!y)throw We(m,...g)}function it(y){const m="INTERNAL ASSERTION FAILED: "+y;throw me(m),new Error(m)}function F(y,m){y||it(m)}const U=new Map;function G(y){F(y instanceof Function,"Expected a class definition");let m=U.get(y);return m?(F(m instanceof y,"Instance stored in cache mismatched with class"),m):(m=new y,U.set(y,m),m)}function Y(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function He(){return"http:"===yt()||"https:"===yt()}function yt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class lt{constructor(m,g){this.shortDelay=m,this.longDelay=g,F(g>m,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(He()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Mt(y,m){F(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return m?`${g}${m.startsWith("/")?m.slice(1):m}`:g}class Lt{static initialize(m,g,w){this.fetchImpl=m,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void it("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void it("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void it("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tr=new lt(3e4,6e4);function Et(y,m){return y.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:y.tenantId}):m}function En(y,m,g,w){return An.apply(this,arguments)}function An(){return(An=(0,c.Z)(function*(y,m,g,w,I={}){return Oi(y,I,(0,c.Z)(function*(){let O={},ae={};w&&("GET"===m?ae=w:O={body:JSON.stringify(w)});const Re=(0,B.xO)(Object.assign({key:y.config.apiKey},ae)).slice(1),ut=yield y._getAdditionalHeaders();return ut["Content-Type"]="application/json",y.languageCode&&(ut["X-Firebase-Locale"]=y.languageCode),Lt.fetch()(Ji(y,y.config.apiHost,g,Re),Object.assign({method:m,headers:ut,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Oi(y,m,g){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(y,m,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},zn),m);try{const I=new bi(y),O=yield Promise.race([g(),I.promise]);I.clearNetworkTimeout();const ae=yield O.json();if("needConfirmation"in ae)throw Yn(y,"account-exists-with-different-credential",ae);if(O.ok&&!("errorMessage"in ae))return ae;{const Re=O.ok?ae.errorMessage:ae.error.message,[ut,xt]=Re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ut)throw Yn(y,"credential-already-in-use",ae);if("EMAIL_EXISTS"===ut)throw Yn(y,"email-already-in-use",ae);const Ft=w[ut]||ut.toLowerCase().replace(/[_\s]+/g,"-");if(xt)throw Ge(y,Ft,xt);Me(y,Ft)}}catch(I){if(I instanceof B.ZR)throw I;Me(y,"network-request-failed")}})).apply(this,arguments)}function Mr(y,m,g,w){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(y,m,g,w,I={}){const O=yield En(y,m,g,w,I);return"mfaPendingCredential"in O&&Me(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Ji(y,m,g,w){const I=`${m}${g}?${w}`;return y.config.emulator?Mt(y.config,I):`${y.config.apiScheme}://${I}`}class bi{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Ce(this.auth,"timeout")),tr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yn(y,m,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const I=Ce(y,m,w);return I.customData._tokenResponse=g,I}function oi(){return(oi=(0,c.Z)(function*(y,m){return En(y,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function gt(y,m){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,c.Z)(function*(y,m){return En(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function pr(y,m){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(y,m){return En(y,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function mt(y){if(y)try{const m=new Date(Number(y));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function Ut(){return(Ut=(0,c.Z)(function*(y,m=!1){const g=(0,B.m9)(y),w=yield g.getIdToken(m),I=rn(w);le(I&&I.exp&&I.auth_time&&I.iat,g.auth,"internal-error");const O="object"==typeof I.firebase?I.firebase:void 0,ae=null==O?void 0:O.sign_in_provider;return{claims:I,token:w,authTime:mt(lr(I.auth_time)),issuedAtTime:mt(lr(I.iat)),expirationTime:mt(lr(I.exp)),signInProvider:ae||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function lr(y){return 1e3*Number(y)}function rn(y){const[m,g,w]=y.split(".");if(void 0===m||void 0===g||void 0===w)return me("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,B.tV)(g);return I?JSON.parse(I):(me("Failed to decode base64 JWT payload"),null)}catch(I){return me("Caught error parsing JWT payload as JSON",I),null}}function at(y,m){return co.apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(y,m,g=!1){if(g)return m;try{return yield m}catch(w){throw w instanceof B.ZR&&Xi(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Xi({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class ai{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var g;if(m){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const I=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(m=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(m);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),w)}iteration(){var m=this;return(0,c.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&m.schedule(!0))}m.schedule()})()}}class sn{constructor(m,g){this.createdAt=m,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=mt(this.lastLoginAt),this.creationTime=mt(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function on(y){return zs.apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(y){var m;const g=y.auth,w=yield y.getIdToken(),I=yield at(y,pr(g,{idToken:w}));le(null==I?void 0:I.users.length,g,"internal-error");const O=I.users[0];y._notifyReloadListener(O);const ae=(null===(m=O.providerUserInfo)||void 0===m?void 0:m.length)?Se(O.providerUserInfo):[],Re=ee(y.providerData,ae),Ft=!!y.isAnonymous&&!(y.email&&O.passwordHash||(null==Re?void 0:Re.length)),Gn={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:Re,metadata:new sn(O.createdAt,O.lastLoginAt),isAnonymous:Ft};Object.assign(y,Gn)})).apply(this,arguments)}function j(){return(j=(0,c.Z)(function*(y){const m=(0,B.m9)(y);yield on(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function ee(y,m){return[...y.filter(w=>!m.some(I=>I.providerId===w.providerId)),...m]}function Se(y){return y.map(m=>{var{providerId:g}=m,w=(0,he._T)(m,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function rt(){return(rt=(0,c.Z)(function*(y,m){const g=yield Oi(y,{},(0,c.Z)(function*(){const w=(0,B.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:I,apiKey:O}=y.config,ae=Ji(y,I,"/v1/token",`key=${O}`),Re=yield y._getAdditionalHeaders();return Re["Content-Type"]="application/x-www-form-urlencoded",Lt.fetch()(ae,{method:"POST",headers:Re,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class dt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){le(m.idToken,"internal-error"),le(void 0!==m.idToken,"internal-error"),le(void 0!==m.refreshToken,"internal-error");const g="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function(y){const m=rn(y);return le(m,"internal-error"),le(void 0!==m.exp,"internal-error"),le(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,g)}getToken(m,g=!1){var w=this;return(0,c.Z)(function*(){return le(!w.accessToken||w.refreshToken,m,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(m,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,g){var w=this;return(0,c.Z)(function*(){const{accessToken:I,refreshToken:O,expiresIn:ae}=yield function(y,m){return rt.apply(this,arguments)}(m,g);w.updateTokensAndExpiration(I,O,Number(ae))})()}updateTokensAndExpiration(m,g,w){this.refreshToken=g||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(m,g){const{refreshToken:w,accessToken:I,expirationTime:O}=g,ae=new dt;return w&&(le("string"==typeof w,"internal-error",{appName:m}),ae.refreshToken=w),I&&(le("string"==typeof I,"internal-error",{appName:m}),ae.accessToken=I),O&&(le("number"==typeof O,"internal-error",{appName:m}),ae.expirationTime=O),ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new dt,this.toJSON())}_performRefresh(){return it("not implemented")}}function qt(y,m){le("string"==typeof y||void 0===y,"internal-error",{appName:m})}class Tn{constructor(m){var{uid:g,auth:w,stsTokenManager:I}=m,O=(0,he._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.metadata=new sn(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(m){var g=this;return(0,c.Z)(function*(){const w=yield at(g,g.stsTokenManager.getToken(g.auth,m));return le(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(m){return function(y){return Ut.apply(this,arguments)}(this,m)}reload(){return function(y){return j.apply(this,arguments)}(this)}_assign(m){this!==m&&(le(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(g=>Object.assign({},g)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Tn(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,g=!1){var w=this;return(0,c.Z)(function*(){let I=!1;m.idToken&&m.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(m),I=!0),g&&(yield on(w)),yield w.auth._persistUserIfCurrent(w),I&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var m=this;return(0,c.Z)(function*(){const g=yield m.getIdToken();return yield at(m,function(y,m){return oi.apply(this,arguments)}(m.auth,{idToken:g})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,g){var w,I,O,ae,Re,ut,xt,Ft;const Gn=null!==(w=g.displayName)&&void 0!==w?w:void 0,Tr=null!==(I=g.email)&&void 0!==I?I:void 0,Xs=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,s2=null!==(ae=g.photoURL)&&void 0!==ae?ae:void 0,Th=null!==(Re=g.tenantId)&&void 0!==Re?Re:void 0,l6=null!==(ut=g._redirectEventId)&&void 0!==ut?ut:void 0,y1=null!==(xt=g.createdAt)&&void 0!==xt?xt:void 0,o2=null!==(Ft=g.lastLoginAt)&&void 0!==Ft?Ft:void 0,{uid:o0,emailVerified:a2,isAnonymous:Al,providerData:Sl,stsTokenManager:c2}=g;le(o0&&c2,m,"internal-error");const a0=dt.fromJSON(this.name,c2);le("string"==typeof o0,m,"internal-error"),qt(Gn,m.name),qt(Tr,m.name),le("boolean"==typeof a2,m,"internal-error"),le("boolean"==typeof Al,m,"internal-error"),qt(Xs,m.name),qt(s2,m.name),qt(Th,m.name),qt(l6,m.name),qt(y1,m.name),qt(o2,m.name);const hc=new Tn({uid:o0,auth:m,email:Tr,emailVerified:a2,displayName:Gn,isAnonymous:Al,photoURL:s2,phoneNumber:Xs,tenantId:Th,stsTokenManager:a0,createdAt:y1,lastLoginAt:o2});return Sl&&Array.isArray(Sl)&&(hc.providerData=Sl.map(Ih=>Object.assign({},Ih))),l6&&(hc._redirectEventId=l6),hc}static _fromIdTokenResponse(m,g,w=!1){return(0,c.Z)(function*(){const I=new dt;I.updateFromServerResponse(g);const O=new Tn({uid:g.localId,auth:m,stsTokenManager:I,isAnonymous:w});return yield on(O),O})()}}const mr=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,w){var I=this;return(0,c.Z)(function*(){I.storage[g]=w})()}_get(g){var w=this;return(0,c.Z)(function*(){const I=w.storage[g];return void 0===I?null:I})()}_remove(g){var w=this;return(0,c.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function jt(y,m,g){return`firebase:${y}:${m}:${g}`}class ue{constructor(m,g,w){this.persistence=m,this.auth=g,this.userKey=w;const{config:I,name:O}=this.auth;this.fullUserKey=jt(this.userKey,I.apiKey,O),this.fullPersistenceKey=jt("persistence",I.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,c.Z)(function*(){const g=yield m.persistence._get(m.fullUserKey);return g?Tn._fromJSON(m.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var g=this;return(0,c.Z)(function*(){if(g.persistence===m)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=m,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,g,w="authUser"){return(0,c.Z)(function*(){if(!g.length)return new ue(G(mr),m,w);const I=(yield Promise.all(g.map(function(){var xt=(0,c.Z)(function*(Ft){if(yield Ft._isAvailable())return Ft});return function(Ft){return xt.apply(this,arguments)}}()))).filter(xt=>xt);let O=I[0]||G(mr);const ae=jt(w,m.config.apiKey,m.name);let Re=null;for(const xt of g)try{const Ft=yield xt._get(ae);if(Ft){const Gn=Tn._fromJSON(m,Ft);xt!==O&&(Re=Gn),O=xt;break}}catch(Ft){}const ut=I.filter(xt=>xt._shouldAllowMigration);return O._shouldAllowMigration&&ut.length?(O=ut[0],Re&&(yield O._set(ae,Re.toJSON())),yield Promise.all(g.map(function(){var xt=(0,c.Z)(function*(Ft){if(Ft!==O)try{yield Ft._remove(ae)}catch(Gn){}});return function(Ft){return xt.apply(this,arguments)}}())),new ue(O,m,w)):new ue(O,m,w)})()}}function te(y){const m=y.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Rt(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(J(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(It(m))return"Blackberry";if(_n(m))return"Webos";if(De(m))return"Safari";if((m.includes("chrome/")||Ye(m))&&!m.includes("edge/"))return"Chrome";if($t(m))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function J(y=(0,B.z$)()){return/firefox\//i.test(y)}function De(y=(0,B.z$)()){const m=y.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ye(y=(0,B.z$)()){return/crios\//i.test(y)}function Rt(y=(0,B.z$)()){return/iemobile/i.test(y)}function $t(y=(0,B.z$)()){return/android/i.test(y)}function It(y=(0,B.z$)()){return/blackberry/i.test(y)}function _n(y=(0,B.z$)()){return/webos/i.test(y)}function fn(y=(0,B.z$)()){return/iphone|ipad|ipod/i.test(y)}function yn(y=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}function es(y=(0,B.z$)()){return fn(y)||$t(y)||_n(y)||It(y)||/windows phone/i.test(y)||Rt(y)}function Fs(y,m=[]){let g;switch(y){case"Browser":g=te((0,B.z$)());break;case"Worker":g=`${te((0,B.z$)())}-${y}`;break;default:g=y}const w=m.length?m.join(","):"FirebaseCore-web";return`${g}/JsCore/${L.SDK_VERSION}/${w}`}class Qn{constructor(m,g){this.app=m,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ci(this),this.idTokenSubscription=new ci(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Be,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(m,g){var w=this;return g&&(this._popupRedirectResolver=G(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var I,O;if(!w._deleted&&(w.persistenceManager=yield ue.create(w,m),!w._deleted)){if(null===(I=w._popupRedirectResolver)||void 0===I?void 0:I._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(ae){}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,c.Z)(function*(){if(m._deleted)return;const g=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||g){if(m.currentUser&&g&&m.currentUser.uid===g.uid)return m._currentUser._assign(g),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(g)}})()}initializeCurrentUser(m){var g=this;return(0,c.Z)(function*(){var w;let I=yield g.assertedPersistence.getCurrentUser();if(m&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const O=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,ae=null==I?void 0:I._redirectEventId,Re=yield g.tryRedirectSignIn(m);(!O||O===ae)&&(null==Re?void 0:Re.user)&&(I=Re.user)}return I?I._redirectEventId?(le(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===I._redirectEventId?g.directlySetCurrentUser(I):g.reloadAndSetCurrentUserOrClear(I)):g.reloadAndSetCurrentUserOrClear(I):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var g=this;return(0,c.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,m,!0)}catch(I){yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(m){var g=this;return(0,c.Z)(function*(){try{yield on(m)}catch(w){if("auth/network-request-failed"!==w.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var m=this;return(0,c.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var g=this;return(0,c.Z)(function*(){const w=m?(0,B.m9)(m):null;return w&&le(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(m){var g=this;return(0,c.Z)(function*(){if(!g._deleted)return m&&le(g.tenantId===m.tenantId,g,"tenant-id-mismatch"),g.queue((0,c.Z)(function*(){yield g.directlySetCurrentUser(m),g.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,c.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(G(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new B.LL("auth","Firebase",m())}onAuthStateChanged(m,g,w){return this.registerStateListener(this.authStateSubscription,m,g,w)}onIdTokenChanged(m,g,w){return this.registerStateListener(this.idTokenSubscription,m,g,w)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,g){var w=this;return(0,c.Z)(function*(){const I=yield w.getOrInitRedirectPersistenceManager(g);return null===m?I.removeCurrentUser():I.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const w=m&&G(m)||g._popupRedirectResolver;le(w,g,"argument-error"),g.redirectPersistenceManager=yield ue.create(g,[G(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(m){var g=this;return(0,c.Z)(function*(){var w,I;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===m?g._currentUser:(null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId)===m?g.redirectUser:null})()}_persistUserIfCurrent(m){var g=this;return(0,c.Z)(function*(){if(m===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,g,w,I){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),ae=this._isInitialized?Promise.resolve():this._initializationPromise;return le(ae,this,"internal-error"),ae.then(()=>O(this.currentUser)),"function"==typeof g?m.addObserver(g,w,I):m.addObserver(g)}directlySetCurrentUser(m){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==m&&(g._currentUser._stopProactiveRefresh(),m&&g.isProactiveRefreshEnabled&&m._startProactiveRefresh()),g.currentUser=m,m?yield g.assertedPersistence.setCurrentUser(m):yield g.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Fs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,c.Z)(function*(){const g={"X-Client-Version":m.clientVersion};return m.app.options.appId&&(g["X-Firebase-gmpid"]=m.app.options.appId),g})()}}function gr(y){return(0,B.m9)(y)}class ci{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,B.ne)(g=>this.observer=g)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xe(y,m,g){const w=gr(y);le(w._canInitEmulator,w,"emulator-config-failed"),le(/^https?:\/\//.test(m),w,"invalid-emulator-scheme");const I=!!(null==g?void 0:g.disableWarnings),O=Pt(m),{host:ae,port:Re}=function(y){const m=Pt(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(m.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(w);if(I){const O=I[1];return{host:O,port:Er(w.substr(O.length+1))}}{const[O,ae]=w.split(":");return{host:O,port:Er(ae)}}}(m);w.config.emulator={url:`${O}//${ae}${null===Re?"":`:${Re}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:ae,port:Re,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function(){function y(){const m=document.createElement("p"),g=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}function Pt(y){const m=y.indexOf(":");return m<0?"":y.substr(0,m+1)}function Er(y){if(!y)return null;const m=Number(y);return isNaN(m)?null:m}class Sn{constructor(m,g){this.providerId=m,this.signInMethod=g}toJSON(){return it("not implemented")}_getIdTokenResponse(m){return it("not implemented")}_linkToIdToken(m,g){return it("not implemented")}_getReauthenticationResolver(m){return it("not implemented")}}function wi(y,m){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(y,m){return En(y,"POST","/v1/accounts:resetPassword",Et(y,m))})).apply(this,arguments)}function nr(y,m){return lo.apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(y,m){return En(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ot(y,m){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(y,m){return En(y,"POST","/v1/accounts:update",Et(y,m))})).apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(y,m){return Mr(y,"POST","/v1/accounts:signInWithPassword",Et(y,m))})).apply(this,arguments)}function vr(y,m){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(y,m){return En(y,"POST","/v1/accounts:sendOobCode",Et(y,m))})).apply(this,arguments)}function H1(y,m){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,c.Z)(function*(y,m){return vr(y,m)})).apply(this,arguments)}function zi(y,m){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(y,m){return vr(y,m)})).apply(this,arguments)}function Wa(y,m){return B1.apply(this,arguments)}function B1(){return(B1=(0,c.Z)(function*(y,m){return vr(y,m)})).apply(this,arguments)}function _s(y,m){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,c.Z)(function*(y,m){return vr(y,m)})).apply(this,arguments)}function ts(){return(ts=(0,c.Z)(function*(y,m){return Mr(y,"POST","/v1/accounts:signInWithEmailLink",Et(y,m))})).apply(this,arguments)}function li(){return(li=(0,c.Z)(function*(y,m){return Mr(y,"POST","/v1/accounts:signInWithEmailLink",Et(y,m))})).apply(this,arguments)}class Jo extends Sn{constructor(m,g,w,I=null){super("password",w),this._email=m,this._password=g,this._tenantId=I}static _fromEmailAndPassword(m,g){return new Jo(m,g,"password")}static _fromEmailAndCode(m,g,w=null){return new Jo(m,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(m){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function(y,m){return Ga.apply(this,arguments)}(m,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(y,m){return ts.apply(this,arguments)}(m,{email:g._email,oobCode:g._password});default:Me(m,"internal-error")}})()}_linkToIdToken(m,g){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return nr(m,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(y,m){return li.apply(this,arguments)}(m,{idToken:g,email:w._email,oobCode:w._password});default:Me(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function ho(y,m){return ui.apply(this,arguments)}function ui(){return(ui=(0,c.Z)(function*(y,m){return Mr(y,"POST","/v1/accounts:signInWithIdp",Et(y,m))})).apply(this,arguments)}class ys extends Sn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const g=new ys(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(g.idToken=m.idToken),m.accessToken&&(g.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(g.nonce=m.nonce),m.pendingToken&&(g.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(g.accessToken=m.oauthToken,g.secret=m.oauthTokenSecret):Me("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:I}=g,O=(0,he._T)(g,["providerId","signInMethod"]);if(!w||!I)return null;const ae=new ys(w,I);return ae.idToken=O.idToken||void 0,ae.accessToken=O.accessToken||void 0,ae.secret=O.secret,ae.nonce=O.nonce,ae.pendingToken=O.pendingToken||null,ae}_getIdTokenResponse(m){return ho(m,this.buildRequest())}_linkToIdToken(m,g){const w=this.buildRequest();return w.idToken=g,ho(m,w)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,ho(m,g)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),m.postBody=(0,B.xO)(g)}return m}}function $u(y,m){return rl.apply(this,arguments)}function rl(){return(rl=(0,c.Z)(function*(y,m){return En(y,"POST","/v1/accounts:sendVerificationCode",Et(y,m))})).apply(this,arguments)}function il(){return(il=(0,c.Z)(function*(y,m){return Mr(y,"POST","/v1/accounts:signInWithPhoneNumber",Et(y,m))})).apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(y,m){const g=yield Mr(y,"POST","/v1/accounts:signInWithPhoneNumber",Et(y,m));if(g.temporaryProof)throw Yn(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ku={USER_NOT_FOUND:"user-not-found"};function sl(){return(sl=(0,c.Z)(function*(y,m){return Mr(y,"POST","/v1/accounts:signInWithPhoneNumber",Et(y,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Ku)})).apply(this,arguments)}class Xo extends Sn{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,g){return new Xo({verificationId:m,verificationCode:g})}static _fromTokenResponse(m,g){return new Xo({phoneNumber:m,temporaryProof:g})}_getIdTokenResponse(m){return function(y,m){return il.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,g){return function(y,m){return Hs.apply(this,arguments)}(m,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function(y,m){return sl.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:g,verificationId:w,verificationCode:I}=this.params;return m&&g?{temporaryProof:m,phoneNumber:g}:{sessionInfo:w,code:I}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:g,verificationCode:w,phoneNumber:I,temporaryProof:O}=m;return w||g||I||O?new Xo({verificationId:g,verificationCode:w,phoneNumber:I,temporaryProof:O}):null}}class O2{constructor(m){var g,w,I,O,ae,Re;const ut=(0,B.zd)((0,B.pd)(m)),xt=null!==(g=ut.apiKey)&&void 0!==g?g:null,Ft=null!==(w=ut.oobCode)&&void 0!==w?w:null,Gn=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=ut.mode)&&void 0!==I?I:null);le(xt&&Ft&&Gn,"argument-error"),this.apiKey=xt,this.operation=Gn,this.code=Ft,this.continueUrl=null!==(O=ut.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(ae=ut.languageCode)&&void 0!==ae?ae:null,this.tenantId=null!==(Re=ut.tenantId)&&void 0!==Re?Re:null}static parseLink(m){const g=function(y){const m=(0,B.zd)((0,B.pd)(y)).link,g=m?(0,B.zd)((0,B.pd)(m)).deep_link_id:null,w=(0,B.zd)((0,B.pd)(y)).deep_link_id;return(w?(0,B.zd)((0,B.pd)(w)).link:null)||w||g||m||y}(m);try{return new O2(g)}catch(w){return null}}}let $a=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return Jo._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const I=O2.parseLink(w);return le(I,"argument-error"),Jo._fromEmailAndCode(g,I.code,I.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Fi{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Ka extends Fi{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class U1 extends Ka{static credentialFromJSON(m){const g="string"==typeof m?JSON.parse(m):m;return le("providerId"in g&&"signInMethod"in g,"argument-error"),ys._fromParams(g)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return le(m.idToken||m.accessToken,"argument-error"),ys._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return U1.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return U1.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:I,pendingToken:O,nonce:ae,providerId:Re}=m;if(!w&&!I&&!g&&!O||!Re)return null;try{return new U1(Re)._credential({idToken:g,accessToken:w,nonce:ae,pendingToken:O})}catch(ut){return null}}}let Bs=(()=>{class y extends Ka{constructor(){super("facebook.com")}static credential(g){return ys._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),z2=(()=>{class y extends Ka{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return ys._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:I}=g;if(!w&&!I)return null;try{return y.credential(w,I)}catch(O){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ea=(()=>{class y extends Ka{constructor(){super("github.com")}static credential(g){return ys._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ya extends Sn{constructor(m,g){super(m,m),this.pendingToken=g}_getIdTokenResponse(m){return ho(m,this.buildRequest())}_linkToIdToken(m,g){const w=this.buildRequest();return w.idToken=g,ho(m,w)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,ho(m,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:I,pendingToken:O}=g;return w&&I&&O&&w===I?new Ya(w,O):null}static _create(m,g){return new Ya(m,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Qa extends Fi{constructor(m){le(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Qa.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Qa.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const g=Ya.fromJSON(m);return le(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:g,providerId:w}=m;if(!g||!w)return null;try{return Ya._create(w,g)}catch(I){return null}}}let fo=(()=>{class y extends Ka{constructor(){super("twitter.com")}static credential(g,w){return ys._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:I}=g;if(!w||!I)return null;try{return y.credential(w,I)}catch(O){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ns(y,m){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,c.Z)(function*(y,m){return Mr(y,"POST","/v1/accounts:signUp",Et(y,m))})).apply(this,arguments)}class jr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,g,w,I=!1){return(0,c.Z)(function*(){const O=yield Tn._fromIdTokenResponse(m,w,I),ae=Zr(w);return new jr({user:O,providerId:ae,_tokenResponse:w,operationType:g})})()}static _forOperation(m,g,w){return(0,c.Z)(function*(){yield m._updateTokensIfNecessary(w,!0);const I=Zr(w);return new jr({user:m,providerId:I,_tokenResponse:w,operationType:g})})()}}function Zr(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function al(y){return V2.apply(this,arguments)}function V2(){return(V2=(0,c.Z)(function*(y){var m;const g=gr(y);if(yield g._initializationPromise,null===(m=g.currentUser)||void 0===m?void 0:m.isAnonymous)return new jr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield ns(g,{returnSecureToken:!0}),I=yield jr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class po extends B.ZR{constructor(m,g,w,I){var O;super(g.code,g.message),this.operationType=w,this.user=I,Object.setPrototypeOf(this,po.prototype),this.customData={appName:m.name,tenantId:null!==(O=m.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(m,g,w,I){return new po(m,g,w,I)}}function cl(y,m,g,w){return("reauthenticate"===m?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?po._fromErrorAndOperation(y,O,m,w):O})}function j1(y){return new Set(y.map(({providerId:m})=>m).filter(m=>!!m))}function U4(y,m){return an.apply(this,arguments)}function an(){return(an=(0,c.Z)(function*(y,m){const g=(0,B.m9)(y);yield Nn(!0,g,m);const{providerUserInfo:w}=yield gt(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[m]}),I=j1(w||[]);return g.providerData=g.providerData.filter(O=>I.has(O.providerId)),I.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Xa(y,m){return ta.apply(this,arguments)}function ta(){return(ta=(0,c.Z)(function*(y,m,g=!1){const w=yield at(y,m._linkToIdToken(y.auth,yield y.getIdToken()),g);return jr._forOperation(y,"link",w)})).apply(this,arguments)}function Nn(y,m,g){return mo.apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(y,m,g){yield on(m);const I=!1===y?"provider-already-linked":"no-such-provider";le(j1(m.providerData).has(g)===y,m.auth,I)})).apply(this,arguments)}function go(y,m){return Us.apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(y,m,g=!1){const{auth:w}=y,I="reauthenticate";try{const O=yield at(y,cl(w,I,m,y),g);le(O.idToken,w,"internal-error");const ae=rn(O.idToken);le(ae,w,"internal-error");const{sub:Re}=ae;return le(y.uid===Re,w,"user-mismatch"),jr._forOperation(y,I,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Me(w,"user-mismatch"),O}})).apply(this,arguments)}function Sr(y,m){return e1.apply(this,arguments)}function e1(){return(e1=(0,c.Z)(function*(y,m,g=!1){const w="signIn",I=yield cl(y,w,m),O=yield jr._fromIdTokenResponse(y,w,I);return g||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Cs(y,m){return js.apply(this,arguments)}function js(){return(js=(0,c.Z)(function*(y,m){return Sr(gr(y),m)})).apply(this,arguments)}function cn(y,m){return na.apply(this,arguments)}function na(){return(na=(0,c.Z)(function*(y,m){const g=(0,B.m9)(y);return yield Nn(!1,g,m.providerId),Xa(g,m)})).apply(this,arguments)}function ra(y,m){return ia.apply(this,arguments)}function ia(){return(ia=(0,c.Z)(function*(y,m){return go((0,B.m9)(y),m)})).apply(this,arguments)}function hi(y,m){return sa.apply(this,arguments)}function sa(){return(sa=(0,c.Z)(function*(y,m){return Mr(y,"POST","/v1/accounts:signInWithCustomToken",Et(y,m))})).apply(this,arguments)}function oa(y,m){return vt.apply(this,arguments)}function vt(){return(vt=(0,c.Z)(function*(y,m){const g=gr(y),w=yield hi(g,{token:m,returnSecureToken:!0}),I=yield jr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class aa{constructor(m,g){this.factorId=m,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(m,g){return"phoneInfo"in g?vo._fromServerResponse(m,g):Me(m,"internal-error")}}class vo extends aa{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,g){return new vo(g)}}function _o(y,m,g){var w;le((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),le(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),m.continueUrl=g.url,m.dynamicLinkDomain=g.dynamicLinkDomain,m.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(le(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),m.iOSBundleId=g.iOS.bundleId),g.android&&(le(g.android.packageName.length>0,y,"missing-android-pkg-name"),m.androidInstallApp=g.android.installApp,m.androidMinimumVersionCode=g.android.minimumVersion,m.androidPackageName=g.android.packageName)}function ll(y,m,g){return t1.apply(this,arguments)}function t1(){return(t1=(0,c.Z)(function*(y,m,g){const w=(0,B.m9)(y),I={requestType:"PASSWORD_RESET",email:m};g&&_o(w,I,g),yield zi(w,I)})).apply(this,arguments)}function H2(y,m,g){return Z1.apply(this,arguments)}function Z1(){return(Z1=(0,c.Z)(function*(y,m,g){yield wi((0,B.m9)(y),{oobCode:m,newPassword:g})})).apply(this,arguments)}function Le(y,m){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,c.Z)(function*(y,m){yield Ot((0,B.m9)(y),{oobCode:m})})).apply(this,arguments)}function Zs(y,m){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(y,m){const g=(0,B.m9)(y),w=yield wi(g,{oobCode:m}),I=w.requestType;switch(le(I,g,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(w.mfaInfo,g,"internal-error");default:le(w.email,g,"internal-error")}let O=null;return w.mfaInfo&&(O=aa._fromServerResponse(gr(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:I}})).apply(this,arguments)}function B2(y,m){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(y,m){const{data:g}=yield Zs((0,B.m9)(y),m);return g.email})).apply(this,arguments)}function qr(y,m,g){return n1.apply(this,arguments)}function n1(){return(n1=(0,c.Z)(function*(y,m,g){const w=gr(y),I=yield ns(w,{returnSecureToken:!0,email:m,password:g}),O=yield jr._fromIdTokenResponse(w,"signIn",I);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function r1(y,m,g){return Cs((0,B.m9)(y),$a.credential(m,g))}function Xu(y,m,g){return U2.apply(this,arguments)}function U2(){return(U2=(0,c.Z)(function*(y,m,g){const w=(0,B.m9)(y),I={requestType:"EMAIL_SIGNIN",email:m};le(g.handleCodeInApp,w,"argument-error"),g&&_o(w,I,g),yield Wa(w,I)})).apply(this,arguments)}function q1(y,m){const g=O2.parseLink(m);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}function s1(y,m,g){return ur.apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*(y,m,g){const w=(0,B.m9)(y),I=$a.credentialWithLink(m,g||Y());return le(I._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Cs(w,I)})).apply(this,arguments)}function bs(y,m){return yo.apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(y,m){return En(y,"POST","/v1/accounts:createAuthUri",Et(y,m))})).apply(this,arguments)}function ca(y,m){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(y,m){const w={identifier:m,continueUri:He()?Y():"http://localhost"},{signinMethods:I}=yield bs((0,B.m9)(y),w);return I||[]})).apply(this,arguments)}function j2(y,m){return G1.apply(this,arguments)}function G1(){return(G1=(0,c.Z)(function*(y,m){const g=(0,B.m9)(y),I={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};m&&_o(g.auth,I,m);const{email:O}=yield H1(g.auth,I);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function Z2(y,m,g){return q2.apply(this,arguments)}function q2(){return(q2=(0,c.Z)(function*(y,m,g){const w=(0,B.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:m};g&&_o(w.auth,O,g);const{email:ae}=yield _s(w.auth,O);ae!==y.email&&(yield y.reload())})).apply(this,arguments)}function o1(y,m){return la.apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(y,m){return En(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function W1(y,m){return ua.apply(this,arguments)}function ua(){return(ua=(0,c.Z)(function*(y,{displayName:m,photoURL:g}){if(void 0===m&&void 0===g)return;const w=(0,B.m9)(y),O={idToken:yield w.getIdToken(),displayName:m,photoUrl:g,returnSecureToken:!0},ae=yield at(w,o1(w.auth,O));w.displayName=ae.displayName||null,w.photoURL=ae.photoUrl||null;const Re=w.providerData.find(({providerId:ut})=>"password"===ut);Re&&(Re.displayName=w.displayName,Re.photoURL=w.photoURL),yield w._updateTokensIfNecessary(ae)})).apply(this,arguments)}function ul(y,m){return $1((0,B.m9)(y),m,null)}function hl(y,m){return $1((0,B.m9)(y),null,m)}function $1(y,m,g){return a1.apply(this,arguments)}function a1(){return(a1=(0,c.Z)(function*(y,m,g){const{auth:w}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};m&&(O.email=m),g&&(O.password=g);const ae=yield at(y,nr(w,O));yield y._updateTokensIfNecessary(ae,!0)})).apply(this,arguments)}class qs{constructor(m,g,w={}){this.isNewUser=m,this.providerId=g,this.profile=w}}class W2 extends qs{constructor(m,g,w,I){super(m,g,w),this.username=I}}class $2 extends qs{constructor(m,g){super(m,"facebook.com",g)}}class e6 extends W2{constructor(m,g){super(m,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class K2 extends qs{constructor(m,g){super(m,"google.com",g)}}class Ln extends W2{constructor(m,g,w){super(m,"twitter.com",g,w)}}function Gs(y){const{user:m,_tokenResponse:g}=y;return m.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(y){var m,g;if(!y)return null;const{providerId:w}=y,I=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const ae=null===(g=null===(m=rn(y.idToken))||void 0===m?void 0:m.firebase)||void 0===g?void 0:g.sign_in_provider;if(ae)return new qs(O,"anonymous"!==ae&&"custom"!==ae?ae:null)}if(!w)return null;switch(w){case"facebook.com":return new $2(O,I);case"github.com":return new e6(O,I);case"google.com":return new K2(O,I);case"twitter.com":return new Ln(O,I,y.screenName||null);case"custom":case"anonymous":return new qs(O,null);default:return new qs(O,w,I)}}(g)}class is{constructor(m,g){this.type=m,this.credential=g}static _fromIdtoken(m){return new is("enroll",m)}static _fromMfaPendingCredential(m){return new is("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var g,w;if(null==m?void 0:m.multiFactorSession){if(null===(g=m.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return is._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(w=m.multiFactorSession)||void 0===w?void 0:w.idToken)return is._fromIdtoken(m.multiFactorSession.idToken)}return null}}class c1{constructor(m,g,w){this.session=m,this.hints=g,this.signInResolver=w}static _fromError(m,g){const w=gr(m),I=g.customData._serverResponse,O=(I.mfaInfo||[]).map(Re=>aa._fromServerResponse(w,Re));le(I.mfaPendingCredential,w,"internal-error");const ae=is._fromMfaPendingCredential(I.mfaPendingCredential);return new c1(ae,O,function(){var Re=(0,c.Z)(function*(ut){const xt=yield ut._process(w,ae);delete I.mfaInfo,delete I.mfaPendingCredential;const Ft=Object.assign(Object.assign({},I),{idToken:xt.idToken,refreshToken:xt.refreshToken});switch(g.operationType){case"signIn":const Gn=yield jr._fromIdTokenResponse(w,g.operationType,Ft);return yield w._updateCurrentUser(Gn.user),Gn;case"reauthenticate":return le(g.user,w,"internal-error"),jr._forOperation(g.user,g.operationType,Ft);default:Me(w,"internal-error")}});return function(ut){return Re.apply(this,arguments)}}())}resolveSignIn(m){var g=this;return(0,c.Z)(function*(){return g.signInResolver(m)})()}}function fl(y,m){var g;const w=(0,B.m9)(y),I=m;return le(m.customData.operationType,w,"argument-error"),le(null===(g=I.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),c1._fromError(w,I)}function Z4(y,m){return En(y,"POST","/v2/accounts/mfaEnrollment:start",Et(y,m))}class Co{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>aa._fromServerResponse(m.auth,w)))})}static _fromUser(m){return new Co(m)}getSession(){var m=this;return(0,c.Z)(function*(){return is._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,g){var w=this;return(0,c.Z)(function*(){const I=m,O=yield w.getSession(),ae=yield at(w.user,I._process(w.user.auth,O,g));return yield w.user._updateTokensIfNecessary(ae),w.user.reload()})()}unenroll(m){var g=this;return(0,c.Z)(function*(){const w="string"==typeof m?m:m.uid,I=yield g.user.getIdToken(),O=yield at(g.user,function(y,m){return En(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Et(y,m))}(g.user.auth,{idToken:I,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:ae})=>ae!==w),yield g.user._updateTokensIfNecessary(O);try{yield g.user.reload()}catch(ae){if("auth/user-token-expired"!==ae.code)throw ae}})()}}const ml=new WeakMap;function n6(y){const m=(0,B.m9)(y);return ml.has(m)||ml.set(m,Co._fromUser(m)),ml.get(m)}const bo="__sak";class l1{constructor(m,g){this.storageRetriever=m,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(bo,"1"),this.storage.removeItem(bo),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,g){return this.storage.setItem(m,JSON.stringify(g)),Promise.resolve()}_get(m){const g=this.storage.getItem(m);return Promise.resolve(g?JSON.parse(g):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const bn=(()=>{class y extends l1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,B.z$)();return De(y)||fn(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=es(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const I=this.storage.getItem(w),O=this.localCache[w];I!==O&&g(w,O,I)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((Re,ut,xt)=>{this.notifyListeners(Re,xt)});const I=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Re=this.storage.getItem(I);if(g.newValue!==Re)null!==g.newValue?this.storage.setItem(I,g.newValue):this.storage.removeItem(I);else if(this.localCache[I]===g.newValue&&!w)return}const O=()=>{const Re=this.storage.getItem(I);!w&&this.localCache[I]===Re||this.notifyListeners(I,Re)},ae=this.storage.getItem(I);(0,B.w1)()&&10===document.documentMode&&ae!==g.newValue&&g.newValue!==g.oldValue?setTimeout(O,10):O()}notifyListeners(g,w){this.localCache[g]=w;const I=this.listeners[g];if(I)for(const O of Array.from(I))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var I=()=>super._set,O=this;return(0,c.Z)(function*(){yield I().call(O,g,w),O.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,I=this;return(0,c.Z)(function*(){const O=yield w().call(I,g);return I.localCache[g]=JSON.stringify(O),O})()}_remove(g){var w=()=>super._remove,I=this;return(0,c.Z)(function*(){yield w().call(I,g),delete I.localCache[g]})()}}return y.type="LOCAL",y})(),tt=(()=>{class y extends l1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let di=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(O=>O.isListeningto(g));if(w)return w;const I=new y(g);return this.receivers.push(I),I}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,c.Z)(function*(){const I=g,{eventId:O,eventType:ae,data:Re}=I.data,ut=w.handlersMap[ae];if(!(null==ut?void 0:ut.size))return;I.ports[0].postMessage({status:"ack",eventId:O,eventType:ae});const xt=Array.from(ut).map(function(){var Gn=(0,c.Z)(function*(Tr){return Tr(I.origin,Re)});return function(Tr){return Gn.apply(this,arguments)}}()),Ft=yield function(y){return Promise.all(y.map(function(){var m=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return m.apply(this,arguments)}}()))}(xt);I.ports[0].postMessage({status:"done",eventId:O,eventType:ae,response:Ft})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function jn(y="",m=10){let g="";for(let w=0;w<m;w++)g+=Math.floor(10*Math.random());return y+g}class wo{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,g,w=50){var I=this;return(0,c.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let ae,Re;return new Promise((ut,xt)=>{const Ft=jn("",20);O.port1.start();const Gn=setTimeout(()=>{xt(new Error("unsupported_event"))},w);Re={messageChannel:O,onMessage(Tr){const Xs=Tr;if(Xs.data.eventId===Ft)switch(Xs.data.status){case"ack":clearTimeout(Gn),ae=setTimeout(()=>{xt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ae),ut(Xs.data.response);break;default:clearTimeout(Gn),clearTimeout(ae),xt(new Error("invalid_response"))}}},I.handlers.add(Re),O.port1.addEventListener("message",Re.onMessage),I.target.postMessage({eventType:m,eventId:Ft,data:g},[O.port2])}).finally(()=>{Re&&I.removeMessageHandler(Re)})})()}}function rr(){return window}function Mo(){return void 0!==rr().WorkerGlobalScope&&"function"==typeof rr().importScripts}function Y1(){return(Y1=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const gl="firebaseLocalStorageDb",ss="firebaseLocalStorage",h1="fbase_key";class xn{constructor(m){this.request=m}toPromise(){return new Promise((m,g)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ao(y,m){return y.transaction([ss],m?"readwrite":"readonly").objectStore(ss)}function Q2(){const y=indexedDB.open(gl,1);return new Promise((m,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(ss,{keyPath:h1})}catch(I){g(I)}}),y.addEventListener("success",(0,c.Z)(function*(){const w=y.result;w.objectStoreNames.contains(ss)?m(w):(w.close(),yield function(){const y=indexedDB.deleteDatabase(gl);return new xn(y).toPromise()}(),m(yield Q2()))}))})}function Ai(y,m,g){return d1.apply(this,arguments)}function d1(){return(d1=(0,c.Z)(function*(y,m,g){const w=Ao(y,!0).put({[h1]:m,value:g});return new xn(w).toPromise()})).apply(this,arguments)}function os(){return(os=(0,c.Z)(function*(y,m){const g=Ao(y,!1).get(m),w=yield new xn(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function J2(y,m){const g=Ao(y,!0).delete(m);return new xn(g).toPromise()}const ma=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Q2()),g.db})()}_withRetries(g){var w=this;return(0,c.Z)(function*(){let I=0;for(;;)try{const O=yield w._openDb();return yield g(O)}catch(O){if(I++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Mo()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=di._getInstance(Mo()?self:null),g.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(I,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(I,O){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(I,O){return["keyChanged"]});return function(I,O){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var w,I;if(g.activeServiceWorker=yield function(){return Y1.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new wo(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(w=O[0])||void 0===w?void 0:w.fulfilled)&&(null===(I=O[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch(I){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Q2();return yield Ai(g,bo,"1"),yield J2(g,bo),!0}catch(g){}return!1})()}_withPendingWrite(g){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var I=this;return(0,c.Z)(function*(){return I._withPendingWrite((0,c.Z)(function*(){return yield I._withRetries(O=>Ai(O,g,w)),I.localCache[g]=w,I.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,c.Z)(function*(){const I=yield w._withRetries(O=>function(y,m){return os.apply(this,arguments)}(O,g));return w.localCache[g]=I,I})()}_remove(g){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(I=>J2(I,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const w=yield g._withRetries(ae=>{const Re=Ao(ae,!1).getAll();return new xn(Re).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const I=[],O=new Set;for(const{fbase_key:ae,value:Re}of w)O.add(ae),JSON.stringify(g.localCache[ae])!==JSON.stringify(Re)&&(g.notifyListeners(ae,Re),I.push(ae));for(const ae of Object.keys(g.localCache))g.localCache[ae]&&!O.has(ae)&&(g.notifyListeners(ae,null),I.push(ae));return I})()}notifyListeners(g,w){this.localCache[g]=w;const I=this.listeners[g];if(I)for(const O of Array.from(I))O(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function So(y,m){return En(y,"POST","/v2/accounts/mfaSignIn:start",Et(y,m))}function ga(){return(ga=(0,c.Z)(function*(y){return(yield En(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fi(y){return new Promise((m,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=m,w.onerror=I=>{const O=Ce("internal-error");O.customData=I,g(O)},w.type="text/javascript",w.charset="UTF-8",function(){var y,m;return null!==(m=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==m?m:document}().appendChild(w)})}function Vi(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Zn=1e12;class Hi{constructor(m){this.auth=m,this.counter=Zn,this._widgets=new Map}render(m,g){const w=this.counter;return this._widgets.set(w,new Rn(m,this.auth.name,g||{})),this.counter++,w}reset(m){var g;const w=m||Zn;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(m){var g;return(null===(g=this._widgets.get(m||Zn))||void 0===g?void 0:g.getResponse())||""}execute(m){var g=this;return(0,c.Z)(function*(){var w;return null===(w=g._widgets.get(m||Zn))||void 0===w||w.execute(),""})()}}class Rn{constructor(m,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof m?document.getElementById(m):m;le(I,"argument-error",{appName:g}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const m=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)m.push(g.charAt(Math.floor(Math.random()*g.length)));return m.join("")}();const{callback:m,"expired-callback":g}=this.params;if(m)try{m(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qs=Vi("rcb"),On=new lt(3e4,6e4);class vh{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!rr().grecaptcha}load(m,g=""){return le((y=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),m,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(rr().grecaptcha):new Promise((w,I)=>{const O=rr().setTimeout(()=>{I(Ce(m,"network-request-failed"))},On.get());rr()[Qs]=()=>{rr().clearTimeout(O),delete rr()[Qs];const Re=rr().grecaptcha;if(!Re)return void I(Ce(m,"internal-error"));const ut=Re.render;Re.render=(xt,Ft)=>{const Gn=ut(xt,Ft);return this.counter++,Gn},this.hostLanguage=g,w(Re)},fi(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Qs,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),I(Ce(m,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!rr().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _h{load(m){return(0,c.Z)(function*(){return new Hi(m)})()}clearedOneInstance(){}}const va="recaptcha",Rr={theme:"light",type:"image"};class vl{constructor(m,g=Object.assign({},Rr),w){this.parameters=g,this.type=va,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gr(w),this.isInvisible="invisible"===this.parameters.size,le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof m?document.getElementById(m):m;le(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _h:new vh,this.validateStartingState()}verify(){var m=this;return(0,c.Z)(function*(){m.assertNotDestroyed();const g=yield m.render(),w=m.getAssertedRecaptcha();return w.getResponse(g)||new Promise(O=>{const ae=Re=>{!Re||(m.tokenChangeListeners.delete(ae),O(Re))};m.tokenChangeListeners.add(ae),m.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof m)m(g);else if("string"==typeof m){const w=rr()[m];"function"==typeof w&&w(g)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,c.Z)(function*(){if(yield m.init(),!m.widgetId){let g=m.container;if(!m.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}m.widgetId=m.getAssertedRecaptcha().render(g,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,c.Z)(function*(){le(He()&&!Mo(),m.auth,"internal-error"),yield function(){let y=null;return new Promise(m=>{"complete"!==document.readyState?(y=()=>m(),window.addEventListener("load",y)):m()}).catch(m=>{throw y&&window.removeEventListener("load",y),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const g=yield function(y){return ga.apply(this,arguments)}(m.auth);le(g,m.auth,"internal-error"),m.parameters.sitekey=g})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class X1{constructor(m,g){this.verificationId=m,this.onConfirmation=g}confirm(m){const g=Xo._fromVerification(this.verificationId,m);return this.onConfirmation(g)}}function Bn(y,m,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(y,m,g){const w=gr(y),I=yield mi(w,m,(0,B.m9)(g));return new X1(I,O=>Cs(w,O))})).apply(this,arguments)}function f1(y,m,g){return _l.apply(this,arguments)}function _l(){return(_l=(0,c.Z)(function*(y,m,g){const w=(0,B.m9)(y);yield Nn(!1,w,"phone");const I=yield mi(w.auth,m,(0,B.m9)(g));return new X1(I,O=>cn(w,O))})).apply(this,arguments)}function W4(y,m,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,c.Z)(function*(y,m,g){const w=(0,B.m9)(y),I=yield mi(w.auth,m,(0,B.m9)(g));return new X1(I,O=>ra(w,O))})).apply(this,arguments)}function mi(y,m,g){return p1.apply(this,arguments)}function p1(){return(p1=(0,c.Z)(function*(y,m,g){var w;const I=yield g.verify();try{let O;if(le("string"==typeof I,y,"argument-error"),le(g.type===va,y,"argument-error"),O="string"==typeof m?{phoneNumber:m}:m,"session"in O){const ae=O.session;if("phoneNumber"in O)return le("enroll"===ae.type,y,"internal-error"),(yield Z4(y,{idToken:ae.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{le("signin"===ae.type,y,"internal-error");const Re=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return le(Re,y,"missing-multi-factor-info"),(yield So(y,{mfaPendingCredential:ae.credential,mfaEnrollmentId:Re,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ae}=yield $u(y,{phoneNumber:O.phoneNumber,recaptchaToken:I});return ae}}finally{g._reset()}})).apply(this,arguments)}function m1(y,m){return ws.apply(this,arguments)}function ws(){return(ws=(0,c.Z)(function*(y,m){yield Xa((0,B.m9)(y),m)})).apply(this,arguments)}let X2=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=gr(g)}verifyPhoneNumber(g,w){return mi(this.auth,g,(0,B.m9)(w))}static credential(g,w){return Xo._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:I}=g;return w&&I?Xo._fromTokenResponse(w,I):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Do(y,m){return m?G(m):(le(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class e2 extends Sn{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return ho(m,this._buildIdpRequest())}_linkToIdToken(m,g){return ho(m,this._buildIdpRequest(g))}_getReauthenticationResolver(m){return ho(m,this._buildIdpRequest())}_buildIdpRequest(m){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(g.idToken=m),g}}function yl(y){return Sr(y.auth,new e2(y),y.bypassAuthState)}function Cl(y){const{auth:m,user:g}=y;return le(g,m,"internal-error"),go(g,new e2(y),y.bypassAuthState)}function zt(y){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(y){const{auth:m,user:g}=y;return le(g,m,"internal-error"),Xa(g,new e2(y),y.bypassAuthState)})).apply(this,arguments)}class Bi{constructor(m,g,w,I,O=!1){this.auth=m,this.resolver=w,this.user=I,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var m=this;return new Promise(function(){var g=(0,c.Z)(function*(w,I){m.pendingPromise={resolve:w,reject:I};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(O){m.reject(O)}});return function(w,I){return g.apply(this,arguments)}}())}onAuthEvent(m){var g=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:I,postBody:O,tenantId:ae,error:Re,type:ut}=m;if(Re)return void g.reject(Re);const xt={auth:g.auth,requestUri:w,sessionId:I,tenantId:ae||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(ut)(xt))}catch(Ft){g.reject(Ft)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return yl;case"linkViaPopup":case"linkViaRedirect":return zt;case"reauthViaPopup":case"reauthViaRedirect":return Cl;default:Me(this.auth,"internal-error")}}resolve(m){F(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){F(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ms=new lt(2e3,1e4);function $4(y,m,g){return ec.apply(this,arguments)}function ec(){return(ec=(0,c.Z)(function*(y,m,g){const w=gr(y);Ne(y,m,Fi);const I=Do(w,g);return new g1(w,"signInViaPopup",m,I).executeNotNull()})).apply(this,arguments)}function i6(y,m,g){return tc.apply(this,arguments)}function tc(){return(tc=(0,c.Z)(function*(y,m,g){const w=(0,B.m9)(y);Ne(w.auth,m,Fi);const I=Do(w.auth,g);return new g1(w.auth,"reauthViaPopup",m,I,w).executeNotNull()})).apply(this,arguments)}function cs(y,m,g){return Es.apply(this,arguments)}function Es(){return(Es=(0,c.Z)(function*(y,m,g){const w=(0,B.m9)(y);Ne(w.auth,m,Fi);const I=Do(w.auth,g);return new g1(w.auth,"linkViaPopup",m,I,w).executeNotNull()})).apply(this,arguments)}let g1=(()=>{class y extends Bi{constructor(g,w,I,O,ae){super(g,w,O,ae),this.provider=I,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const w=yield g.execute();return le(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,c.Z)(function*(){F(1===g.filter.length,"Popup operations only handle one event");const w=jn();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(I=>{g.reject(I)}),g.resolver._isIframeWebStorageSupported(g.auth,I=>{I||g.reject(Ce(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,I;this.pollId=(null===(I=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===I?void 0:I.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Ms.get())};g()}}return y.currentPopupAction=null,y})();const v1=new Map;class wn extends Bi{constructor(m,g,w=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var m=()=>super.execute,g=this;return(0,c.Z)(function*(){let w=v1.get(g.auth._key());if(!w){try{const O=(yield function(y,m){return gi.apply(this,arguments)}(g.resolver,g.auth))?yield m().call(g):null;w=()=>Promise.resolve(O)}catch(I){w=()=>Promise.reject(I)}v1.set(g.auth._key(),w)}return g.bypassAuthState||v1.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(m){var g=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===m.type)return g().call(w,m);if("unknown"!==m.type){if(m.eventId){const I=yield w.auth._redirectUserForId(m.eventId);if(I)return w.user=I,g().call(w,m);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function gi(){return(gi=(0,c.Z)(function*(y,m){const g=ic(m),w=bl(y);if(!(yield w._isAvailable()))return!1;const I="true"===(yield w._get(g));return yield w._remove(g),I})).apply(this,arguments)}function t2(y,m){return ya.apply(this,arguments)}function ya(){return(ya=(0,c.Z)(function*(y,m){return bl(y)._set(ic(m),"true")})).apply(this,arguments)}function rc(){v1.clear()}function bl(y){return G(y._redirectPersistence)}function ic(y){return jt("pendingRedirect",y.config.apiKey,y.name)}function wl(y,m,g){return function(y,m,g){return S.apply(this,arguments)}(y,m,g)}function S(){return(S=(0,c.Z)(function*(y,m,g){const w=gr(y);Ne(y,m,Fi);const I=Do(w,g);return yield t2(I,w),I._openRedirect(w,m,"signInViaRedirect")})).apply(this,arguments)}function N(y,m,g){return function(y,m,g){return q.apply(this,arguments)}(y,m,g)}function q(){return(q=(0,c.Z)(function*(y,m,g){const w=(0,B.m9)(y);Ne(w.auth,m,Fi);const I=Do(w.auth,g);yield t2(I,w.auth);const O=yield Xn(w);return I._openRedirect(w.auth,m,"reauthViaRedirect",O)})).apply(this,arguments)}function _e(y,m,g){return function(y,m,g){return Qe.apply(this,arguments)}(y,m,g)}function Qe(){return(Qe=(0,c.Z)(function*(y,m,g){const w=(0,B.m9)(y);Ne(w.auth,m,Fi);const I=Do(w.auth,g);yield Nn(!1,w,m.providerId),yield t2(I,w.auth);const O=yield Xn(w);return I._openRedirect(w.auth,m,"linkViaRedirect",O)})).apply(this,arguments)}function nt(y,m){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,c.Z)(function*(y,m){return yield gr(y)._initializationPromise,hn(y,m,!1)})).apply(this,arguments)}function hn(y,m){return Or.apply(this,arguments)}function Or(){return(Or=(0,c.Z)(function*(y,m,g=!1){const w=gr(y),I=Do(w,m),ae=yield new wn(w,I,g).execute();return ae&&!g&&(delete ae.user._redirectEventId,yield w._persistUserIfCurrent(ae.user),yield w._setRedirectUser(null,m)),ae})).apply(this,arguments)}function Xn(y){return dn.apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(y){const m=jn(`${y.uid}:::`);return y._redirectEventId=m,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),m})).apply(this,arguments)}class Si{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(m,w)&&(g=!0,this.sendToConsumer(m,w),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ui(y);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=m,g=!0)),g}sendToConsumer(m,g){var w;if(m.error&&!Ui(m)){const I=(null===(w=m.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Ce(this.auth,I))}else g.onAuthEvent(m)}isEventForConsumer(m,g){const w=null===g.eventId||!!m.eventId&&m.eventId===g.eventId;return g.filter.includes(m.type)&&w}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ba(m))}saveEventToCache(m){this.cachedEventUids.add(ba(m)),this.lastProcessedEventTime=Date.now()}}function ba(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(m=>m).join("-")}function Ui({type:y,error:m}){return"unknown"===y&&"auth/no-auth-event"===(null==m?void 0:m.code)}function To(y){return sc.apply(this,arguments)}function sc(){return(sc=(0,c.Z)(function*(y,m={}){return En(y,"GET","/v1/projects",m)})).apply(this,arguments)}const yh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ch=/^https?/;function Js(){return(Js=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:m}=yield To(y);for(const g of m)try{if(bh(g))return}catch(w){}Me(y,"unauthorized-domain")})).apply(this,arguments)}function bh(y){const m=Y(),{protocol:g,hostname:w}=new URL(m);if(y.startsWith("chrome-extension://")){const ae=new URL(y);return""===ae.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===g&&ae.hostname===w}if(!Ch.test(g))return!1;if(yh.test(y))return w===y;const I=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(w)}const p5=new lt(3e4,6e4);function K4(){const y=rr().___jsl;if(null==y?void 0:y.H)for(const m of Object.keys(y.H))if(y.H[m].r=y.H[m].r||[],y.H[m].L=y.H[m].L||[],y.H[m].r=[...y.H[m].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Y4=null;function s6(y){return Y4=Y4||function(y){return new Promise((m,g)=>{var w,I,O;function ae(){K4(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{K4(),g(Ce(y,"network-request-failed"))},timeout:p5.get()})}if(null===(I=null===(w=rr().gapi)||void 0===w?void 0:w.iframes)||void 0===I?void 0:I.Iframe)m(gapi.iframes.getContext());else{if(!(null===(O=rr().gapi)||void 0===O?void 0:O.load)){const Re=Vi("iframefcb");return rr()[Re]=()=>{gapi.load?ae():g(Ce(y,"network-request-failed"))},fi(`https://apis.google.com/js/api.js?onload=${Re}`).catch(ut=>g(ut))}ae()}}).catch(m=>{throw Y4=null,m})}(y),Y4}const Q4=new lt(5e3,15e3),wa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o6(y){const m=y.config;le(m.authDomain,y,"auth-domain-config-required");const g=m.emulator?Mt(m,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:m.apiKey,appName:y.name,v:L.SDK_VERSION},I=_1.get(y.config.apiHost);I&&(w.eid=I);const O=y._getFrameworks();return O.length&&(w.fw=O.join(",")),`${g}?${(0,B.xO)(w).slice(1)}`}function Ma(){return Ma=(0,c.Z)(function*(y){const m=yield s6(y),g=rr().gapi;return le(g,y,"internal-error"),m.open({where:document.body,url:o6(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wa,dontclear:!0},w=>new Promise(function(){var I=(0,c.Z)(function*(O,ae){yield w.restyle({setHideOnLeave:!1});const Re=Ce(y,"network-request-failed"),ut=rr().setTimeout(()=>{ae(Re)},Q4.get());function xt(){rr().clearTimeout(ut),O(w)}w.ping(xt).then(xt,()=>{ae(Re)})});return function(O,ae){return I.apply(this,arguments)}}()))}),Ma.apply(this,arguments)}const oc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Io{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function r0(y,m,g,w,I,O){le(y.config.authDomain,y,"auth-domain-config-required"),le(y.config.apiKey,y,"invalid-api-key");const ae={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:L.SDK_VERSION,eventId:I};if(m instanceof Fi){m.setDefaultLanguage(y.languageCode),ae.providerId=m.providerId||"",(0,B.xb)(m.getCustomParameters())||(ae.customParameters=JSON.stringify(m.getCustomParameters()));for(const[ut,xt]of Object.entries(O||{}))ae[ut]=xt}if(m instanceof Ka){const ut=m.getScopes().filter(xt=>""!==xt);ut.length>0&&(ae.scopes=ut.join(","))}y.tenantId&&(ae.tid=y.tenantId);const Re=ae;for(const ut of Object.keys(Re))void 0===Re[ut]&&delete Re[ut];return`${function({config:y}){return y.emulator?Mt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,B.xO)(Re).slice(1)}`}const Ea="webStorageSupport",r2=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tt,this._completeRedirectFn=hn}_openPopup(m,g,w,I){var O=this;return(0,c.Z)(function*(){var ae;F(null===(ae=O.eventManagers[m._key()])||void 0===ae?void 0:ae.manager,"_initialize() not called before _openPopup()");const Re=r0(m,g,w,Y(),I);return function(y,m,g,w=500,I=600){const O=Math.max((window.screen.availHeight-I)/2,0).toString(),ae=Math.max((window.screen.availWidth-w)/2,0).toString();let Re="";const ut=Object.assign(Object.assign({},oc),{width:w.toString(),height:I.toString(),top:O,left:ae}),xt=(0,B.z$)().toLowerCase();g&&(Re=Ye(xt)?"_blank":g),J(xt)&&(m=m||"http://localhost",ut.scrollbars="yes");const Ft=Object.entries(ut).reduce((Tr,[Xs,s2])=>`${Tr}${Xs}=${s2},`,"");if(function(y=(0,B.z$)()){var m;return fn(y)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(xt)&&"_self"!==Re)return function(y,m){const g=document.createElement("a");g.href=y,g.target=m;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(m||"",Re),new Io(null);const Gn=window.open(m||"",Re,Ft);le(Gn,y,"popup-blocked");try{Gn.focus()}catch(Tr){}return new Io(Gn)}(m,Re,jn())})()}_openRedirect(m,g,w,I){var O=this;return(0,c.Z)(function*(){return yield O._originValidation(m),y=r0(m,g,w,Y(),I),rr().location.href=y,new Promise(()=>{});var y})()}_initialize(m){const g=m._key();if(this.eventManagers[g]){const{manager:I,promise:O}=this.eventManagers[g];return I?Promise.resolve(I):(F(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(m);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(m){var g=this;return(0,c.Z)(function*(){const w=yield function(y){return Ma.apply(this,arguments)}(m),I=new Si(m);return w.register("authEvent",O=>(le(null==O?void 0:O.authEvent,m,"invalid-auth-event"),{status:I.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[m._key()]={manager:I},g.iframes[m._key()]=w,I})()}_isIframeWebStorageSupported(m,g){this.iframes[m._key()].send(Ea,{type:Ea},I=>{var O;const ae=null===(O=null==I?void 0:I[0])||void 0===O?void 0:O[Ea];void 0!==ae&&g(!!ae),Me(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const g=m._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return Js.apply(this,arguments)}(m)),this.originValidationPromises[g]}get _shouldInitProactively(){return es()||De()||fn()}};class El extends class{constructor(m){this.factorId=m}_process(m,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(m,g.credential,w);case"signin":return this._finalizeSignIn(m,g.credential);default:return it("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new El(m)}_finalizeEnroll(m,g,w){return function(y,m){return En(y,"POST","/v2/accounts/mfaEnrollment:finalize",Et(y,m))}(m,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,g){return function(y,m){return En(y,"POST","/v2/accounts/mfaSignIn:finalize",Et(y,m))}(m,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let a6=(()=>{class y{constructor(){}static assertion(g){return El._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var y,c6="@firebase/auth";class Ah{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const g=this.auth.onIdTokenChanged(w=>{var I;m((null===(I=w)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,g),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const g=this.internalListeners.get(m);!g||(this.internalListeners.delete(m),g(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}y="Browser",(0,L._registerComponent)(new we.wA("auth",(m,{options:g})=>{const w=m.getProvider("app").getImmediate(),{apiKey:I,authDomain:O}=w.options;return(ae=>{le(I&&!I.includes(":"),"invalid-api-key",{appName:ae.name}),le(!(null==O?void 0:O.includes(":")),"argument-error",{appName:ae.name});const Re={apiKey:I,authDomain:O,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fs(y)},ut=new Qn(ae,Re);return function(y,m){const g=(null==m?void 0:m.persistence)||[],w=(Array.isArray(g)?g:[g]).map(G);(null==m?void 0:m.errorMap)&&y._updateErrorMap(m.errorMap),y._initializeWithPersistence(w,null==m?void 0:m.popupRedirectResolver)}(ut,g),ut})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,g,w)=>{m.getProvider("auth-internal").initialize()})),(0,L._registerComponent)(new we.wA("auth-internal",m=>{const g=gr(m.getProvider("auth").getImmediate());return new Ah(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,L.registerVersion)(c6,"0.19.5",void 0),(0,L.registerVersion)(c6,"0.19.5","esm2017")},2090:(ht,Te,R)=>{"use strict";R.d(Te,{BH:()=>Ve,LL:()=>Y,ZR:()=>de,zI:()=>U,US:()=>we,tV:()=>ye,$s:()=>ai,r3:()=>Et,Sg:()=>ke,ne:()=>Pi,vZ:()=>Kn,ZB:()=>W,pd:()=>bi,m9:()=>zs,z$:()=>Ze,jU:()=>re,ru:()=>me,d:()=>Ce,xb:()=>An,w1:()=>Ge,hl:()=>it,uI:()=>Be,UG:()=>ge,b$:()=>Me,G6:()=>le,Mn:()=>Ne,xO:()=>vs,zd:()=>Ji,eu:()=>F});const he=function(Q){const j=[];let ee=0;for(let Se=0;Se<Q.length;Se++){let ce=Q.charCodeAt(Se);ce<128?j[ee++]=ce:ce<2048?(j[ee++]=ce>>6|192,j[ee++]=63&ce|128):55296==(64512&ce)&&Se+1<Q.length&&56320==(64512&Q.charCodeAt(Se+1))?(ce=65536+((1023&ce)<<10)+(1023&Q.charCodeAt(++Se)),j[ee++]=ce>>18|240,j[ee++]=ce>>12&63|128,j[ee++]=ce>>6&63|128,j[ee++]=63&ce|128):(j[ee++]=ce>>12|224,j[ee++]=ce>>6&63|128,j[ee++]=63&ce|128)}return j},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,j){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,Se=[];for(let ce=0;ce<Q.length;ce+=3){const rt=Q[ce],dt=ce+1<Q.length,qt=dt?Q[ce+1]:0,Tn=ce+2<Q.length,qn=Tn?Q[ce+2]:0;let ue=(15&qt)<<2|qn>>6,te=63&qn;Tn||(te=64,dt||(ue=64)),Se.push(ee[rt>>2],ee[(3&rt)<<4|qt>>4],ee[ue],ee[te])}return Se.join("")},encodeString(Q,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(Q):this.encodeByteArray(he(Q),j)},decodeString(Q,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(Q):function(Q){const j=[];let ee=0,Se=0;for(;ee<Q.length;){const ce=Q[ee++];if(ce<128)j[Se++]=String.fromCharCode(ce);else if(ce>191&&ce<224){const rt=Q[ee++];j[Se++]=String.fromCharCode((31&ce)<<6|63&rt)}else if(ce>239&&ce<365){const Tn=((7&ce)<<18|(63&Q[ee++])<<12|(63&Q[ee++])<<6|63&Q[ee++])-65536;j[Se++]=String.fromCharCode(55296+(Tn>>10)),j[Se++]=String.fromCharCode(56320+(1023&Tn))}else{const rt=Q[ee++],dt=Q[ee++];j[Se++]=String.fromCharCode((15&ce)<<12|(63&rt)<<6|63&dt)}}return j.join("")}(this.decodeStringToByteArray(Q,j))},decodeStringToByteArray(Q,j){this.init_();const ee=j?this.charToByteMapWebSafe_:this.charToByteMap_,Se=[];for(let ce=0;ce<Q.length;){const rt=ee[Q.charAt(ce++)],qt=ce<Q.length?ee[Q.charAt(ce)]:0;++ce;const qn=ce<Q.length?ee[Q.charAt(ce)]:64;++ce;const jt=ce<Q.length?ee[Q.charAt(ce)]:64;if(++ce,null==rt||null==qt||null==qn||null==jt)throw Error();Se.push(rt<<2|qt>>4),64!==qn&&(Se.push(qt<<4&240|qn>>2),64!==jt&&Se.push(qn<<6&192|jt))}return Se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}},pe=function(Q){return function(Q){const j=he(Q);return we.encodeByteArray(j,!0)}(Q).replace(/\./g,"")},ye=function(Q){try{return we.decodeString(Q,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function W(Q,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return j}for(const ee in j)!j.hasOwnProperty(ee)||!oe(ee)||(Q[ee]=W(Q[ee],j[ee]));return Q}function oe(Q){return"__proto__"!==Q}class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,ee)=>{this.resolve=j,this.reject=ee})}wrapCallback(j){return(ee,Se)=>{ee?this.reject(ee):this.resolve(Se),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(ee):j(ee,Se))}}}function ke(Q,j){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Se=j||"demo-project",ce=Q.iat||0,rt=Q.sub||Q.user_id;if(!rt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const dt=Object.assign({iss:`https://securetoken.google.com/${Se}`,aud:Se,iat:ce,exp:ce+3600,auth_time:ce,sub:rt,user_id:rt,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(dt)),""].join(".")}function Ze(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Q){return!1}}function re(){return"object"==typeof self&&self.self===self}function me(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ce(){return Ze().indexOf("Electron/")>=0}function Ge(){const Q=Ze();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function Ne(){return Ze().indexOf("MSAppHost/")>=0}function le(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function it(){return"object"==typeof indexedDB}function F(){return new Promise((Q,j)=>{try{let ee=!0;const Se="validate-browser-context-for-indexeddb-analytics-module",ce=self.indexedDB.open(Se);ce.onsuccess=()=>{ce.result.close(),ee||self.indexedDB.deleteDatabase(Se),Q(!0)},ce.onupgradeneeded=()=>{ee=!1},ce.onerror=()=>{var rt;j((null===(rt=ce.error)||void 0===rt?void 0:rt.message)||"")}}catch(ee){j(ee)}})}function U(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class de extends Error{constructor(j,ee,Se){super(ee),this.code=j,this.customData=Se,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Y.prototype.create)}}class Y{constructor(j,ee,Se){this.service=j,this.serviceName=ee,this.errors=Se}create(j,...ee){const Se=ee[0]||{},ce=`${this.service}/${j}`,rt=this.errors[j],dt=rt?function(Q,j){return Q.replace(yt,(ee,Se)=>{const ce=j[Se];return null!=ce?String(ce):`<${Se}?>`})}(rt,Se):"Error";return new de(ce,`${this.serviceName}: ${dt} (${ce}).`,Se)}}const yt=/\{\$([^}]+)}/g;function Et(Q,j){return Object.prototype.hasOwnProperty.call(Q,j)}function An(Q){for(const j in Q)if(Object.prototype.hasOwnProperty.call(Q,j))return!1;return!0}function Kn(Q,j){if(Q===j)return!0;const ee=Object.keys(Q),Se=Object.keys(j);for(const ce of ee){if(!Se.includes(ce))return!1;const rt=Q[ce],dt=j[ce];if(Mr(rt)&&Mr(dt)){if(!Kn(rt,dt))return!1}else if(rt!==dt)return!1}for(const ce of Se)if(!ee.includes(ce))return!1;return!0}function Mr(Q){return null!==Q&&"object"==typeof Q}function vs(Q){const j=[];for(const[ee,Se]of Object.entries(Q))Array.isArray(Se)?Se.forEach(ce=>{j.push(encodeURIComponent(ee)+"="+encodeURIComponent(ce))}):j.push(encodeURIComponent(ee)+"="+encodeURIComponent(Se));return j.length?"&"+j.join("&"):""}function Ji(Q){const j={};return Q.replace(/^\?/,"").split("&").forEach(Se=>{if(Se){const[ce,rt]=Se.split("=");j[decodeURIComponent(ce)]=decodeURIComponent(rt)}}),j}function bi(Q){const j=Q.indexOf("?");if(!j)return"";const ee=Q.indexOf("#",j);return Q.substring(j,ee>0?ee:void 0)}function Pi(Q,j){const ee=new oi(Q,j);return ee.subscribe.bind(ee)}class oi{constructor(j,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{j(this)}).catch(Se=>{this.error(Se)})}next(j){this.forEachObserver(ee=>{ee.next(j)})}error(j){this.forEachObserver(ee=>{ee.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,ee,Se){let ce;if(void 0===j&&void 0===ee&&void 0===Se)throw new Error("Missing Observer.");ce=function(Q,j){if("object"!=typeof Q||null===Q)return!1;for(const ee of["next","error","complete"])if(ee in Q&&"function"==typeof Q[ee])return!0;return!1}(j)?j:{next:j,error:ee,complete:Se},void 0===ce.next&&(ce.next=pr),void 0===ce.error&&(ce.error=pr),void 0===ce.complete&&(ce.complete=pr);const rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ce.error(this.finalError):ce.complete()}catch(dt){}}),this.observers.push(ce),rt}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,j)}sendOne(j,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{ee(this.observers[j])}catch(Se){"undefined"!=typeof console&&console.error&&console.error(Se)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pr(){}function ai(Q,j=1e3,ee=2){const Se=j*Math.pow(ee,Q),ce=Math.round(.5*Se*(Math.random()-.5)*2);return Math.min(144e5,Se+ce)}function zs(Q){return Q&&Q._delegate?Q._delegate:Q}},3276:(ht,Te,R)=>{"use strict";var c=R(5e3);let B=null;function L(){return B}const se=new c.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.LFG)(W)},providedIn:"platform"}),n})();const $=new c.OlP("Location Initialized");let W=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){oe()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){oe()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:function(){return new W((0,c.LFG)(se))},providedIn:"platform"}),n})();function oe(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ze(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Be(n){return n&&"?"!==n[0]?"?"+n:n}let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function(n){const e=(0,c.LFG)(se).location;return new Me((0,c.LFG)(pe),e&&e.origin||"")}()},providedIn:"root"}),n})();const me=new c.OlP("appBaseHref");let Me=(()=>{class n extends ge{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Be(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const h=this.prepareExternalUrl(i+Be(a));this._platformLocation.pushState(t,r,h)}replaceState(t,r,i,a){const h=this.prepareExternalUrl(i+Be(a));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pe),c.LFG(me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ce=(()=>{class n extends ge{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let h=this.prepareExternalUrl(i+Be(a));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,i,a){let h=this.prepareExternalUrl(i+Be(a));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pe),c.LFG(me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ze(le(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Be(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,le(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Be,n.joinWithSlash=ke,n.stripTrailingSlash=Ze,n.\u0275fac=function(t){return new(t||n)(c.LFG(ge),c.LFG(pe))},n.\u0275prov=c.Yz7({token:n,factory:function(){return new Ge((0,c.LFG)(ge),(0,c.LFG)(pe))},providedIn:"root"}),n})();function le(n){return n.replace(/\/index.html$/,"")}var U=(()=>((U=U||{})[U.Zero=0]="Zero",U[U.One=1]="One",U[U.Two=2]="Two",U[U.Few=3]="Few",U[U.Many=4]="Many",U[U.Other=5]="Other",U))();const bi=c.kL8;class wi{}let nr=(()=>{class n extends wi{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(bi(r||this.locale)(t)){case U.Zero:return"zero";case U.One:return"one";case U.Two:return"two";case U.Few:return"few";case U.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.soG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Ot(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}class Ga{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vr=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,h)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ga(i.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,h),Ar(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Ar(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ar(n,e){n.context.$implicit=e.item}let Jn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new zi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){un("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){un("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class zi{constructor(){this.$implicit=null,this.ngIf=null}}function un(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class H4{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class ys{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const $u=new ys,rl=new H4;let B4=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return $u;if((0,c.F4k)(t))return rl;throw function(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,c.AaK)(n)}'`)}(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),F2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:wi,useClass:nr}]}),n})();const Qa="browser";function Zr(n){return"server"===n}let cl=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new j1((0,c.LFG)(se),window)}),n})();class j1{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const h=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(h)return h}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=U4(this.window.history)||U4(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function U4(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ta{}class mo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new mo,B||(B=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(go=go||document.querySelector("base"),go?go.getAttribute("href"):null);return null==t?null:function(n){Sr=Sr||document.createElement("a"),Sr.setAttribute("href",n);const e=Sr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){go=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ot(document.cookie,e)}}let Sr,go=null;const Cs=new c.OlP("TRANSITION_ID"),cn=[{provide:c.ip1,useFactory:function(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=L(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Cs,se,c.zs3],multi:!0}];class na{static init(){(0,c.VLi)(new na)}addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let a=i.length,h=!1;const f=function(v){h=h||v,a--,0==a&&r(h)};i.forEach(function(v){v.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ra=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ia=new c.OlP("EventManagerPlugins");let hi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const h=i[a];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ia),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class sa{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=L().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let oa=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),vt=(()=>{class n extends oa{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const h=this._doc.createElement("style");h.textContent=a,i.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(aa),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(aa))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function aa(n){L().remove(n)}const vo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_o=/%COMP%/g;function Zs(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Zs(n,i,t):(i=i.replace(_o,n),t.push(i))}return t}function Fn(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let rs=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new qr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Xu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new U2(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Zs(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(hi),c.LFG(vt),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class qr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(vo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=vo[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=vo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Fn(r)):this.eventManager.addEventListener(e,t,Fn(r))}}class Xu extends qr{constructor(e,t,r,i){super(e),this.component=r;const a=Zs(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr="_ngcontent-%COMP%".replace(_o,i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(_o,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class U2 extends qr{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Zs(i.id,i.styles,[]);for(let h=0;h<a.length;h++){const f=document.createElement("style");f.textContent=a[h],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let q1=(()=>{class n extends sa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const s1=["alt","control","meta","shift"],bs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yo={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ca={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ei=(()=>{class n extends sa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),h=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,a.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let h="";if(s1.forEach(v=>{const b=r.indexOf(v);b>-1&&(r.splice(b,1),h+=v+".")}),h+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=h,f}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&yo.hasOwnProperty(e)&&(e=yo[e]))}return bs[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),s1.forEach(a=>{a!=i&&ca[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const la=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Qa},{provide:c.g9A,useValue:function(){mo.makeCurrent(),na.init()},multi:!0},{provide:se,useFactory:function(){return(0,c.RDi)(document),document},deps:[]}]),W1=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function(){return new c.qLn},deps:[]},{provide:ia,useClass:q1,multi:!0,deps:[se,c.R0b,c.Lbi]},{provide:ia,useClass:Ei,multi:!0,deps:[se]},{provide:rs,useClass:rs,deps:[hi,vt,c.AFp]},{provide:c.FYo,useExisting:rs},{provide:oa,useExisting:vt},{provide:vt,useClass:vt,deps:[se]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:hi,useClass:hi,deps:[ia,c.R0b]},{provide:ta,useClass:ra,deps:[]}];let ua=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Cs,useExisting:c.AFp},cn]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:W1,imports:[F2,c.hGG]}),n})();"undefined"!=typeof window&&window;let K1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):c.LFG(q4),r},providedIn:"root"}),n})(),q4=(()=>{class n extends K1{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case c.q3G.NONE:return r;case c.q3G.HTML:return(0,c.qzn)(r,"HTML")?(0,c.z3N)(r):(0,c.EiD)(this._doc,String(r)).toString();case c.q3G.STYLE:return(0,c.qzn)(r,"Style")?(0,c.z3N)(r):r;case c.q3G.SCRIPT:if((0,c.qzn)(r,"Script"))return(0,c.z3N)(r);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(r),(0,c.qzn)(r,"URL")?(0,c.z3N)(r):(0,c.mCW)(String(r));case c.q3G.RESOURCE_URL:if((0,c.qzn)(r,"ResourceURL"))return(0,c.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function(n){return new q4(n.get(se))}(c.LFG(c.zs3)),r},providedIn:"root"}),n})();var bn=R(8996),ha=R(3269);function tt(...n){const e=(0,ha.yG)(n);return(0,bn.D)(n,e)}var pn=R(7579);class di extends pn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var jn=R(8306);const{isArray:wo}=Array,{getPrototypeOf:rr,prototype:da,keys:Mo}=Object;function u1(n){if(1===n.length){const e=n[0];if(wo(e))return{args:e,keys:null};if(function(n){return n&&"object"==typeof n&&rr(n)===da}(e)){const t=Mo(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Eo=R(4671),wt=R(4004);const{isArray:gl}=Array;function ss(n){return(0,wt.U)(e=>function(n,e){return gl(e)?n(...e):n(e)}(n,e))}function h1(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var xn=R(5403),Ao=R(9672);function Ai(n,e,t){n?(0,Ao.f)(t,n,e):e()}const pa=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var os=R(8189);function Q1(...n){return(0,os.J)(1)((0,bn.D)(n,(0,ha.yG)(n)))}var Gr=R(8421);function $s(n){return new jn.y(e=>{(0,Gr.Xf)(n()).subscribe(e)})}var ma=R(515),So=R(727),xr=R(4482);function xo(){return(0,xr.e)((n,e)=>{let t=null;n._refCount++;const r=new xn.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ga extends jn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,xr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new So.w0;const t=this.getSubject();e.add(this.source.subscribe(new xn.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=So.w0.EMPTY)}return e}refCount(){return xo()(this)}}function _r(n,e){return(0,xr.e)((t,r)=>{let i=null,a=0,h=!1;const f=()=>h&&!i&&r.complete();t.subscribe(new xn.Q(r,v=>{null==i||i.unsubscribe();let b=0;const x=a++;(0,Gr.Xf)(n(v,x)).subscribe(i=new xn.Q(r,T=>r.next(e?e(v,T,x,b++):T),()=>{i=null,f()}))},()=>{h=!0,f()}))})}var fi=R(5698);function Vi(...n){const e=(0,ha.yG)(n);return(0,xr.e)((t,r)=>{(e?Q1(n,t,e):Q1(n,t)).subscribe(r)})}function Ks(n,e,t,r,i){return(a,h)=>{let f=t,v=e,b=0;a.subscribe(new xn.Q(h,x=>{const T=b++;v=f?n(v,x,T):(f=!0,x),r&&h.next(v)},i&&(()=>{f&&h.next(v),h.complete()})))}}function as(n,e){return(0,xr.e)(Ks(n,e,arguments.length>=2,!0))}function Zn(n,e){return(0,xr.e)((t,r)=>{let i=0;t.subscribe(new xn.Q(r,a=>n.call(e,a,i++)&&r.next(a)))})}function Hi(n){return(0,xr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe(new xn.Q(t,void 0,void 0,h=>{a=(0,Gr.Xf)(n(h,Hi(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var Rn=R(5577),Ys=R(576);function Qs(n,e){return(0,Ys.m)(e)?(0,Rn.z)(n,e,1):(0,Rn.z)(n,1)}function On(n){return n<=0?()=>ma.E:(0,xr.e)((e,t)=>{let r=[];e.subscribe(new xn.Q(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function J1(n=vh){return(0,xr.e)((e,t)=>{let r=!1;e.subscribe(new xn.Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function vh(){return new pa}function r6(n){return(0,xr.e)((e,t)=>{let r=!1;e.subscribe(new xn.Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function va(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zn((i,a)=>n(i,a,r)):Eo.y,(0,fi.q)(1),t?r6(e):J1(()=>new pa))}var Rr=R(8505);class Wr{constructor(e,t){this.id=e,this.url=t}}class X1 extends Wr{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bn extends Wr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _a extends Wr{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class f1 extends Wr{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _l extends Wr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W4 extends Wr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pi extends Wr{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mi extends Wr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p1 extends Wr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m1{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ws{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class X2{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Do{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e2{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yl{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const zt="primary";class Dr{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Bi(n){return new Dr(n)}const Ms="ngNavigationCancelingError";function $4(n){const e=Error("NavigationCancelingError: "+n);return e[Ms]=!0,e}function i6(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const h=r[a],f=n[a];if(h.startsWith(":"))i[h.substring(1)]=f;else if(h!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function cs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Es(n[i],e[i]))return!1;return!0}function Es(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function g1(n){return Array.prototype.concat.apply([],n)}function nc(n){return n.length>0?n[n.length-1]:null}function wn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function As(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,bn.D)(Promise.resolve(n)):tt(n)}const t2={exact:function ic(n,e,t){if(!Qe(n.segments,e.segments)||!N(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ic(n.children[r],e.children[r],t))return!1;return!0},subset:E},ya={exact:function(n,e){return cs(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Es(n[t],e[t]))},ignored:()=>!0};function rc(n,e,t){return t2[t.paths](n.root,e.root,t.matrixParams)&&ya[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function E(n,e,t){return S(n,e,e.segments,t)}function S(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Qe(i,t)||e.hasChildren()||!N(i,t,r))}if(n.segments.length===t.length){if(!Qe(n.segments,t)||!N(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!E(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Qe(n.segments,i)&&N(n.segments,i,r)&&n.children[zt])&&S(n.children[zt],e,a,r)}}function N(n,e,t){return e.every((r,i)=>ya[t](n[i].parameters,r.parameters))}class V{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bi(this.queryParams)),this._queryParamMap}toString(){return Or.serialize(this)}}class q{constructor(e,t){this.segments=e,this.children=t,this.parent=null,wn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xn(this)}}class _e{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Bi(this.parameters)),this._parameterMap}toString(){return sc(this)}}function Qe(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Yt{}class hn{parse(e){const t=new Y4(e);return new V(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${dn(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Si(t)}=${Si(i)}`).join("&"):`${Si(t)}=${Si(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Or=new hn;function Xn(n){return n.segments.map(e=>sc(e)).join("/")}function dn(n,e){if(!n.hasChildren())return Xn(n);if(e){const t=n.children[zt]?dn(n.children[zt],!1):"",r=[];return wn(n.children,(i,a)=>{a!==zt&&r.push(`${a}:${dn(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return wn(n.children,(r,i)=>{i===zt&&(t=t.concat(e(r,i)))}),wn(n.children,(r,i)=>{i!==zt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===zt?[dn(n.children[zt],!1)]:[`${i}:${dn(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[zt]?`${Xn(n)}/${t[0]}`:`${Xn(n)}/(${t.join("//")})`}}function Ca(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Si(n){return Ca(n).replace(/%3B/gi,";")}function Ui(n){return Ca(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ji(n){return decodeURIComponent(n)}function To(n){return ji(n.replace(/\+/g,"%20"))}function sc(n){return`${Ui(n.path)}${function(n){return Object.keys(n).map(e=>`;${Ui(e)}=${Ui(n[e])}`).join("")}(n.parameters)}`}const n2=/^[^\/()?;=#]+/;function Js(n){const e=n.match(n2);return e?e[0]:""}const bh=/^[^=?&#]+/,K4=/^[^&#]+/;class Y4{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new q([],{}):new q([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[zt]=new q(e,t)),r}parseSegment(){const e=Js(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new _e(ji(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Js(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Js(this.remaining);i&&(r=i,this.capture(r))}e[ji(t)]=ji(r)}parseQueryParam(e){const t=function(n){const e=n.match(bh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(K4);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const i=To(t),a=To(r);if(e.hasOwnProperty(i)){let h=e[i];Array.isArray(h)||(h=[h],e[i]=h),h.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Js(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=zt);const h=this.parseChildren();t[a]=1===Object.keys(h).length?h[zt]:new q([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class s6{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Q4(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Q4(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=J4(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return J4(e,this._root).map(t=>t.value)}}function Q4(n,e){if(n===e.value)return e;for(const t of e.children){const r=Q4(n,t);if(r)return r}return null}function J4(n,e){if(n===e.value)return[e];for(const t of e.children){const r=J4(n,t);if(r.length)return r.unshift(e),r}return[]}class ls{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function wa(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class _1 extends s6{constructor(e,t){super(e),this.snapshot=t,Ml(this,e)}toString(){return this.snapshot.toString()}}function o6(n,e){const t=function(n,e){const h=new ac([],{},{},"",{},zt,e,null,n.root,-1,{});return new e0("",new ls(h,[]))}(n,e),r=new di([new _e("",{})]),i=new di({}),a=new di({}),h=new di({}),f=new di(""),v=new Ma(r,i,h,f,a,zt,e,t.root);return v.snapshot=t.root,new _1(new ls(v,[]),t)}class Ma{constructor(e,t,r,i,a,h,f,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=h,this.component=f,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(e=>Bi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(e=>Bi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oc(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ac{constructor(e,t,r,i,a,h,f,v,b,x,T){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=h,this.component=f,this.routeConfig=v,this._urlSegment=b,this._lastPathIndex=x,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class e0 extends s6{constructor(e,t){super(t),this.url=e,Ml(this,t)}toString(){return Io(this._root)}}function Ml(n,e){e.value._routerState=n,e.children.forEach(t=>Ml(n,t))}function Io(n){const e=n.children.length>0?` { ${n.children.map(Io).join(", ")} } `:"";return`${n.value}${e}`}function t0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,cs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),cs(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!cs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),cs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function n0(n,e){const t=cs(n.params,e.params)&&function(n,e){return Qe(n,e)&&n.every((t,r)=>cs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||n0(n.parent,e.parent))}function cc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return cc(n,r,i);return cc(n,r)})}(n,e,t);return new ls(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const h=a.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(f=>cc(n,f)),h}}const r=function(n){return new Ma(new di(n.url),new di(n.params),new di(n.queryParams),new di(n.fragment),new di(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>cc(n,a));return new ls(r,i)}}function lc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function r2(n){return"object"==typeof n&&null!=n&&n.outlets}function s0(n,e,t,r,i){let a={};return r&&wn(r,(h,f)=>{a[f]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),new V(t.root===n?e:El(t.root,n,e),a,i)}function El(n,e,t){const r={};return wn(n.children,(i,a)=>{r[a]=i===e?t:El(i,e,t)}),new q(n.segments,r)}class a6{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&lc(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(r2);if(i&&i!==nc(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class uc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Dh(n,e,t){if(n||(n=new q([],{})),0===n.segments.length&&n.hasChildren())return y(n,e,t);const r=function(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const h=n.segments[i],f=t[r];if(r2(f))break;const v=`${f}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&b&&"object"==typeof b&&void 0===b.outlets){if(!O(v,b,h))return a;r+=2}else{if(!O(v,{},h))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new q(n.segments.slice(0,r.pathIndex),{});return a.children[zt]=new q(n.segments.slice(r.pathIndex),n.children),y(a,0,i)}return r.match&&0===i.length?new q(n.segments,{}):r.match&&!n.hasChildren()?g(n,e,t):r.match?y(n,0,i):g(n,e,t)}function y(n,e,t){if(0===t.length)return new q(n.segments,{});{const r=function(n){return r2(n[0])?n[0].outlets:{[zt]:n}}(t),i={};return wn(r,(a,h)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[h]=Dh(n.children[h],e,a))}),wn(n.children,(a,h)=>{void 0===r[h]&&(i[h]=a)}),new q(n.segments,i)}}function g(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(r2(a)){const v=w(a.outlets);return new q(r,v)}if(0===i&&lc(t[0])){r.push(new _e(n.segments[e].path,I(t[0]))),i++;continue}const h=r2(a)?a.outlets[zt]:`${a}`,f=i<t.length-1?t[i+1]:null;h&&f&&lc(f)?(r.push(new _e(h,I(f))),i+=2):(r.push(new _e(h,{})),i++)}return new q(r,{})}function w(n){const e={};return wn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=g(new q([],{}),0,t))}),e}function I(n){const e={};return wn(n,(t,r)=>e[r]=`${t}`),e}function O(n,e,t){return n==t.path&&cs(e,t.parameters)}class Re{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),t0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=wa(t);e.children.forEach(a=>{const h=a.value.outlet;this.deactivateRoutes(a,i[h],r),delete i[h]}),wn(i,(a,h)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const h=r.getContext(i.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=wa(e);for(const h of Object.keys(a))this.deactivateRouteAndItsChildren(a[h],i);if(r&&r.outlet){const h=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=wa(e);for(const h of Object.keys(a))this.deactivateRouteAndItsChildren(a[h],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=wa(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new yl(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Do(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(t0(i),i===a)if(i.component){const h=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const h=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),h.children.onOutletReAttached(f.contexts),h.attachRef=f.componentRef,h.route=f.route.value,h.outlet&&h.outlet.attach(f.componentRef,f.route.value),t0(f.route.value),this.activateChildRoutes(e,null,h.children)}else{const f=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),v=f?f.module.componentFactoryResolver:null;h.attachRef=null,h.route=i,h.resolver=v,h.outlet&&h.outlet.activateWith(i,v),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class xt{constructor(e,t){this.routes=e,this.module=t}}function Ft(n){return"function"==typeof n}function Tr(n){return n instanceof V}const y1=Symbol("INITIAL_VALUE");function o2(){return _r(n=>function(...n){const e=(0,ha.yG)(n),t=(0,ha.jO)(n),{args:r,keys:i}=u1(n);if(0===r.length)return(0,bn.D)([],e);const a=new jn.y(function(n,e,t=Eo.y){return r=>{Ai(e,()=>{const{length:i}=n,a=new Array(i);let h=i,f=i;for(let v=0;v<i;v++)Ai(e,()=>{const b=(0,bn.D)(n[v],e);let x=!1;b.subscribe(new xn.Q(r,T=>{a[v]=T,x||(x=!0,f--),f||r.next(t(a.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,i?h=>h1(i,h):Eo.y));return t?a.pipe(ss(t)):a}(n.map(e=>e.pipe((0,fi.q)(1),Vi(y1)))).pipe(as((e,t)=>{let r=!1;return t.reduce((i,a,h)=>i!==y1?i:(a===y1&&(r=!0),r||!1!==a&&h!==t.length-1&&!Tr(a)?i:a),e)},y1),Zn(e=>e!==y1),(0,wt.U)(e=>Tr(e)?e:!0===e),(0,fi.q)(1)))}class o0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new a2,this.attachRef=null}}class a2{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new o0,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Al=(()=>{class n{constructor(t,r,i,a,h){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=a||zt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,v=new Sl(t,f,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(a2),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Sl{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ma?this.route:e===a2?this.childContexts:this.parent.get(e,t)}}let c2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[Al],encapsulation:2}),n})();function a0(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];hc(r,Ih(e,r))}}function hc(n,e){n.children&&a0(n.children,e)}function Ih(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function ir(n){const e=n.children&&n.children.map(ir),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==zt&&(t.component=c2),t}function Ss(n){return n.outlet||zt}function m5(n,e){const t=n.filter(r=>Ss(r)===e);return t.push(...n.filter(r=>Ss(r)!==e)),t}const u6={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function c0(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},u6):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(e.matcher||i6)(t,n,e);if(!a)return Object.assign({},u6);const h={};wn(a.posParams,(v,b)=>{h[b]=v.path});const f=a.consumed.length>0?Object.assign(Object.assign({},h),a.consumed[a.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function h6(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>kh(n,e,r)&&Ss(r)!==zt)}(n,t,r)){const h=new q(e,function(n,e,t,r){const i={};i[zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Ss(a)!==zt){const h=new q([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,i[Ss(a)]=h}return i}(n,e,r,new q(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>kh(n,e,r))}(n,t,r)){const h=new q(n.segments,function(n,e,t,r,i,a){const h={};for(const f of r)if(kh(n,t,f)&&!i[Ss(f)]){const v=new q([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===a?n.segments.length:e.length,h[Ss(f)]=v}return Object.assign(Object.assign({},i),h)}(n,e,t,r,n.children,i));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const a=new q(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function kh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function B9(n,e,t,r){return!!(Ss(n)===r||r!==zt&&kh(e,t,n))&&("**"===n.path||c0(e,n,t).matched)}function xl(n,e,t){return 0===e.length&&!n.children[t]}class Pr{constructor(e){this.segmentGroup=e||null}}class d6{constructor(e){this.urlTree=e}}function l0(n){return new jn.y(e=>e.error(new Pr(n)))}function Nh(n){return new jn.y(e=>e.error(new d6(n)))}function xi(n){return new jn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class U9{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=h6(this.urlTree.root,[],[],this.config).segmentGroup,t=new q(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,zt).pipe((0,wt.U)(a=>this.createUrlTree(f6(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Hi(a=>{if(a instanceof d6)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Pr?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,zt).pipe((0,wt.U)(i=>this.createUrlTree(f6(i),e.queryParams,e.fragment))).pipe(Hi(i=>{throw i instanceof Pr?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new q([],{[zt]:e}):e;return new V(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,wt.U)(a=>new q([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,bn.D)(i).pipe(Qs(a=>{const h=r.children[a],f=m5(t,a);return this.expandSegmentGroup(e,f,h,a).pipe((0,wt.U)(v=>({segment:v,outlet:a})))}),as((a,h)=>(a[h.outlet]=h.segment,a),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zn((i,a)=>n(i,a,r)):Eo.y,On(1),t?r6(e):J1(()=>new pa))}())}expandSegment(e,t,r,i,a,h){return(0,bn.D)(r).pipe(Qs(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,h).pipe(Hi(b=>{if(b instanceof Pr)return tt(null);throw b}))),va(f=>!!f),Hi((f,v)=>{if(f instanceof pa||"EmptyError"===f.name){if(xl(t,i,a))return tt(new q([],{}));throw new Pr(t)}throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,h,f){return B9(i,t,a,h)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,h):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,h):l0(t):l0(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,h){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Nh(a):this.lineralizeSegments(r,a).pipe((0,Rn.z)(h=>{const f=new q(h,{});return this.expandSegment(e,f,t,h,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,h){const{matched:f,consumedSegments:v,lastChild:b,positionalParamSegments:x}=c0(t,i,a);if(!f)return l0(t);const T=this.applyRedirectCommands(v,i.redirectTo,x);return i.redirectTo.startsWith("/")?Nh(T):this.lineralizeSegments(i,T).pipe((0,Rn.z)(z=>this.expandSegment(e,t,r,z.concat(a.slice(b)),h,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?tt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,wt.U)(z=>(r._loadedConfig=z,new q(i,{})))):tt(new q(i,{}));const{matched:h,consumedSegments:f,lastChild:v}=c0(t,r,i);if(!h)return l0(t);const b=i.slice(v);return this.getChildConfig(e,r,i).pipe((0,Rn.z)(T=>{const z=T.module,H=T.routes,{segmentGroup:X,slicedSegments:ve}=h6(t,f,b,H),xe=new q(X.segments,X.children);if(0===ve.length&&xe.hasChildren())return this.expandChildren(z,H,xe).pipe((0,wt.U)(ot=>new q(f,ot)));if(0===H.length&&0===ve.length)return tt(new q(f,{}));const je=Ss(r)===a;return this.expandSegment(z,xe,H,ve,je?zt:a,!0).pipe((0,wt.U)(Nt=>new q(f.concat(Nt.segments),Nt.children)))}))}getChildConfig(e,t,r){return t.children?tt(new xt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?tt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Rn.z)(i=>{return i?this.configLoader.load(e.injector,t).pipe((0,wt.U)(a=>(t._loadedConfig=a,a))):(n=t,new jn.y(e=>e.error($4(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):tt(new xt([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?tt(i.map(h=>{const f=e.get(h);let v;if((n=f)&&Ft(n.canLoad))v=f.canLoad(t,r);else{if(!Ft(f))throw new Error("Invalid CanLoad guard");v=f(t,r)}var n;return As(v)})).pipe(o2(),(0,Rr.b)(h=>{if(!Tr(h))return;const f=$4(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw f.url=h,f}),(0,wt.U)(h=>!0===h)):tt(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return tt(r);if(i.numberOfChildren>1||!i.children[zt])return xi(e.redirectTo);i=i.children[zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new V(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return wn(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let h={};return wn(t.children,(f,v)=>{h[v]=this.createSegmentGroup(e,f,r,i)}),new q(a,h)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function f6(n){const e={};for(const r of Object.keys(n.children)){const a=f6(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function(n){if(1===n.numberOfChildren&&n.children[zt]){const e=n.children[zt];return new q(n.segments.concat(e.segments),e.children)}return n}(new q(n.segments,e))}class Rh{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class p6{constructor(e,t){this.component=e,this.route=t}}function g5(n,e,t){const r=n._root;return dc(r,e?e._root:null,t,[r.value])}function m6(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function dc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=wa(e);return n.children.forEach(h=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,h=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(h&&a.routeConfig===h.routeConfig){const v=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Qe(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Qe(n.url,e.url)||!cs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!n0(n,e)||!cs(n.queryParams,e.queryParams);default:return!n0(n,e)}}(h,a,a.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new Rh(r)):(a.data=h.data,a._resolvedData=h._resolvedData),dc(n,e,a.component?f?f.children:null:t,r,i),v&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new p6(f.outlet.component,h))}else h&&g6(e,f,i),i.canActivateChecks.push(new Rh(r)),dc(n,null,a.component?f?f.children:null:t,r,i)})(h,a[h.value.outlet],t,r.concat([h.value]),i),delete a[h.value.outlet]}),wn(a,(h,f)=>g6(h,t.getContext(f),i)),i}function g6(n,e,t){const r=wa(n),i=n.value;wn(r,(a,h)=>{g6(a,i.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new p6(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class tg{}function Ph(n){return new jn.y(e=>e.error(n))}class rg{constructor(e,t,r,i,a,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=h}recognize(){const e=h6(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,zt);if(null===t)return null;const r=new ac([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ls(r,t),a=new e0(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=oc(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const h=t.children[a],f=m5(e,a),v=this.processSegmentGroup(f,h,a);if(null===v)return null;r.push(...v)}const i=_5(r);return i.sort((e,t)=>e.value.outlet===zt?-1:t.value.outlet===zt?1:e.value.outlet.localeCompare(t.value.outlet)),i}processSegment(e,t,r,i){for(const a of e){const h=this.processSegmentAgainstRoute(a,t,r,i);if(null!==h)return h}return xl(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!B9(e,t,r,i))return null;let a,h=[],f=[];if("**"===e.path){const H=r.length>0?nc(r).parameters:{};a=new ac(r,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,No(e),Ss(e),e.component,e,y5(t),fc(t)+r.length,og(e))}else{const H=c0(t,e,r);if(!H.matched)return null;h=H.consumedSegments,f=r.slice(H.lastChild),a=new ac(h,H.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,No(e),Ss(e),e.component,e,y5(t),fc(t)+h.length,og(e))}const v=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:b,slicedSegments:x}=h6(t,h,f,v.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);var n;if(0===x.length&&b.hasChildren()){const H=this.processChildren(v,b);return null===H?null:[new ls(a,H)]}if(0===v.length&&0===x.length)return[new ls(a,[])];const T=Ss(e)===i,z=this.processSegment(v,b,x,T?zt:i);return null===z?null:[new ls(a,z)]}}function v5(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function _5(n){const e=[],t=new Set;for(const r of n){if(!v5(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=_5(r.children);e.push(new ls(r.value,i))}return e.filter(r=>!t.has(r))}function y5(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function fc(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function No(n){return n.data||{}}function og(n){return n.resolve||{}}function d0(n){return _r(e=>{const t=n(e);return t?(0,bn.D)(t).pipe((0,wt.U)(()=>e)):tt(e)})}class f0 extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const v6=new c.OlP("ROUTES");class Fh{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,wt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=a.create(e);return new xt(g1(h.injector.get(v6,void 0,c.XFs.Self|c.XFs.Optional)).map(ir),h)}),Hi(a=>{throw t._loader$=void 0,a}));return t._loader$=new ga(i,()=>new pn.x).pipe(xo()),t._loader$}loadModuleFactory(e){return As(e()).pipe((0,Rn.z)(t=>t instanceof c.YKP?tt(t):(0,bn.D)(this.compiler.compileModuleAsync(t))))}}class Hh{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function w5(n){throw n}function Pb(n,e,t){return e.parse("/")}function pc(n,e){return tt(null)}const Bh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},M5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hr=(()=>{class n{constructor(t,r,i,a,h,f,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new pn.x,this.errorHandler=w5,this.malformedUriErrorHandler=Pb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:pc,afterPreactivation:pc},this.urlHandlingStrategy=new Hh,this.routeReuseStrategy=new f0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(c.h0i),this.console=h.get(c.c2e);const T=h.get(c.R0b);this.isNgZoneEnabled=T instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=new V(new q([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Fh(h,f,z=>this.triggerEvent(new m1(z)),z=>this.triggerEvent(new ws(z))),this.routerState=o6(this.currentUrlTree,this.rootComponentType),this.transitions=new di({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Zn(i=>0!==i.id),(0,wt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),_r(i=>{let a=!1,h=!1;return tt(i).pipe((0,Rr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_r(f=>{const v=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return _6(f.source)&&(this.browserUrlTree=f.extractedUrl),tt(f).pipe(_r(T=>{const z=this.transitions.getValue();return r.next(new X1(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),z!==this.transitions.getValue()?ma.E:Promise.resolve(T)}),function(n,e,t,r){return _r(i=>function(n,e,t,r,i){return new U9(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,wt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Rr.b)(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function(n,e,t,r,i){return(0,Rn.z)(a=>function(n,e,t,r,i="emptyOnly",a="legacy"){try{const h=new rg(n,e,t,r,i,a).recognize();return null===h?Ph(new tg):tt(h)}catch(h){return Ph(h)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,wt.U)(h=>Object.assign(Object.assign({},a),{targetSnapshot:h}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Rr.b)(T=>{if("eager"===this.urlUpdateStrategy){if(!T.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);this.setBrowserUrl(H,T)}this.browserUrlTree=T.urlAfterRedirects}const z=new _l(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);r.next(z)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:z,extractedUrl:H,source:X,restoredState:ve,extras:xe}=f,je=new X1(z,this.serializeUrl(H),X,ve);r.next(je);const ct=o6(H,this.rootComponentType).snapshot;return tt(Object.assign(Object.assign({},f),{targetSnapshot:ct,urlAfterRedirects:H,extras:Object.assign(Object.assign({},xe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),ma.E}),d0(f=>{const{targetSnapshot:v,id:b,extractedUrl:x,rawUrl:T,extras:{skipLocationChange:z,replaceUrl:H}}=f;return this.hooks.beforePreactivation(v,{navigationId:b,appliedUrlTree:x,rawUrlTree:T,skipLocationChange:!!z,replaceUrl:!!H})}),(0,Rr.b)(f=>{const v=new W4(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(v)}),(0,wt.U)(f=>Object.assign(Object.assign({},f),{guards:g5(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Rn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:h}}=t;return 0===h.length&&0===a.length?tt(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,bn.D)(n).pipe((0,Rn.z)(i=>function(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?tt(a.map(f=>{const v=m6(f,e,i);let b;if(function(n){return n&&Ft(n.canDeactivate)}(v))b=As(v.canDeactivate(n,e,t,r));else{if(!Ft(v))throw new Error("Invalid CanDeactivate guard");b=As(v(n,e,t,r))}return b.pipe(va())})).pipe(o2()):tt(!0)}(i.component,i.route,t,e,r)),va(i=>!0!==i,!0))}(h,r,i,n).pipe((0,Rn.z)(f=>f&&function(n){return"boolean"==typeof n}(f)?function(n,e,t,r){return(0,bn.D)(e).pipe(Qs(i=>Q1(function(n,e){return null!==n&&e&&e(new X2(n)),tt(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new e2(n)),tt(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>$s(()=>tt(h.guards.map(v=>{const b=m6(v,h.node,t);let x;if(function(n){return n&&Ft(n.canActivateChild)}(b))x=As(b.canActivateChild(r,n));else{if(!Ft(b))throw new Error("Invalid CanActivateChild guard");x=As(b(r,n))}return x.pipe(va())})).pipe(o2())));return tt(a).pipe(o2())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return tt(!0);const i=r.map(a=>$s(()=>{const h=m6(a,e,t);let f;if(function(n){return n&&Ft(n.canActivate)}(h))f=As(h.canActivate(e,n));else{if(!Ft(h))throw new Error("Invalid CanActivate guard");f=As(h(e,n))}return f.pipe(va())}));return tt(i).pipe(o2())}(n,i.route,t))),va(i=>!0!==i,!0))}(r,a,n,e):tt(f)),(0,wt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Rr.b)(f=>{if(Tr(f.guardsResult)){const b=$4(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const v=new pi(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(v)}),Zn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),d0(f=>{if(f.guards.canActivateChecks.length)return tt(f).pipe((0,Rr.b)(v=>{const b=new mi(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(b)}),_r(v=>{let b=!1;return tt(v).pipe(function(n,e){return(0,Rn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return tt(t);let a=0;return(0,bn.D)(i).pipe(Qs(h=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return tt({});const a={};return(0,bn.D)(i).pipe((0,Rn.z)(h=>function(n,e,t,r){const i=m6(n,e,r);return As(i.resolve?i.resolve(e,t):i(e,t))}(n[h],e,t,r).pipe((0,Rr.b)(f=>{a[h]=f}))),On(1),(0,Rn.z)(()=>Object.keys(a).length===i.length?tt(a):ma.E))}(n._resolve,n,e,r).pipe((0,wt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),oc(n,t).resolve),null)))}(h.route,r,n,e)),(0,Rr.b)(()=>a++),On(1),(0,Rn.z)(h=>a===i.length?tt(t):ma.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Rr.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,Rr.b)(v=>{const b=new p1(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(b)}))}),d0(f=>{const{targetSnapshot:v,id:b,extractedUrl:x,rawUrl:T,extras:{skipLocationChange:z,replaceUrl:H}}=f;return this.hooks.afterPreactivation(v,{navigationId:b,appliedUrlTree:x,rawUrlTree:T,skipLocationChange:!!z,replaceUrl:!!H})}),(0,wt.U)(f=>{const v=function(n,e,t){const r=cc(n,e._root,t?t._root:void 0);return new _1(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:v})}),(0,Rr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,wt.U)(r=>(new Re(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Rr.b)({next(){a=!0},complete(){a=!0}}),function(n){return(0,xr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;a||h||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),Hi(f=>{if(h=!0,function(n){return n&&n[Ms]}(f)){const v=Tr(f.url);v||(this.navigated=!0,this.restoreHistory(i,!0));const b=new _a(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(b),v?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),T={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_6(i.source)};this.scheduleNavigation(x,"imperative",null,T,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const v=new f1(i.id,this.serializeUrl(i.extractedUrl),f);r.next(v);try{i.resolve(this.errorHandler(f))}catch(b){i.reject(b)}}return ma.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},h=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(h){const v=Object.assign({},h);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(a.state=v)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,h,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){a0(t),this.config=t.map(ir),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:h,queryParamsHandling:f,preserveFragment:v}=r,b=i||this.routerState.root,x=v?this.currentUrlTree.fragment:h;let T=null;switch(f){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=a||null}return null!==T&&(T=this.removeEmptyProps(T)),function(n,e,t,r,i){if(0===t.length)return s0(e.root,e.root,e,r,i);const a=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new a6(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,h)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return wn(a.outlets,(v,b)=>{f[b]="string"==typeof v?v.split("/"):v}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===h?(a.split("/").forEach((f,v)=>{0==v&&"."===f||(0==v&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new a6(t,e,r)}(t);if(a.toRoot())return s0(e.root,new q([],{}),e,r,i);const h=function(n,e,t){if(n.isAbsolute)return new uc(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new uc(a,a===e.root,0)}const r=lc(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new uc(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=h.processChildren?y(h.segmentGroup,h.index,a.commands):Dh(h.segmentGroup,h.index,a.commands);return s0(h.segmentGroup,f,e,r,i)}(b,this.currentUrlTree,t,T,null!=x?x:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Tr(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Bh):!1===r?Object.assign({},M5):r,Tr(t))return rc(this.currentUrlTree,t,i);const a=this.parseUrl(t);return rc(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Bn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,h){var f,v,b;if(this.disposed)return Promise.resolve(!1);const x=this.transitions.value,T=_6(r)&&x&&!_6(x.source),z=x.rawUrl.toString()===t.toString(),H=x.id===(null===(f=this.currentNavigation)||void 0===f?void 0:f.id);if(T&&z&&H)return Promise.resolve(!0);let ve,xe,je;h?(ve=h.resolve,xe=h.reject,je=h.promise):je=new Promise((ot,tn)=>{ve=ot,xe=tn});const ct=++this.navigationId;let Nt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Nt=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Nt=0,this.setTransition({id:ct,targetPageId:Nt,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:ve,reject:xe,promise:je,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),je.catch(ot=>Promise.reject(ot))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===h?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new _a(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function _6(n){return"imperative"!==n}class qh{}class Wh{preload(e,t){return tt(null)}}let y6=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new Fh(i,r,v=>t.triggerEvent(new m1(v)),v=>t.triggerEvent(new ws(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(Zn(t=>t instanceof Bn),Qs(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const h=a._loadedConfig;i.push(this.processRoutes(h.module,h.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,bn.D)(i).pipe((0,os.J)(),(0,wt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?tt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Rn.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(hr),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(qh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),$h=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof X1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Bn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Cl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Cl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const l2=new c.OlP("ROUTER_CONFIGURATION"),Kh=new c.OlP("ROUTER_FORROOT_GUARD"),mc=[Ge,{provide:Yt,useClass:hn},{provide:hr,useFactory:function(n,e,t,r,i,a,h={},f,v){const b=new hr(null,n,e,t,r,i,g1(a));return f&&(b.urlHandlingStrategy=f),v&&(b.routeReuseStrategy=v),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,b),h.enableTracing&&b.events.subscribe(x=>{var T,z;null===(T=console.group)||void 0===T||T.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(z=console.groupEnd)||void 0===z||z.call(console)}),b},deps:[Yt,a2,Ge,c.zs3,c.Sil,v6,l2,[class{},new c.FiY],[class{},new c.FiY]]},a2,{provide:Ma,useFactory:function(n){return n.routerState.root},deps:[hr]},y6,Wh,class{preload(e,t){return t().pipe(Hi(()=>tt(null)))}},{provide:l2,useValue:{enableTracing:!1}}];function E5(){return new c.PXZ("Router",hr)}let Yh=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[mc,Qh(t),{provide:Kh,useFactory:hg,deps:[[hr,new c.FiY,new c.tp0]]},{provide:l2,useValue:r||{}},{provide:ge,useFactory:C6,deps:[pe,[new c.tBr(me),new c.FiY],l2]},{provide:$h,useFactory:ug,deps:[hr,cl,l2]},{provide:qh,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Wh},{provide:c.PXZ,multi:!0,useFactory:E5},[b6,{provide:c.ip1,multi:!0,useFactory:w6,deps:[b6]},{provide:Xh,useFactory:M6,deps:[b6]},{provide:c.tb,multi:!0,useExisting:Xh}]]}}static forChild(t){return{ngModule:n,providers:[Qh(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Kh,8),c.LFG(hr,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function ug(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new $h(n,e,t)}function C6(n,e,t={}){return t.useHash?new Ce(n,e):new Me(n,e)}function hg(n){return"guarded"}function Qh(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:v6,multi:!0,useValue:n}]}let b6=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new pn.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(hr),h=this.injector.get(l2);return"disabled"===h.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?tt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(l2),i=this.injector.get(y6),a=this.injector.get($h),h=this.injector.get(hr),f=this.injector.get(c.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),i.setUpPreloading(),a.init(),h.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function w6(n){return n.appInitializer.bind(n)}function M6(n){return n.bootstrapListener.bind(n)}const Xh=new c.OlP("Router Initializer");let Tl=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),gc=(()=>{class n extends Tl{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Lo=new c.OlP("NgValueAccessor"),D5={provide:Lo,useExisting:(0,c.Gpc)(()=>Il),multi:!0},T5=new c.OlP("CompositionEventMode");let Il=(()=>{class n extends Tl{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(T5,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[c._Bn([D5]),c.qOj]}),n})();function C1(n){return null==n||0===n.length}function I5(n){return null!=n&&"number"==typeof n.length}const vi=new c.OlP("NgValidators"),u2=new c.OlP("NgAsyncValidators"),pg=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zr{static min(e){return function(n){return e=>{if(C1(e.value)||C1(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(C1(e.value)||C1(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return C1(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return C1(n.value)||pg.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>C1(e.value)||!I5(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>I5(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return p0;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(C1(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return eo(e)}static composeAsync(e){return V5(e)}}function p0(n){return null}function z5(n){return null!=n}function Vt(n){const e=(0,c.QGY)(n)?(0,bn.D)(n):n;return(0,c.CqO)(e),e}function id(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function sd(n,e){return e.map(t=>t(n))}function m0(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function eo(n){if(!n)return null;const e=n.filter(z5);return 0==e.length?null:function(t){return id(sd(t,e))}}function A6(n){return null!=n?eo(m0(n)):null}function V5(n){if(!n)return null;const e=n.filter(z5);return 0==e.length?null:function(t){return function(...n){const e=(0,ha.jO)(n),{args:t,keys:r}=u1(n),i=new jn.y(a=>{const{length:h}=t;if(!h)return void a.complete();const f=new Array(h);let v=h,b=h;for(let x=0;x<h;x++){let T=!1;(0,Gr.Xf)(t[x]).subscribe(new xn.Q(a,z=>{T||(T=!0,b--),f[x]=z},()=>v--,void 0,()=>{(!v||!T)&&(b||a.next(r?h1(r,f):f),a.complete())}))}});return e?i.pipe(ss(e)):i}(sd(t,e).map(Vt)).pipe((0,wt.U)(id))}}function g0(n){return null!=n?V5(m0(n)):null}function Sa(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function S6(n){return n._rawValidators}function od(n){return n._rawAsyncValidators}function v0(n){return n?Array.isArray(n)?n:[n]:[]}function ad(n,e){return Array.isArray(n)?n.includes(e):n===e}function cd(n,e){const t=v0(e);return v0(n).forEach(i=>{ad(t,i)||t.push(i)}),t}function mg(n,e){return v0(e).filter(t=>!ad(n,t))}class _0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=A6(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=g0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ro extends _0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _i extends _0{get formDirective(){return null}get path(){return null}}class x6{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let y0=(()=>{class n extends x6{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ro,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),D6=(()=>{class n extends x6{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_i,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function ud(n,e){return[...e.path,n]}function I6(n,e){Z5(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&k6(n,e)})}(n,e),function(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&k6(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function hd(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),fd(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function dd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Z5(n,e){const t=S6(n);null!==e.validator?n.setValidators(Sa(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=od(n);null!==e.asyncValidator?n.setAsyncValidators(Sa(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();dd(e._rawValidators,i),dd(e._rawAsyncValidators,i)}function fd(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=S6(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(h=>h!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=od(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(h=>h!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return dd(e._rawValidators,r),dd(e._rawAsyncValidators,r),t}function k6(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vd(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function yd(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Il?t=a:function(n){return Object.getPrototypeOf(n.constructor)===gc}(a)?r=a:i=a}),i||r||t||null}function kl(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Nl="VALID",N6="INVALID",Ll="PENDING",b1="DISABLED";function C0(n){return(Cd(n)?n.validators:n)||null}function vc(n){return Array.isArray(n)?A6(n):n||null}function _c(n,e){return(Cd(e)?e.asyncValidators:n)||null}function yc(n){return Array.isArray(n)?g0(n):n||null}function Cd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class L6{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=vc(this._rawValidators),this._composedAsyncValidatorFn=yc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Nl}get invalid(){return this.status===N6}get pending(){return this.status==Ll}get disabled(){return this.status===b1}get enabled(){return this.status!==b1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=vc(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=yc(e)}addValidators(e){this.setValidators(cd(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cd(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mg(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mg(e,this._rawAsyncValidators))}hasValidator(e){return ad(this._rawValidators,e)}hasAsyncValidator(e){return ad(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ll,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=b1,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nl,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nl||this.status===Ll)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?b1:Nl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ll,this._hasOwnPendingAsyncValidator=!0;const t=Vt(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=r instanceof w1?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof bd&&r.at(i)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?b1:this.errors?N6:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ll)?Ll:this._anyControlsHaveStatus(N6)?N6:Nl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Cd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class us extends L6{constructor(e=null,t,r){super(C0(t),_c(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kl(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kl(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class w1 extends L6{constructor(e,t,r){super(C0(t),_c(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof us?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class bd extends L6{constructor(e,t,r){super(C0(t),_c(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof us?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Mg={provide:Ro,useExisting:(0,c.Gpc)(()=>Ed)},hs=(()=>Promise.resolve(null))();let Ed=(()=>{class n extends Ro{constructor(t,r,i,a){super(),this.control=new us,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=yd(0,a)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),vd(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?ud(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){I6(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){hs.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;hs.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_i,9),c.Y36(vi,10),c.Y36(u2,10),c.Y36(Lo,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Mg]),c.qOj,c.TTD]}),n})(),R6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Zb={provide:Lo,useExisting:(0,c.Gpc)(()=>Ad),multi:!0};let Ad=(()=>{class n extends gc{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[c._Bn([Zb]),c.qOj]}),n})();const $5={provide:Lo,useExisting:(0,c.Gpc)(()=>b0),multi:!0};let K5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Sd=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:K5}),n})(),b0=(()=>{class n extends gc{constructor(t,r,i,a){super(t,r),this._registry=i,this._injector=a,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Ro),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Sd),c.Y36(c.zs3))},n.\u0275dir=c.lG2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[c._Bn([$5]),c.qOj]}),n})();const xd=new c.OlP("NgModelWithFormControlWarning"),X5={provide:_i,useExisting:(0,c.Gpc)(()=>Ol)};let Ol=(()=>{class n extends _i{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return I6(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){hd(t.control||null,t,!1),kl(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(hd(r||null,t),i instanceof us&&(I6(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function(n,e){Z5(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return fd(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Z5(this.form,this),this._oldForm&&fd(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(vi,10),c.Y36(u2,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([X5]),c.qOj,c.TTD]}),n})();const Td={provide:Ro,useExisting:(0,c.Gpc)(()=>w0)};let w0=(()=>{class n extends Ro{constructor(t,r,i,a,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=yd(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),vd(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ud(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(_i,13),c.Y36(vi,10),c.Y36(u2,10),c.Y36(Lo,10),c.Y36(xd,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Td]),c.qOj,c.TTD]}),n})(),Fl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[K5]]}),n})(),Pg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Fl]}),n})(),Rd=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:xd,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Fl]}),n})();class u7{}class B6{}class M1{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(h):this.headers.set(a,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof M1?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new M1;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof M1?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let h=this.headers.get(t);if(!h)return;h=h.filter(f=>-1===a.indexOf(f)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Hg{encodeKey(e){return f7(e)}encodeValue(e){return f7(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Vl=/%(\d[a-f0-9])/gi,d7={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function f7(n){return encodeURIComponent(n).replace(Vl,(e,t)=>{var r;return null!==(r=d7[t])&&void 0!==r?r:e})}function p7(n){return`${n}`}class xs{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Hg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[h,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],v=t.get(h)||[];v.push(f),t.set(h,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new xs({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(p7(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(p7(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Bg{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function m7(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Ds(n){return"undefined"!=typeof Blob&&n instanceof Blob}function U6(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Hl{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new M1),this.context||(this.context=new Bg),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+h}}else this.params=new xs,this.urlWithParams=t}serializeBody(){return null===this.body?null:m7(this.body)||Ds(this.body)||U6(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof xs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||U6(this.body)?null:Ds(this.body)?this.body.type||null:m7(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,h=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,v=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let b=e.headers||this.headers,x=e.params||this.params;const T=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(b=Object.keys(e.setHeaders).reduce((z,H)=>z.set(H,e.setHeaders[H]),b)),e.setParams&&(x=Object.keys(e.setParams).reduce((z,H)=>z.set(H,e.setParams[H]),x)),new Hl(r,i,h,{params:x,headers:b,context:T,reportProgress:v,responseType:a,withCredentials:f})}}var yr=(()=>((yr=yr||{})[yr.Sent=0]="Sent",yr[yr.UploadProgress=1]="UploadProgress",yr[yr.ResponseHeader=2]="ResponseHeader",yr[yr.DownloadProgress=3]="DownloadProgress",yr[yr.Response=4]="Response",yr[yr.User=5]="User",yr))();class j6{constructor(e,t=200,r="OK"){this.headers=e.headers||new M1,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Od extends j6{constructor(e={}){super(e),this.type=yr.ResponseHeader}clone(e={}){return new Od({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Z6 extends j6{constructor(e={}){super(e),this.type=yr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Z6({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class v7 extends j6{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Pd(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let M0=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof Hl)a=t;else{let v,b;v=i.headers instanceof M1?i.headers:new M1(i.headers),i.params&&(b=i.params instanceof xs?i.params:new xs({fromObject:i.params})),a=new Hl(t,r,void 0!==i.body?i.body:null,{headers:v,context:i.context,params:b,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const h=tt(a).pipe(Qs(v=>this.handler.handle(v)));if(t instanceof Hl||"events"===i.observe)return h;const f=h.pipe(Zn(v=>v instanceof Z6));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,wt.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return f.pipe((0,wt.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return f.pipe((0,wt.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return f.pipe((0,wt.U)(v=>v.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new xs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Pd(i,r))}post(t,r,i={}){return this.request("POST",t,Pd(i,r))}put(t,r,i={}){return this.request("PUT",t,Pd(i,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(u7))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class jg{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const zd=new c.OlP("HTTP_INTERCEPTORS");let Zg=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Yb=/^\)\]\}',?\n/;let Wg=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new jn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((H,X)=>i.setRequestHeader(H,X.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const H=t.detectContentTypeHeader();null!==H&&i.setRequestHeader("Content-Type",H)}if(t.responseType){const H=t.responseType.toLowerCase();i.responseType="json"!==H?H:"text"}const a=t.serializeBody();let h=null;const f=()=>{if(null!==h)return h;const H=1223===i.status?204:i.status,X=i.statusText||"OK",ve=new M1(i.getAllResponseHeaders()),xe=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return h=new Od({headers:ve,status:H,statusText:X,url:xe}),h},v=()=>{let{headers:H,status:X,statusText:ve,url:xe}=f(),je=null;204!==X&&(je=void 0===i.response?i.responseText:i.response),0===X&&(X=je?200:0);let ct=X>=200&&X<300;if("json"===t.responseType&&"string"==typeof je){const Nt=je;je=je.replace(Yb,"");try{je=""!==je?JSON.parse(je):null}catch(ot){je=Nt,ct&&(ct=!1,je={error:ot,text:je})}}ct?(r.next(new Z6({body:je,headers:H,status:X,statusText:ve,url:xe||void 0})),r.complete()):r.error(new v7({error:je,headers:H,status:X,statusText:ve,url:xe||void 0}))},b=H=>{const{url:X}=f(),ve=new v7({error:H,status:i.status||0,statusText:i.statusText||"Unknown Error",url:X||void 0});r.error(ve)};let x=!1;const T=H=>{x||(r.next(f()),x=!0);let X={type:yr.DownloadProgress,loaded:H.loaded};H.lengthComputable&&(X.total=H.total),"text"===t.responseType&&!!i.responseText&&(X.partialText=i.responseText),r.next(X)},z=H=>{let X={type:yr.UploadProgress,loaded:H.loaded};H.lengthComputable&&(X.total=H.total),r.next(X)};return i.addEventListener("load",v),i.addEventListener("error",b),i.addEventListener("timeout",b),i.addEventListener("abort",b),t.reportProgress&&(i.addEventListener("progress",T),null!==a&&i.upload&&i.upload.addEventListener("progress",z)),i.send(a),r.next({type:yr.Sent}),()=>{i.removeEventListener("error",b),i.removeEventListener("abort",b),i.removeEventListener("load",v),i.removeEventListener("timeout",b),t.reportProgress&&(i.removeEventListener("progress",T),null!==a&&i.upload&&i.upload.removeEventListener("progress",z)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ta))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const y7=new c.OlP("XSRF_COOKIE_NAME"),q6=new c.OlP("XSRF_HEADER_NAME");class Fd{}let C7=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ot(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se),c.LFG(c.Lbi),c.LFG(y7))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Vd=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fd),c.LFG(q6))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Qb=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(zd,[]);this.chain=r.reduceRight((i,a)=>new jg(i,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(B6),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Kg=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Vd,useClass:Zg}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:y7,useValue:t.cookieName}:[],t.headerName?{provide:q6,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Vd,{provide:zd,useExisting:Vd,multi:!0},{provide:Fd,useClass:C7},{provide:y7,useValue:"XSRF-TOKEN"},{provide:q6,useValue:"X-XSRF-TOKEN"}]}),n})(),Hd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[M0,{provide:u7,useClass:Qb},Wg,{provide:B6,useExisting:Wg}],imports:[[Kg.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),G6=(()=>{class n{constructor(t){this.http=t,this.url="https://pokeapi.co/api/v2/pokemon/",this.urlForm="https://pokeapi.co/api/v2/pokemon-form/"}getOne(t,r){return this.http.get(this.url+t).pipe((0,wt.U)(i=>i))}getOneCarta(t,r){return this.http.get(this.urlForm+t).pipe((0,wt.U)(i=>i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(M0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Bd=R(4986),Un=R(5813);function Ud(){return(0,xr.e)((n,e)=>{let t,r=!1;n.subscribe(new xn.Q(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function E0(n,e=Eo.y){return n=null!=n?n:Bl,(0,xr.e)((t,r)=>{let i,a=!0;t.subscribe(new xn.Q(r,h=>{const f=e(h);(a||!n(i,f))&&(a=!1,i=f,r.next(h))}))})}function Bl(n,e){return n===e}var et,zo=R(2011),Yg=(R(5881),R(3942)),Ee=R(5861),Fo=R(9681),Ts=R(4859),to=R(1877),At=R(2090),Cc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},no={},A0=A0||{},kt=Cc||self;function E1(){}function p2(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Da(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var m2="closure_uid_"+(1e9*Math.random()>>>0),jl=0;function Zl(n,e,t){return n.call.apply(n.bind,arguments)}function ql(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function $r(n,e,t){return($r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zl:ql).apply(null,arguments)}function S0(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Kr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var h=Array(arguments.length-2),f=2;f<arguments.length;f++)h[f-2]=arguments[f];return e.prototype[i].apply(r,h)}}function A1(){this.s=this.s,this.o=this.o}var M7={};A1.prototype.s=!1,A1.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,m2)&&n[m2]||(n[m2]=++jl)}(this);delete M7[n]}},A1.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jd=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Zd=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function A7(n){return Array.prototype.concat.apply([],arguments)}function $6(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function K6(n){return/^[\s\xa0]*$/.test(n)}var Zi,qd=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Di(n,e){return-1!=n.indexOf(e)}function Gd(n,e){return n<e?-1:n>e?1:0}e:{var Wd=kt.navigator;if(Wd){var S7=Wd.userAgent;if(S7){Zi=S7;break e}}Zi=""}function Y6(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function x7(n){const e={};for(const t in n)e[t]=n[t];return e}var D7="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qg(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<D7.length;a++)t=D7[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function $d(n){return $d[" "](n),n}$d[" "]=E1;var Jd,n,Yd=Di(Zi,"Opera"),Gl=Di(Zi,"Trident")||Di(Zi,"MSIE"),Jg=Di(Zi,"Edge"),T7=Jg||Gl,Xg=Di(Zi,"Gecko")&&!(Di(Zi.toLowerCase(),"webkit")&&!Di(Zi,"Edge"))&&!(Di(Zi,"Trident")||Di(Zi,"MSIE"))&&!Di(Zi,"Edge"),ev=Di(Zi.toLowerCase(),"webkit")&&!Di(Zi,"Edge");function Qd(){var n=kt.document;return n?n.documentMode:void 0}e:{var Xd="",g2=(n=Zi,Xg?/rv:([^\);]+)(\)|;)/.exec(n):Jg?/Edge\/([\d\.]+)/.exec(n):Gl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ev?/WebKit\/(\S+)/.exec(n):Yd?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(g2&&(Xd=g2?g2[1]:""),Gl){var e8=Qd();if(null!=e8&&e8>parseFloat(Xd)){Jd=String(e8);break e}}Jd=Xd}var I7={};function tv(){return e=I7,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=qd(String(Jd)).split("."),t=qd("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var i=e[h]||"",a=t[h]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=Gd(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Gd(0==i[2].length,0==a[2].length)||Gd(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n}();var e}var nv=kt.document&&Gl&&(Qd()||parseInt(Jd,10))||void 0,k7=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{kt.addEventListener("test",E1,e),kt.removeEventListener("test",E1,e)}catch(t){}return n}();function Ti(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function D0(n,e){if(Ti.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Xg){e:{try{$d(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:rv[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&D0.Z.h.call(this)}}Ti.prototype.h=function(){this.defaultPrevented=!0},Kr(D0,Ti);var rv={2:"touch",3:"pen",4:"mouse"};D0.prototype.h=function(){D0.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var T0="closure_listenable_"+(1e6*Math.random()|0),iv=0;function N7(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++iv,this.ca=this.fa=!1}function J6(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function I0(n){this.src=n,this.g={},this.h=0}function X6(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=jd(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(J6(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function k0(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}I0.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var h=k0(n,e,r,i);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new N7(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var L7="closure_lm_"+(1e6*Math.random()|0),N0={};function R7(n,e,t,r,i){if(r&&r.once)return t8(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)R7(n,e[a],t,r,i);return null}return t=P7(t),n&&n[T0]?n.N(e,t,Da(r)?!!r.capture:!!r,i):sv(n,e,t,!1,r,i)}function sv(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var h=Da(i)?!!i.capture:!!i,f=O0(n);if(f||(n[L7]=f=new I0(n)),(t=f.add(e,t,r,h,a)).proxy)return t;if(r=function(){var e=n8;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)k7||(i=h),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(O7(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function t8(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)t8(n,e[a],t,r,i);return null}return t=P7(t),n&&n[T0]?n.O(e,t,Da(r)?!!r.capture:!!r,i):sv(n,e,t,!0,r,i)}function e3(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)e3(n,e[a],t,r,i);else r=Da(r)?!!r.capture:!!r,t=P7(t),n&&n[T0]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=k0(a=n.g[e],t,r,i))&&(J6(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=O0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=k0(e,t,r,i)),(t=-1<n?e[n]:null)&&R0(t))}function R0(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[T0])X6(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(O7(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=O0(e))?(X6(t,n),0==t.h&&(t.src=null,e[L7]=null)):J6(n)}}}function O7(n){return n in N0?N0[n]:N0[n]="on"+n}function n8(n,e){if(n.ca)n=!0;else{e=new D0(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&R0(n),n=t.call(r,e)}return n}function O0(n){return(n=n[L7])instanceof I0?n:null}var t3="__closure_events_fn_"+(1e9*Math.random()>>>0);function P7(n){return"function"==typeof n?n:(n[t3]||(n[t3]=function(e){return n.handleEvent(e)}),n[t3])}function Yr(){A1.call(this),this.i=new I0(this),this.P=this,this.I=null}function Qr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ti(e,n);else if(e instanceof Ti)e.target=e.target||n;else{var i=e;Qg(e=new Ti(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var h=e.g=t[a];i=P0(h,r,!0,e)&&i}if(i=P0(h=e.g=n,r,!0,e)&&i,i=P0(h,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=P0(h=e.g=t[a],r,!1,e)&&i}function P0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var h=e[a];if(h&&!h.ca&&h.capture==t){var f=h.listener,v=h.ia||h.src;h.fa&&X6(n.i,h),i=!1!==f.call(v,r)&&i}}return i&&!r.defaultPrevented}Kr(Yr,A1),Yr.prototype[T0]=!0,Yr.prototype.removeEventListener=function(n,e,t,r){e3(this,n,e,t,r)},Yr.prototype.M=function(){if(Yr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)J6(t[r]);delete n.g[e],n.h--}}this.I=null},Yr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Yr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var n3=kt.JSON.stringify;function z7(){var n=s3;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var o8,i8=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new F7,n=>n.reset());class F7{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function s8(n){kt.setTimeout(()=>{throw n},0)}function z0(n,e){o8||function(){var n=kt.Promise.resolve(void 0);o8=function(){n.then(H7)}}(),r3||(o8(),r3=!0),s3.add(n,e)}var r3=!1,s3=new class{constructor(){this.h=this.g=null}add(e,t){const r=i8.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function H7(){for(var n;n=z7();){try{n.h.call(n.g)}catch(t){s8(t)}var e=i8;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}r3=!1}function o3(n,e){Yr.call(this),this.h=n||1,this.g=e||kt,this.j=$r(this.kb,this),this.l=Date.now()}function a3(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function c3(n,e,t){if("function"==typeof n)t&&(n=$r(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=$r(n.handleEvent,n)}return 2147483647<Number(e)?-1:kt.setTimeout(n,e||0)}function l3(n){n.g=c3(()=>{n.g=null,n.i&&(n.i=!1,l3(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Kr(o3,Yr),(et=o3.prototype).da=!1,et.S=null,et.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qr(this,"tick"),this.da&&(a3(this),this.start()))}},et.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.M=function(){o3.Z.M.call(this),a3(this),delete this.g};class u3 extends A1{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:l3(this)}M(){super.M(),this.g&&(kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bc(n){A1.call(this),this.h=n,this.g={}}Kr(bc,A1);var a8=[];function h3(n,e,t,r){Array.isArray(t)||(t&&(a8[0]=t.toString()),t=a8);for(var i=0;i<t.length;i++){var a=R7(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function c8(n){Y6(n.g,function(e,t){this.g.hasOwnProperty(t)&&R0(e)},n),n.g={}}function F0(){this.g=!0}function wc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var h=1;h<i.length;h++)i[h]=""}}}return n3(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}bc.prototype.M=function(){bc.Z.M.call(this),c8(this)},bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},F0.prototype.Aa=function(){this.g=!1},F0.prototype.info=function(){};var Mc={},l8=null;function d3(){return l8=l8||new Yr}function Ir(n){Ti.call(this,Mc.Ma,n)}function Wl(n){const e=d3();Qr(e,new Ir(e,n))}function j7(n,e){Ti.call(this,Mc.STAT_EVENT,n),this.stat=e}function qi(n){const e=d3();Qr(e,new j7(e,n))}function u8(n,e){Ti.call(this,Mc.Na,n),this.size=e}function V0(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return kt.setTimeout(function(){n()},e)}Mc.Ma="serverreachability",Kr(Ir,Ti),Mc.STAT_EVENT="statevent",Kr(j7,Ti),Mc.Na="timingevent",Kr(u8,Ti);var H0={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},h8={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function v2(){}function q7(){}v2.prototype.h=null;var G7,$l={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function d8(){Ti.call(this,"d")}function f3(){Ti.call(this,"c")}function B0(){}function Ec(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new bc(this),this.P=av,this.W=new o3(n=T7?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Vo}function Vo(){this.i=null,this.g="",this.h=!1}Kr(d8,Ti),Kr(f3,Ti),Kr(B0,v2),B0.prototype.g=function(){return new XMLHttpRequest},B0.prototype.i=function(){return{}},G7=new B0;var av=45e3,f8={},Is={};function ks(n,e,t){n.K=1,n.v=Z0(Bo(e)),n.s=t,n.U=!0,ro(n,null)}function ro(n,e){n.F=Date.now(),U0(n),n.A=Bo(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),np(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Vo,n.g=_p(n.l,t?e:null,!n.s),0<n.O&&(n.L=new u3($r(n.Ia,n,n.g),n.O)),h3(n.V,n.g,"readystatechange",n.gb),e=n.H?x7(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Wl(1),function(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var h="",f=a.split("&"),v=0;v<f.length;v++){var b=f[v].split("=");if(1<b.length){var x=b[0];b=b[1];var T=x.split("_");h=2<=T.length&&"type"==T[1]?h+(x+"=")+b+"&":h+(x+"=redacted&")}}else h=null;else h=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function p8(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function m8(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=cv(n,t),i==Is){4==e&&(n.o=4,qi(14),r=!1),wc(n.j,n.m,null,"[Incomplete Response]");break}if(i==f8){n.o=4,qi(15),wc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}wc(n.j,n.m,i,null),g8(n,i)}p8(n)&&i!=Is&&i!=f8&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,qi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Xl(e),e.L=!0,qi(11))):(wc(n.j,n.m,t,"[Invalid Chunked Response]"),Ho(n),Ac(n))}function cv(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Is:(t=Number(e.substring(t,r)),isNaN(t)?f8:(r+=1)+t>e.length?Is:(e=e.substr(r,t),n.C=r+t,e))}function U0(n){n.Y=Date.now()+n.P,W7(n,n.P)}function W7(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=V0($r(n.eb,n),e)}function p3(n){n.B&&(kt.clearTimeout(n.B),n.B=null)}function Ac(n){0==n.l.G||n.I||D8(n.l,n)}function Ho(n){p3(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,a3(n.W),c8(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function g8(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||g3(t.i,n)))if(t.I=n.N,!n.J&&g3(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=V0($r(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Q0(t),Y0(t)}S8(t),qi(18)}if(1>=y8(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else Uo(t,11)}else if((n.J||t.g==n)&&Q0(t),!K6(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const x=b[3];null!=x&&(t.ma=x,t.h.info("VER="+t.ma));const T=b[4];null!=T&&(t.za=T,t.h.info("SVER="+t.za));const z=b[5];null!=z&&"number"==typeof z&&0<z&&(t.K=r=1.5*z,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const X=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X){var a=r.i;!a.g&&(Di(X,"spdy")||Di(X,"quic")||Di(X,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(v3(a,a.h),a.h=null))}if(r.D){const ve=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;ve&&(r.sa=ve,Wn(r.F,r.D,ve))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=vp(r,r.H?r.la:null,r.W),h.J){C8(r.i,h);var f=h,v=r.K;v&&f.setTimeout(v),f.B&&(p3(f),U0(f)),r.g=h}else mp(r);0<t.l.length&&E3(t)}else"stop"!=b[0]&&"close"!=b[0]||Uo(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Uo(t,7):w3(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}Wl(4)}catch(b){}}function v8(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(p2(n)||"string"==typeof n)Zd(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(p2(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(p2(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function Sc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Sc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function m3(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Ta(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Ta(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Ta(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(et=Ec.prototype).setTimeout=function(n){this.P=n},et.gb=function(n){n=n.target;const e=this.L;e&&3==io(n)?e.l():this.Ia(n)},et.Ia=function(n){try{if(n==this.g)e:{const x=io(this.g);var e=this.g.Da();const T=this.g.ba();if(!(3>x)&&(3!=x||T7||this.g&&(this.h.h||this.g.ga()||sr(this.g)))){this.I||4!=x||7==e||Wl(8==e||0>=T?3:2),p3(this);var t=this.g.ba();this.N=t;t:if(p8(this)){var r=sr(this.g);n="";var i=r.length,a=4==io(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ho(this),Ac(this);var h="";break t}this.h.i=new kt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,i,a,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+h})}(this.j,this.u,this.A,this.m,this.X,x,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,v=this.g;if((f=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K6(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,qi(12),Ho(this),Ac(this);break e}wc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,g8(this,t)}this.U?(m8(this,x,h),T7&&this.i&&3==x&&(h3(this.V,this.W,"tick",this.fb),this.W.start())):(wc(this.j,this.m,h,null),g8(this,h)),4==x&&Ho(this),this.i&&!this.I&&(4==x?D8(this.l,this):(this.i=!1,U0(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,qi(12)):(this.o=0,qi(13)),Ho(this),Ac(this)}}}catch(x){}},et.fb=function(){if(this.g){var n=io(this.g),e=this.g.ga();this.C<e.length&&(p3(this),m8(this,n,e),this.i&&4!=n&&U0(this))}},et.cancel=function(){this.I=!0,Ho(this)},et.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Wl(3),qi(17)),Ho(this),this.o=2,Ac(this)):W7(this,this.Y-n)},(et=Sc.prototype).R=function(){m3(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},et.T=function(){return m3(this),this.g.concat()},et.get=function(n,e){return Ta(this.h,n)?this.h[n]:e},et.set=function(n,e){Ta(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},et.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var K7=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _2(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof _2){this.g=void 0!==e?e:n.g,xc(this,n.j),this.s=n.s,Kl(this,n.i),j0(this,n.m),this.l=n.l,e=n.h;var t=new G0;t.i=e.i,e.g&&(t.g=new Sc(e.g),t.h=e.h),_8(this,t),this.o=n.o}else n&&(t=String(n).match(K7))?(this.g=!!e,xc(this,t[1]||"",!0),this.s=Yl(t[2]||""),Kl(this,t[3]||"",!0),j0(this,t[4]),this.l=Yl(t[5]||"",!0),_8(this,t[6]||"",!0),this.o=Yl(t[7]||"")):(this.g=!!e,this.h=new G0(null,this.g))}function Bo(n){return new _2(n)}function xc(n,e,t){n.j=t?Yl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Kl(n,e,t){n.i=t?Yl(e,!0):e}function j0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function _8(n,e,t){e instanceof G0?(n.h=e,function(n,e){e&&!n.j&&(y2(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(ep(this,r),np(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=q0(e,dv)),n.h=new G0(e,n.g))}function Wn(n,e,t){n.h.set(e,t)}function Z0(n){return Wn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Yl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function q0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,lv),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function lv(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}_2.prototype.toString=function(){var n=[],e=this.j;e&&n.push(q0(e,X7,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(q0(e,X7,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(q0(t,"/"==t.charAt(0)?hv:uv,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",q0(t,fv)),n.join("")};var X7=/[#\/\?@]/g,uv=/[#\?:]/g,hv=/[#\?]/g,dv=/[#\?@]/g,fv=/#/g;function G0(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function y2(n){n.g||(n.g=new Sc,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ep(n,e){y2(n),e=Ql(n,e),Ta(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ta((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&m3(n)))}function tp(n,e){return y2(n),e=Ql(n,e),Ta(n.g.h,e)}function np(n,e,t){ep(n,e),0<t.length&&(n.i=null,n.g.set(Ql(n,e),$6(t)),n.h+=t.length)}function Ql(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function rp(n){this.l=n||gv,n=kt.PerformanceNavigationTiming?0<(n=kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(kt.g&&kt.g.Ea&&kt.g.Ea()&&kt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=G0.prototype).add=function(n,e){y2(this),this.i=null,n=Ql(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},et.forEach=function(n,e){y2(this),this.g.forEach(function(t,r){Zd(t,function(i){n.call(e,i,r,this)},this)},this)},et.T=function(){y2(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},et.R=function(n){y2(this);var e=[];if("string"==typeof n)tp(this,n)&&(e=A7(e,this.g.get(Ql(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=A7(e,n[t])}return e},et.set=function(n,e){return y2(this),this.i=null,tp(this,n=Ql(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},et.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var h=i;""!==r[a]&&(h+="="+encodeURIComponent(String(r[a]))),n.push(h)}}return this.i=n.join("&")};var gv=10;function ip(n){return!!n.h||!!n.g&&n.g.size>=n.j}function y8(n){return n.h?1:n.g?n.g.size:0}function g3(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function v3(n,e){n.g?n.g.add(e):n.h=e}function C8(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function b8(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return $6(n.i)}function _3(){}function sp(){this.g=new _3}function op(n,e,t){const r=t||"";try{v8(n,function(i,a){let h=i;Da(i)&&(h=n3(i)),e.push(r+a+"="+encodeURIComponent(h))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Jl(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function Dc(n){this.l=n.$b||null,this.j=n.ib||!1}function Ia(n,e){Yr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=w8,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rp.prototype.cancel=function(){if(this.i=b8(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},_3.prototype.stringify=function(n){return kt.JSON.stringify(n,void 0)},_3.prototype.parse=function(n){return kt.JSON.parse(n,void 0)},Kr(Dc,v2),Dc.prototype.g=function(){return new Ia(this.l,this.j)},Dc.prototype.i=function(n){return function(){return n}}({}),Kr(Ia,Yr);var w8=0;function cp(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ka(n){n.readyState=4,n.l=null,n.j=null,n.A=null,y3(n)}function y3(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(et=Ia.prototype).open=function(n,e){if(this.readyState!=w8)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,y3(this)},et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||kt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ka(this)),this.readyState=w8},et.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,y3(this)),this.g&&(this.readyState=3,y3(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==kt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cp(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},et.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ka(this):y3(this),3==this.readyState&&cp(this)}},et.Ua=function(n){this.g&&(this.response=this.responseText=n,ka(this))},et.Ta=function(n){this.g&&(this.response=n,ka(this))},et.ha=function(){this.g&&ka(this)},et.setRequestHeader=function(n,e){this.v.append(n,e)},et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ia.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var M8=kt.JSON.parse;function Fr(n){Yr.call(this),this.headers=new Sc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=E8,this.K=this.L=!1}Kr(Fr,Yr);var E8="",lp=/^https?$/i,tw=["POST","PUT"];function vv(n){return"content-type"==n.toLowerCase()}function up(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,hp(n),C3(n)}function hp(n){n.D||(n.D=!0,Qr(n,"complete"),Qr(n,"error"))}function W0(n){if(n.h&&void 0!==A0&&(!n.C[1]||4!=io(n)||2!=n.ba()))if(n.v&&4==io(n))c3(n.Fa,0,n);else if(Qr(n,"readystatechange"),4==io(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(K7)[1]||null;if(!i&&kt.self&&kt.self.location){var a=kt.self.location.protocol;i=a.substr(0,a.length-1)}r=!lp.test(i?i.toLowerCase():"")}t=r}if(t)Qr(n,"complete"),Qr(n,"success");else{n.m=6;try{var h=2<io(n)?n.g.statusText:""}catch(v){h=""}n.j=h+" ["+n.ba()+"]",hp(n)}}finally{C3(n)}}}function C3(n,e){if(n.g){$0(n);const t=n.g,r=n.C[0]?E1:null;n.g=null,n.C=null,e||Qr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function $0(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(kt.clearTimeout(n.A),n.A=null)}function io(n){return n.g?n.g.readyState:0}function sr(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case E8:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function b3(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return Y6(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Wn(n,e,t))}function K0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function dp(n){this.za=0,this.l=[],this.h=new F0,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=K0("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=K0("baseRetryDelayMs",5e3,n),this.$a=K0("retryDelaySeedMs",1e4,n),this.Ya=K0("forwardChannelMaxRetries",2,n),this.ra=K0("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new rp(n&&n.concurrentRequestLimit),this.Ca=new sp,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function w3(n){if(A8(n),3==n.G){var e=n.V++,t=Bo(n.F);Wn(t,"SID",n.J),Wn(t,"RID",e),Wn(t,"TYPE","terminate"),S1(n,t),(e=new Ec(n,n.h,e,void 0)).K=2,e.v=Z0(Bo(t)),t=!1,kt.navigator&&kt.navigator.sendBeacon&&(t=kt.navigator.sendBeacon(e.v.toString(),"")),!t&&kt.Image&&((new Image).src=e.v,t=!0),t||(e.g=_p(e.l,null),e.g.ea(e.v)),e.F=Date.now(),U0(e)}e4(n)}function Y0(n){n.g&&(Xl(n),n.g.cancel(),n.g=null)}function A8(n){Y0(n),n.u&&(kt.clearTimeout(n.u),n.u=null),Q0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&kt.clearTimeout(n.m),n.m=null)}function M3(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&E3(n)}function E3(n){ip(n.i)||n.m||(n.m=!0,z0(n.Ha,n),n.C=0)}function fp(n,e){var t;t=e?e.m:n.V++;const r=Bo(n.F);Wn(r,"SID",n.J),Wn(r,"RID",t),Wn(r,"AID",n.U),S1(n,r),n.o&&n.s&&b3(r,n.o,n.s),t=new Ec(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=pp(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),v3(n.i,t),ks(t,r,e)}function S1(n,e){n.j&&v8({},function(t,r){Wn(e,r,t)})}function pp(n,e,t){t=Math.min(n.l.length,t);var r=n.j?$r(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const h=["count="+t];-1==a?0<t?(a=i[0].h,h.push("ofs="+a)):a=0:h.push("ofs="+a);let f=!0;for(let v=0;v<t;v++){let b=i[v].h;const x=i[v].g;if(b-=a,0>b)a=Math.max(0,i[v].h-100),f=!1;else try{op(x,h,"req"+b+"_")}catch(T){r&&r(x)}}if(f){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function mp(n){n.g||n.u||(n.Y=1,z0(n.Ga,n),n.A=0)}function S8(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=V0($r(n.Ga,n),gp(n,n.A)),n.A++,0))}function Xl(n){null!=n.B&&(kt.clearTimeout(n.B),n.B=null)}function x8(n){n.g=new Ec(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Bo(n.oa);Wn(e,"RID","rpc"),Wn(e,"SID",n.J),Wn(e,"CI",n.N?"0":"1"),Wn(e,"AID",n.U),S1(n,e),Wn(e,"TYPE","xmlhttp"),n.o&&n.s&&b3(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Z0(Bo(e)),t.s=null,t.U=!0,ro(t,n)}function Q0(n){null!=n.v&&(kt.clearTimeout(n.v),n.v=null)}function D8(n,e){var t=null;if(n.g==e){Q0(n),Xl(n),n.g=null;var r=2}else{if(!g3(n.i,e))return;t=e.D,C8(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Qr(r=d3(),new u8(r,t,e,i)),E3(n)}else mp(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function(n,e){return!(y8(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=V0($r(n.Ha,n,e),gp(n,n.C)),n.C++,0)))}(n,e)||2==r&&S8(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Uo(n,5);break;case 4:Uo(n,10);break;case 3:Uo(n,6);break;default:Uo(n,2)}}function gp(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Uo(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=$r(n.jb,n);t||(t=new _2("//www.google.com/images/cleardot.gif"),kt.location&&"http"==kt.location.protocol||xc(t,"https"),Z0(t)),function(n,e){const t=new F0;if(kt.Image){const r=new Image;r.onload=S0(Jl,t,r,"TestLoadImage: loaded",!0,e),r.onerror=S0(Jl,t,r,"TestLoadImage: error",!1,e),r.onabort=S0(Jl,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=S0(Jl,t,r,"TestLoadImage: timeout",!1,e),kt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else qi(2);n.G=0,n.j&&n.j.va(e),e4(n),A8(n)}function e4(n){n.G=0,n.I=-1,n.j&&((0!=b8(n.i).length||0!=n.l.length)&&(n.i.i.length=0,$6(n.l),n.l.length=0),n.j.ua())}function vp(n,e,t){let r=function(n){return n instanceof _2?Bo(n):new _2(n,void 0)}(t);if(""!=r.i)e&&Kl(r,e+"."+r.i),j0(r,r.m);else{const i=kt.location;r=function(n,e,t,r){var i=new _2(null,void 0);return n&&xc(i,n),e&&Kl(i,e),t&&j0(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Y6(n.aa,function(i,a){Wn(r,a,i)}),t=n.sa,(e=n.D)&&t&&Wn(r,e,t),Wn(r,"VER",n.ma),S1(n,r),r}function _p(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fr(t&&n.Ba&&!n.qa?new Dc({ib:!0}):n.qa)).L=n.H,e}function yp(){}function J0(){if(Gl&&!(10<=Number(nv)))throw Error("Environmental error: no available transport.")}function ds(n,e){Yr.call(this),this.g=new dp(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!K6(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!K6(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Tc(this)}function T8(n){d8.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Cp(){f3.call(this),this.status=1}function Tc(n){this.g=n}(et=Fr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():G7.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:G7),this.g.onreadystatechange=$r(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void up(this,a)}n=t||"";const i=new Sc(this.headers);r&&v8(r,function(a,h){i.set(h,a)}),r=function(n){e:{var e=vv;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=kt.FormData&&n instanceof kt.FormData,!(0<=jd(tw,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,h){this.g.setRequestHeader(h,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$0(this),0<this.B&&((this.K=function(n){return Gl&&tv()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$r(this.pa,this)):this.A=c3(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){up(this,a)}},et.pa=function(){void 0!==A0&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qr(this,"timeout"),this.abort(8))},et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Qr(this,"complete"),Qr(this,"abort"),C3(this))},et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),C3(this,!0)),Fr.Z.M.call(this)},et.Fa=function(){this.s||(this.F||this.v||this.l?W0(this):this.cb())},et.cb=function(){W0(this)},et.ba=function(){try{return 2<io(this)?this.g.status:-1}catch(n){return-1}},et.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},et.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),M8(e)}},et.Da=function(){return this.m},et.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=dp.prototype).ma=8,et.G=1,et.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},et.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Ec(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=x7(a),Qg(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=pp(this,i,e),Wn(t=Bo(this.F),"RID",n),Wn(t,"CVER",22),this.D&&Wn(t,"X-HTTP-Session-Id",this.D),S1(this,t),this.o&&a&&b3(t,this.o,a),v3(this.i,i),this.Ra&&Wn(t,"TYPE","init"),this.ja?(Wn(t,"$req",e),Wn(t,"SID","null"),i.$=!0,ks(i,t,null)):ks(i,t,e),this.G=2}}else 3==this.G&&(n?fp(this,n):0==this.l.length||ip(this.i)||fp(this))},et.Ga=function(){if(this.u=null,x8(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=V0($r(this.bb,this),n)}},et.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qi(10),Y0(this),x8(this))},et.ab=function(){null!=this.v&&(this.v=null,Y0(this),S8(this),qi(19))},et.jb=function(n){n?(this.h.info("Successfully pinged google.com"),qi(2)):(this.h.info("Failed to ping google.com"),qi(1))},(et=yp.prototype).xa=function(){},et.wa=function(){},et.va=function(){},et.ua=function(){},et.Oa=function(){},J0.prototype.g=function(n,e){return new ds(n,e)},Kr(ds,Yr),ds.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),z0($r(n.hb,n,e))),qi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=vp(n,null,n.W),E3(n)},ds.prototype.close=function(){w3(this.g)},ds.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,M3(this.g,e)}else this.v?((e={}).__data__=n3(n),M3(this.g,e)):M3(this.g,n)},ds.prototype.M=function(){this.g.j=null,delete this.j,w3(this.g),delete this.g,ds.Z.M.call(this)},Kr(T8,d8),Kr(Cp,f3),Kr(Tc,yp),Tc.prototype.xa=function(){Qr(this.g,"a")},Tc.prototype.wa=function(n){Qr(this.g,new T8(n))},Tc.prototype.va=function(n){Qr(this.g,new Cp(n))},Tc.prototype.ua=function(){Qr(this.g,"b")},J0.prototype.createWebChannel=J0.prototype.g,ds.prototype.send=ds.prototype.u,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,H0.NO_ERROR=0,H0.TIMEOUT=8,H0.HTTP_ERROR=6,h8.COMPLETE="complete",q7.EventType=$l,$l.OPEN="a",$l.CLOSE="b",$l.ERROR="c",$l.MESSAGE="d",Yr.prototype.listen=Yr.prototype.N,Fr.prototype.listenOnce=Fr.prototype.O,Fr.prototype.getLastError=Fr.prototype.La,Fr.prototype.getLastErrorCode=Fr.prototype.Da,Fr.prototype.getStatus=Fr.prototype.ba,Fr.prototype.getResponseJson=Fr.prototype.Qa,Fr.prototype.getResponseText=Fr.prototype.ga,Fr.prototype.send=Fr.prototype.ea;var yv=no.createWebChannelTransport=function(){return new J0},Cv=no.getStatEventTarget=function(){return d3()},bp=no.ErrorCode=H0,rw=no.EventType=h8,iw=no.Event=Mc,bv=no.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},wp=no.FetchXmlHttpFactory=Dc,Ic=no.WebChannel=q7,wv=no.XhrIo=Fr;const Mp="@firebase/firestore";class Jr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jr.UNAUTHENTICATED=new Jr(null),Jr.GOOGLE_CREDENTIALS=new Jr("google-credentials-uid"),Jr.FIRST_PARTY=new Jr("first-party-uid"),Jr.MOCK_USER=new Jr("mock-user");let Na="9.6.3";const C2=new to.Yd("@firebase/firestore");function I8(){return C2.logLevel}function Ue(n,...e){if(C2.logLevel<=to.in.DEBUG){const t=e.map(k8);C2.debug(`Firestore (${Na}): ${n}`,...t)}}function kr(n,...e){if(C2.logLevel<=to.in.ERROR){const t=e.map(k8);C2.error(`Firestore (${Na}): ${n}`,...t)}}function t4(n,...e){if(C2.logLevel<=to.in.WARN){const t=e.map(k8);C2.warn(`Firestore (${Na}): ${n}`,...t)}}function k8(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function _t(n="Unexpected state"){const e=`FIRESTORE (${Na}) INTERNAL ASSERTION FAILED: `+n;throw kr(e),new Error(e)}function St(n,e){n||_t()}function Je(n,e){return n}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends At.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class N8{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Av{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jr.UNAUTHENTICATED))}shutdown(){}}class L8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Sv{constructor(e){this.t=e,this.currentUser=Jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let h=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Xr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=h;e.enqueueRetryable((0,Ee.Z)(function*(){yield b.promise,yield a(r.currentUser)}))},v=b=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>v(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?v(b):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Xr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(St("string"==typeof r.accessToken),new N8(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(null===e||"string"==typeof e),new Jr(e)}}class Ep{constructor(e,t,r){this.type="FirstParty",this.user=Jr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Ap{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Ep(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xv{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=i=>{e.enqueueRetryable(()=>{return null!=(a=i).error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`),t(a.token);var a})};const r=i=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(St("string"==typeof t.token),new Sp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Gi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Dv(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Gi.I=-1;class R8{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Dv(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Xt(n,e){return n<e?-1:n>e?1:0}function n4(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function xp(n){return n+"\0"}class ei{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ze(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ze(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ze(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ei.fromMillis(Date.now())}static fromDate(e){return ei.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ei(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ht{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ht(e)}static min(){return new Ht(new ei(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Dp(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function kc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Tp(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class r4{constructor(e,t,r){void 0===t?t=0:t>e.length&&_t(),void 0===r?r=e.length-t:r>e.length-t&&_t(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===r4.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof r4?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),h=t.get(i);if(a<h)return-1;if(a>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mn extends r4{construct(e,t,r){return new mn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ze(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const Tv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yi extends r4{construct(e,t,r){return new yi(e,t,r)}static isValidIdentifier(e){return Tv.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new ze(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new ze(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new ze(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===f?(h=!h,i++):"."!==f||h?(r+=f,i++):(a(),i++)}if(a(),h)throw new ze(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yi(t)}static emptyPath(){return new yi([])}}class Nc{constructor(e){this.fields=e,e.sort(yi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return n4(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Vr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const kv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(n){if(St(!!n),"string"==typeof n){let e=0;const t=kv.exec(n);if(St(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dr(n.seconds),nanos:dr(n.nanos)}}function dr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Lc(n){return"string"==typeof n?Vr.fromBase64String(n):Vr.fromUint8Array(n)}function X0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ip(n){const e=n.mapValue.fields.__previous_value__;return X0(e)?Ip(e):e}function eu(n){const e=La(n.mapValue.fields.__local_write_time__.timestampValue);return new ei(e.seconds,e.nanos)}function x1(n){return null==n}function A3(n){return 0===n&&1/n==-1/0}function O8(n){return"number"==typeof n&&Number.isInteger(n)&&!A3(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class pt{constructor(e){this.path=e}static fromPath(e){return new pt(mn.fromString(e))}static fromName(e){return new pt(mn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new mn(e.slice()))}}function b2(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?X0(n)?4:10:_t()}function Ra(n,e){if(n===e)return!0;const t=b2(n);if(t!==b2(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return eu(n).isEqual(eu(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=La(r.timestampValue),h=La(i.timestampValue);return a.seconds===h.seconds&&a.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Lc(n.bytesValue).isEqual(Lc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return dr(r.geoPointValue.latitude)===dr(i.geoPointValue.latitude)&&dr(r.geoPointValue.longitude)===dr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return dr(r.integerValue)===dr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=dr(r.doubleValue),h=dr(i.doubleValue);return a===h?A3(a)===A3(h):isNaN(a)&&isNaN(h)}return!1}(n,e);case 9:return n4(n.arrayValue.values||[],e.arrayValue.values||[],Ra);case 10:return function(r,i){const a=r.mapValue.fields||{},h=i.mapValue.fields||{};if(Dp(a)!==Dp(h))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===h[f]||!Ra(a[f],h[f])))return!1;return!0}(n,e);default:return _t()}var i}function s4(n,e){return void 0!==(n.values||[]).find(t=>Ra(t,e))}function tu(n,e){if(n===e)return 0;const t=b2(n),r=b2(e);if(t!==r)return Xt(t,r);switch(t){case 0:return 0;case 1:return Xt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const h=dr(i.integerValue||i.doubleValue),f=dr(a.integerValue||a.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return kp(n.timestampValue,e.timestampValue);case 4:return kp(eu(n),eu(e));case 5:return Xt(n.stringValue,e.stringValue);case 6:return function(i,a){const h=Lc(i),f=Lc(a);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const h=i.split("/"),f=a.split("/");for(let v=0;v<h.length&&v<f.length;v++){const b=Xt(h[v],f[v]);if(0!==b)return b}return Xt(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const h=Xt(dr(i.latitude),dr(a.latitude));return 0!==h?h:Xt(dr(i.longitude),dr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const h=i.values||[],f=a.values||[];for(let v=0;v<h.length&&v<f.length;++v){const b=tu(h[v],f[v]);if(b)return b}return Xt(h.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){const h=i.fields||{},f=Object.keys(h),v=a.fields||{},b=Object.keys(v);f.sort(),b.sort();for(let x=0;x<f.length&&x<b.length;++x){const T=Xt(f[x],b[x]);if(0!==T)return T;const z=tu(h[f[x]],v[b[x]]);if(0!==z)return z}return Xt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw _t()}}function kp(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Xt(n,e);const t=La(n),r=La(e),i=Xt(t.seconds,r.seconds);return 0!==i?i:Xt(t.nanos,r.nanos)}function Rc(n){return P8(n)}function P8(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=La(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Lc(n.bytesValue).toBase64():"referenceValue"in n?pt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const h of r.values||[])a?a=!1:i+=",",i+=P8(h);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",h=!0;for(const f of i)h?h=!1:a+=",",a+=`${f}:${P8(r.fields[f])}`;return a+"}"}(n.mapValue):_t();var e}function D1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Oc(n){return!!n&&"integerValue"in n}function z8(n){return!!n&&"arrayValue"in n}function Nv(n){return!!n&&"nullValue"in n}function F8(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function S3(n){return!!n&&"mapValue"in n}function nu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return kc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=nu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nu(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!S3(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(t)}setAll(e){let t=yi.emptyPath(),r={},i=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=f.popLast()}h?r[f.lastSegment()]=nu(h):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());S3(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ra(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];S3(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){kc(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Ii(nu(this.value))}}function Np(n){const e=[];return kc(n.fields,(t,r)=>{const i=new yi([t]);if(S3(r)){const a=Np(r.mapValue).fields;if(0===a.length)e.push(i);else for(const h of a)e.push(i.child(h))}else e.push(i)}),new Nc(e)}class $n{constructor(e,t,r,i,a){this.key=e,this.documentType=t,this.version=r,this.data=i,this.documentState=a}static newInvalidDocument(e){return new $n(e,0,Ht.min(),Ii.empty(),0)}static newFoundDocument(e,t,r){return new $n(e,1,t,r,0)}static newNoDocument(e,t){return new $n(e,2,t,Ii.empty(),0)}static newUnknownDocument(e,t){return new $n(e,3,t,Ii.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lp{constructor(e,t=null,r=[],i=[],a=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=h,this.endAt=f,this.R=null}}function x3(n,e=null,t=[],r=[],i=null,a=null,h=null){return new Lp(n,e,t,r,i,a,h)}function w2(n){const e=Je(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+Rc(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),x1(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=T1(e.startAt)),e.endAt&&(t+="|ub:",t+=T1(e.endAt)),e.R=t}return e.R}function D3(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Op(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Ra(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Fv(n.startAt,e.startAt)&&Fv(n.endAt,e.endAt)}function iu(n){return pt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ki extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Rv(e,t,r):"array-contains"===t?new ow(e,r):"in"===t?new Pv(e,r):"not-in"===t?new zv(e,r):"array-contains-any"===t?new o4(e,r):new ki(e,t,r)}static P(e,t,r){return"in"===t?new Ov(e,r):new V8(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(tu(t,this.value)):null!==t&&b2(this.value)===b2(t)&&this.v(tu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _t()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Rv extends ki{constructor(e,t,r){super(e,t,r),this.key=pt.fromName(r.referenceValue)}matches(e){const t=pt.comparator(e.key,this.key);return this.v(t)}}class Ov extends ki{constructor(e,t){super(e,"in",t),this.keys=Rp(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class V8 extends ki{constructor(e,t){super(e,"not-in",t),this.keys=Rp(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Rp(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>pt.fromName(r.referenceValue))}class ow extends ki{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return z8(t)&&s4(t.arrayValue,this.value)}}class Pv extends ki{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&s4(this.value.arrayValue,t)}}class zv extends ki{constructor(e,t){super(e,"not-in",t)}matches(e){if(s4(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!s4(this.value.arrayValue,t)}}class o4 extends ki{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!z8(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>s4(this.value.arrayValue,r))}}class a4{constructor(e,t){this.position=e,this.before=t}}function T1(n){return`${n.before?"b":"a"}:${n.position.map(e=>Rc(e)).join(",")}`}class su{constructor(e,t="asc"){this.field=e,this.dir=t}}function Op(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Pp(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],h=n.position[i];if(r=a.field.isKeyField()?pt.comparator(pt.fromName(h.referenceValue),t.key):tu(h,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function Fv(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ra(n.position[t],e.position[t]))return!1;return!0}class Oa{constructor(e,t=null,r=[],i=[],a=null,h="F",f=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=h,this.startAt=f,this.endAt=v,this.S=null,this.D=null}}function Vv(n,e,t,r,i,a,h,f){return new Oa(n,e,t,r,i,a,h,f)}function Pc(n){return new Oa(n)}function c4(n){return!x1(n.limit)&&"F"===n.limitType}function ou(n){return!x1(n.limit)&&"L"===n.limitType}function H8(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function B8(n){for(const e of n.filters)if(e.V())return e.field;return null}function U8(n){return null!==n.collectionGroup}function l4(n){const e=Je(n);if(null===e.S){e.S=[];const t=B8(e),r=H8(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new su(t)),e.S.push(new su(yi.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.S.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new su(yi.keyField(),a))}}}return e.S}function so(n){const e=Je(n);if(!e.D)if("F"===e.limitType)e.D=x3(e.path,e.collectionGroup,l4(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of l4(e))t.push(new su(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new a4(e.endAt.position,!e.endAt.before):null,i=e.startAt?new a4(e.startAt.position,!e.startAt.before):null;e.D=x3(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.D}function zp(n,e,t){return new Oa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function au(n,e){return D3(so(n),so(e))&&n.limitType===e.limitType}function Fp(n){return`${w2(so(n))}|lt:${n.limitType}`}function j8(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Rc(r.value)}`;var r}).join(", ")}]`),x1(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+T1(n.startAt)),n.endAt&&(e+=", endAt: "+T1(n.endAt)),`Target(${e})`}(so(n))}; limitType=${n.limitType})`}function I1(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):pt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!Pp(t.startAt,l4(t),r)||t.endAt&&Pp(t.endAt,l4(t),r)));var t,r}function Z8(n){return(e,t)=>{let r=!1;for(const i of l4(n)){const a=Vp(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function Vp(n,e,t){const r=n.field.isKeyField()?pt.comparator(e.key,t.key):function(i,a,h){const f=a.data.field(i),v=h.data.field(i);return null!==f&&null!==v?tu(f,v):_t()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _t()}}function q8(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:A3(e)?"-0":e}}function G8(n){return{integerValue:""+n}}function W8(n,e){return O8(e)?G8(e):q8(n,e)}class cu{constructor(){this._=void 0}}function Hv(n,e,t){return n instanceof u4?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof zc?Up(n,e):n instanceof jo?jp(n,e):function(r,i){const a=Bp(r,i),h=Zo(a)+Zo(r.N);return Oc(a)&&Oc(r.N)?G8(h):q8(r.k,h)}(n,e)}function Hp(n,e,t){return n instanceof zc?Up(n,e):n instanceof jo?jp(n,e):t}function Bp(n,e){return n instanceof M2?Oc(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class u4 extends cu{}class zc extends cu{constructor(e){super(),this.elements=e}}function Up(n,e){const t=Zp(e);for(const r of n.elements)t.some(i=>Ra(i,r))||t.push(r);return{arrayValue:{values:t}}}class jo extends cu{constructor(e){super(),this.elements=e}}function jp(n,e){let t=Zp(e);for(const r of n.elements)t=t.filter(i=>!Ra(i,r));return{arrayValue:{values:t}}}class M2 extends cu{constructor(e,t){super(),this.k=e,this.N=t}}function Zo(n){return dr(n.integerValue||n.doubleValue)}function Zp(n){return z8(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Fc{constructor(e,t){this.field=e,this.transform=t}}class Bv{constructor(e,t){this.version=e,this.transformResults=t}}class Nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function T3(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Vc{}function I3(n,e,t){n instanceof Hc?function(r,i,a){const h=r.value.clone(),f=Gp(r.fieldTransforms,i,a.transformResults);h.setAll(f),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):n instanceof k1?function(r,i,a){if(!T3(r.precondition,i))return void i.convertToUnknownDocument(a.version);const h=Gp(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(qp(r)),f.setAll(h),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $8(n,e,t){var i;n instanceof Hc?function(r,i,a){if(!T3(r.precondition,i))return;const h=r.value.clone(),f=jv(r.fieldTransforms,a,i);h.setAll(f),i.convertToFoundDocument(Y8(i),h).setHasLocalMutations()}(n,e,t):n instanceof k1?function(r,i,a){if(!T3(r.precondition,i))return;const h=jv(r.fieldTransforms,a,i),f=i.data;f.setAll(qp(r)),f.setAll(h),i.convertToFoundDocument(Y8(i),f).setHasLocalMutations()}(n,e,t):T3(n.precondition,i=e)&&i.convertToNoDocument(Ht.min())}function Uv(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=Bp(r.transform,i||null);null!=a&&(null==t&&(t=Ii.empty()),t.set(r.field,a))}return t||null}function K8(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&n4(t,r,(i,a)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof zc&&r instanceof zc||t instanceof jo&&r instanceof jo?n4(t.elements,r.elements,Ra):t instanceof M2&&r instanceof M2?Ra(t.N,r.N):t instanceof u4&&r instanceof u4);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Y8(n){return n.isFoundDocument()?n.version:Ht.min()}class Hc extends Vc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class k1 extends Vc{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function qp(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Gp(n,e,t){const r=new Map;St(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],h=a.transform,f=e.data.field(a.field);r.set(a.field,Hp(h,f,t[i]))}return r}function jv(n,e,t){const r=new Map;for(const i of n){const a=i.transform,h=t.data.field(i.field);r.set(i.field,Hv(a,h,e))}return r}class Bc extends Vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class uu extends Vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Wp{constructor(e){this.count=e}}var fr,en;function $p(n){switch(n){default:return _t();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0}}function Kp(n){if(void 0===n)return kr("GRPC error has no .code"),be.UNKNOWN;switch(n){case fr.OK:return be.OK;case fr.CANCELLED:return be.CANCELLED;case fr.UNKNOWN:return be.UNKNOWN;case fr.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case fr.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case fr.INTERNAL:return be.INTERNAL;case fr.UNAVAILABLE:return be.UNAVAILABLE;case fr.UNAUTHENTICATED:return be.UNAUTHENTICATED;case fr.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case fr.NOT_FOUND:return be.NOT_FOUND;case fr.ALREADY_EXISTS:return be.ALREADY_EXISTS;case fr.PERMISSION_DENIED:return be.PERMISSION_DENIED;case fr.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case fr.ABORTED:return be.ABORTED;case fr.OUT_OF_RANGE:return be.OUT_OF_RANGE;case fr.UNIMPLEMENTED:return be.UNIMPLEMENTED;case fr.DATA_LOSS:return be.DATA_LOSS;default:return _t()}}(en=fr||(fr={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";class Hr{constructor(e,t){this.comparator=e,this.root=t||ti.EMPTY}insert(e,t){return new Hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ti.BLACK,null,null))}remove(e){return new Hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ti.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new k3(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new k3(this.root,e,this.comparator,!1)}getReverseIterator(){return new k3(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new k3(this.root,e,this.comparator,!0)}}class k3{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ti{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:ti.RED,this.left=null!=i?i:ti.EMPTY,this.right=null!=a?a:ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new ti(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ti.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}ti.EMPTY=null,ti.RED=!0,ti.BLACK=!1,ti.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ti(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class er{constructor(e){this.comparator=e,this.data=new Hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Q8(this.data.getIterator())}getIteratorFrom(e){return new Q8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof er)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new er(this.comparator);return t.data=e,t}}class Q8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Yp=new Hr(pt.comparator);function Ns(){return Yp}const Qp=new Hr(pt.comparator);function J8(){return Qp}const Jp=new Hr(pt.comparator);function X8(){return Jp}const Zv=new er(pt.comparator);function Mn(...n){let e=Zv;for(const t of n)e=e.add(t);return e}const Xp=new er(Xt);function ni(){return Xp}class Pa{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,t)),new Pa(Ht.min(),r,ni(),Ns(),Mn())}}class hu{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new hu(Vr.EMPTY_BYTE_STRING,t,Mn(),Mn(),Mn())}}class N3{constructor(e,t,r,i){this.$=e,this.removedTargetIds=t,this.key=r,this.O=i}}class qv{constructor(e,t){this.targetId=e,this.M=t}}class h4{constructor(e,t,r=Vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class em{constructor(){this.F=0,this.L=tf(),this.B=Vr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=Mn(),t=Mn(),r=Mn();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:_t()}}),new hu(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=tf()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class ef{constructor(e){this.et=e,this.nt=new Map,this.st=Ns(),this.it=tm(),this.rt=new er(Xt)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:_t()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,i)=>{this.lt(i)&&t(i)})}dt(e){const t=e.targetId,r=e.M.count,i=this.wt(t);if(i){const a=i.target;if(iu(a))if(0===r){const h=new pt(a.path);this.at(t,h,$n.newNoDocument(h,Ht.min()))}else St(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((a,h)=>{const f=this.wt(h);if(f){if(a.current&&iu(f.target)){const v=new pt(f.target.path);null!==this.st.get(v)||this.yt(h,v)||this.at(h,v,$n.newNoDocument(v,e))}a.j&&(t.set(h,a.G()),a.H())}});let r=Mn();this.it.forEach((a,h)=>{let f=!0;h.forEachWhile(v=>{const b=this.wt(v);return!b||2===b.purpose||(f=!1,!1)}),f&&(r=r.add(a))});const i=new Pa(e,t,this.rt,this.st,r);return this.st=Ns(),this.it=tm(),this.rt=new er(Xt),i}ct(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,t)?i.J(t,1):i.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new em,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new er(Xt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new em),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function tm(){return new Hr(pt.comparator)}function tf(){return new Hr(pt.comparator)}const Gv={asc:"ASCENDING",desc:"DESCENDING"},Wv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class nf{constructor(e,t){this.databaseId=e,this.C=t}}function d4(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rf(n,e){return n.C?e.toBase64():e.toUint8Array()}function L3(n,e){return d4(n,e.toTimestamp())}function Lr(n){return St(!!n),Ht.fromTimestamp(function(e){const t=La(e);return new ei(t.seconds,t.nanos)}(n))}function nm(n,e){return(t=n,new mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function sf(n){const e=mn.fromString(n);return St(e_(e)),e}function du(n,e){return nm(n.databaseId,e.path)}function qo(n,e){const t=sf(e);if(t.get(1)!==n.databaseId.projectId)throw new ze(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ze(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pt(R3(t))}function f4(n,e){return nm(n.databaseId,e)}function af(n){const e=sf(n);return 4===e.length?mn.emptyPath():R3(e)}function fu(n){return new mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function R3(n){return St(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function O3(n,e,t){return{name:du(n,e),fields:t.value.mapValue.fields}}function $v(n,e,t){const r=qo(n,e.name),i=Lr(e.updateTime),a=new Ii({mapValue:{fields:e.fields}}),h=$n.newFoundDocument(r,i,a);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function pu(n,e){let t;if(e instanceof Hc)t={update:O3(n,e.key,e.value)};else if(e instanceof Bc)t={delete:du(n,e.key)};else if(e instanceof k1)t={update:O3(n,e.key,e.data),updateMask:am(e.fieldMask)};else{if(!(e instanceof uu))return _t();t={verify:du(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const h=a.transform;if(h instanceof u4)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof zc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof jo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof M2)return{fieldPath:a.field.canonicalString(),increment:h.N};throw _t()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:L3(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:_t()),t;var i}function cf(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Nr.updateTime(Lr(i.updateTime)):void 0!==i.exists?Nr.exists(i.exists):Nr.none():Nr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,h){let f=null;"setToServerValue"in h?(St("REQUEST_TIME"===h.setToServerValue),f=new u4):"appendMissingElements"in h?f=new zc(h.appendMissingElements.values||[]):"removeAllFromArray"in h?f=new jo(h.removeAllFromArray.values||[]):"increment"in h?f=new M2(a,h.increment):_t();const v=yi.fromServerFormat(h.fieldPath);return new Fc(v,f)}(n,i)):[];var i;if(e.update){const i=qo(n,e.update.name),a=new Ii({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new Nc((e.updateMask.fieldPaths||[]).map(b=>yi.fromServerFormat(b)));return new k1(i,a,h,t,r)}return new Hc(i,a,t,r)}if(e.delete){const i=qo(n,e.delete);return new Bc(i,t)}if(e.verify){const i=qo(n,e.verify);return new uu(i,t)}return _t()}function lf(n,e){return{documents:[f4(n,e.path)]}}function uf(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=f4(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=f4(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(f){if(0===f.length)return;const v=f.map(b=>function(x){if("=="===x.op){if(F8(x.value))return{unaryFilter:{field:Uc(x.field),op:"IS_NAN"}};if(Nv(x.value))return{unaryFilter:{field:Uc(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(F8(x.value))return{unaryFilter:{field:Uc(x.field),op:"IS_NOT_NAN"}};if(Nv(x.value))return{unaryFilter:{field:Uc(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uc(x.field),op:om(x.op),value:x.value}}}(b));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(f){if(0!==f.length)return f.map(v=>{return{field:Uc((b=v).field),direction:sm(b.dir)};var b})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const h=(v=e.limit,n.C||x1(v)?v:{value:v});var v;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=im(e.startAt)),e.endAt&&(t.structuredQuery.endAt=im(e.endAt)),t}function rm(n){let e=af(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){St(1===r);const x=t.from[0];x.allDescendants?i=x.collectionId:e=e.child(x.collectionId)}let a=[];t.where&&(a=hf(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(x=>{return new su(p4((T=x).field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let f=null;t.limit&&(f=function(x){let T;return T="object"==typeof x?x.value:x,x1(T)?null:T}(t.limit));let v=null;t.startAt&&(v=df(t.startAt));let b=null;return t.endAt&&(b=df(t.endAt)),Vv(e,i,h,a,f,"F",v,b)}function hf(n){return n?void 0!==n.unaryFilter?[aw(n)]:void 0!==n.fieldFilter?[Xv(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>hf(e)).reduce((e,t)=>e.concat(t)):_t():[]}function im(n){return{before:n.before,values:n.position}}function df(n){return new a4(n.values||[],!!n.before)}function sm(n){return Gv[n]}function om(n){return Wv[n]}function Uc(n){return{fieldPath:n.canonicalString()}}function p4(n){return yi.fromServerFormat(n.fieldPath)}function Xv(n){return ki.create(p4(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(n.fieldFilter.op),n.fieldFilter.value)}function aw(n){switch(n.unaryFilter.op){case"IS_NAN":const e=p4(n.unaryFilter.field);return ki.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=p4(n.unaryFilter.field);return ki.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=p4(n.unaryFilter.field);return ki.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=p4(n.unaryFilter.field);return ki.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}function am(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function e_(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function za(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=t_(e)),e=cw(n.get(t),e);return t_(e)}function cw(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function t_(n){return n+"\x01\x01"}function E2(n){const e=n.length;if(St(e>=2),2===e)return St("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),mn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const h=n.indexOf("\x01",a);switch((h<0||h>t)&&_t(),n.charAt(h+1)){case"\x01":const f=n.substring(a,h);let v;0===i.length?v=f:(i+=f,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(a,h),i+="\0";break;case"\x11":i+=n.substring(a,h+1);break;default:_t()}a=h+2}return new mn(r)}class lw{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class oo{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}oo.store="owner",oo.key="owner";class jc{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}jc.store="mutationQueues",jc.keyPath="userId";class Pn{constructor(e,t,r,i,a){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}}Pn.store="mutations",Pn.keyPath="batchId",Pn.userMutationsIndex="userMutationsIndex",Pn.userMutationsKeyPath=["userId","batchId"];class Wi{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,za(t)]}static key(e,t,r){return[e,za(t),r]}}Wi.store="documentMutations",Wi.PLACEHOLDER=new Wi;class ff{constructor(e,t){this.path=e,this.readTime=t}}class m4{constructor(e,t){this.path=e,this.version=t}}class or{constructor(e,t,r,i,a,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=h}}or.store="remoteDocuments",or.readTimeIndex="readTimeIndex",or.readTimeIndexPath="readTime",or.collectionReadTimeIndex="collectionReadTimeIndex",or.collectionReadTimeIndexPath=["parentPath","readTime"];class Fa{constructor(e){this.byteSize=e}}Fa.store="remoteDocumentGlobal",Fa.key="remoteDocumentGlobalKey";class fs{constructor(e,t,r,i,a,h,f){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=h,this.query=f}}fs.store="targets",fs.keyPath="targetId",fs.queryTargetsIndexName="queryTargetsIndex",fs.queryTargetsKeyPath=["canonicalId","targetId"];class Br{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Br.store="targetDocuments",Br.keyPath=["targetId","path"],Br.documentTargetsIndex="documentTargetsIndex",Br.documentTargetsKeyPath=["path","targetId"];class ps{constructor(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}ps.key="targetGlobalKey",ps.store="targetGlobal";class A2{constructor(e,t){this.collectionId=e,this.parent=t}}A2.store="collectionParents",A2.keyPath=["collectionId","parent"];class Va{constructor(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i}}Va.store="clientMetadata",Va.keyPath="clientId";class mu{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}mu.store="bundles",mu.keyPath="bundleId";class Zc{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Zc.store="namedQueries",Zc.keyPath="name";const P3=[jc.store,Pn.store,Wi.store,or.store,fs.store,oo.store,ps.store,Br.store,Va.store,Fa.store,A2.store,mu.store,Zc.store],pf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Oe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Oe?t:Oe.resolve(t)}catch(t){return Oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.reject(t)}static resolve(e){return new Oe((t,r)=>{t(e)})}static reject(e){return new Oe((t,r)=>{r(e)})}static waitFor(e){return new Oe((t,r)=>{let i=0,a=0,h=!1;e.forEach(f=>{++i,f.next(()=>{++a,h&&a===i&&t()},v=>r(v))}),h=!0,a===i&&t()})}static or(e){let t=Oe.resolve(!1);for(const r of e)t=t.next(i=>i?Oe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class mf{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new Xr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new gu(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const i=$i(r.target.error);this.It.reject(new gu(e,i))}}static open(e,t,r,i){try{return new mf(t,e.transaction(i,r))}catch(a){throw new gu(t,a)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new r_(t)}}class Go{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===Go.bt((0,At.z$)())&&kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),N1(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,At.hl)())return!1;if(Go.vt())return!0;const e=(0,At.z$)(),t=Go.bt(e),r=0<t&&t<10,i=Go.Vt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=h=>{r(h.target.result)},a.onblocked=()=>{i(new gu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=h=>{const f=h.target.error;i("VersionError"===f.name?new ze(be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new ze(be.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new gu(e,f))},a.onupgradeneeded=h=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Rt.Nt(h.target.result,a.transaction,h.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Ee.Z)(function*(){const h="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Ct(e);const v=mf.open(a.db,e,h?"readonly":"readwrite",r),b=i(v).catch(x=>(v.abort(x),Oe.reject(x))).toPromise();return b.catch(()=>{}),yield v.At,b}catch(v){const b="FirebaseError"!==v.name&&f<3;if(Ue("SimpleDb","Transaction failed with error:",v.message,"Retrying:",b),a.close(),!b)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gf{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return N1(this.$t.delete())}}class gu extends ze{constructor(e,t){super(be.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function g4(n){return"IndexedDbTransactionError"===n.name}class r_{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),N1(r)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),N1(this.store.add(e))}get(e){return N1(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),N1(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),N1(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),i=[];return this.Ut(r,(a,h)=>{i.push(h)}).next(()=>i)}qt(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const i=this.cursor(r);return this.Ut(i,(a,h,f)=>f.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Ut(i,t)}Qt(e){const t=this.cursor({});return new Oe((r,i)=>{t.onerror=a=>{const h=$i(a.target.error);i(h)},t.onsuccess=a=>{const h=a.target.result;h?e(h.primaryKey,h.value).next(f=>{f?h.continue():r()}):r()}})}Ut(e,t){const r=[];return new Oe((i,a)=>{e.onerror=h=>{a(h.target.error)},e.onsuccess=h=>{const f=h.target.result;if(!f)return void i();const v=new gf(f),b=t(f.primaryKey,f.value,v);if(b instanceof Oe){const x=b.catch(T=>(v.done(),Oe.reject(T)));r.push(x)}v.isDone?i():null===v.Ft?f.continue():f.continue(v.Ft)}}).next(()=>Oe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function N1(n){return new Oe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=$i(r.target.error);t(i)}})}let cm=!1;function $i(n){const e=Go.bt((0,At.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return cm||(cm=!0,setTimeout(()=>{throw r},0)),r}}return n}class lm extends n_{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Ni(n,e){const t=Je(n);return Go.Dt(t.Wt,e)}class vf{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&I3(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&$8(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&$8(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ht.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Mn())}isEqual(e){return this.batchId===e.batchId&&n4(this.mutations,e.mutations,(t,r)=>K8(t,r))&&n4(this.baseMutations,e.baseMutations,(t,r)=>K8(t,r))}}class _f{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){St(e.mutations.length===r.length);let i=X8();const a=e.mutations;for(let h=0;h<a.length;h++)i=i.insert(a[h].key,r[h].version);return new _f(e,t,r,i)}}class Ha{constructor(e,t,r,i,a=Ht.min(),h=Ht.min(),f=Vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f}withSequenceNumber(e){return new Ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class yf{constructor(e){this.Gt=e}}function z3(n,e){if(e.document)return $v(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=pt.fromSegments(e.noDocument.path),r=_4(e.noDocument.readTime),i=$n.newNoDocument(t,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){const t=pt.fromSegments(e.unknownDocument.path),r=_4(e.unknownDocument.version);return $n.newUnknownDocument(t,r)}return _t()}function um(n,e,t){const r=F3(t),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){const a={name:du(f=n.Gt,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:d4(f,v.version.toTimestamp())};return new or(null,null,a,e.hasCommittedMutations,r,i)}var f,v;if(e.isNoDocument()){const a=e.key.path.toArray(),h=v4(e.version),f=e.hasCommittedMutations;return new or(null,new ff(a,h),null,f,r,i)}if(e.isUnknownDocument()){const a=e.key.path.toArray(),h=v4(e.version);return new or(new m4(a,h),null,null,!0,r,i)}return _t()}function F3(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Cf(n){const e=new ei(n[0],n[1]);return Ht.fromTimestamp(e)}function v4(n){const e=n.toTimestamp();return new lw(e.seconds,e.nanoseconds)}function _4(n){const e=new ei(n.seconds,n.nanoseconds);return Ht.fromTimestamp(e)}function S2(n,e){const t=(e.baseMutations||[]).map(a=>cf(n.Gt,a));for(let a=0;a<e.mutations.length-1;++a){const h=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(h.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>cf(n.Gt,a)),i=ei.fromMillis(e.localWriteTimeMs);return new vf(e.batchId,i,t,r)}function Ki(n){const e=_4(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?_4(n.lastLimboFreeSnapshotVersion):Ht.min();let r;var i;return void 0!==n.query.documents?(St(1===(i=n.query).documents.length),r=so(Pc(af(i.documents[0])))):r=so(rm(n.query)),new Ha(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Vr.fromBase64String(n.resumeToken))}function hm(n,e){const t=v4(e.snapshotVersion),r=v4(e.lastLimboFreeSnapshotVersion);let i;i=iu(e.target)?lf(n.Gt,e.target):uf(n.Gt,e.target);const a=e.resumeToken.toBase64();return new fs(e.targetId,w2(e.target),t,a,e.sequenceNumber,r,i)}function bf(n){const e=rm({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?zp(e,e.limit,"L"):e}class i_{getBundleMetadata(e,t){return wf(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:_4(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return wf(e).put({bundleId:(r=t).id,createTime:v4(Lr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return dm(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:bf(i.bundledQuery),readTime:_4(i.readTime)};var i})}saveNamedQuery(e,t){return dm(e).put({name:(r=t).name,readTime:v4(Lr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function wf(n){return Ni(n,mu.store)}function dm(n){return Ni(n,Zc.store)}class s_{constructor(){this.zt=new V3}addToCollectionParentIndex(e,t){return this.zt.add(t),Oe.resolve()}getCollectionParents(e,t){return Oe.resolve(this.zt.getEntries(t))}}class V3{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new er(mn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new er(mn.comparator)).toArray()}}class o_{constructor(){this.Ht=new V3}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const a={collectionId:r,parent:za(i)};return a_(e).put(a)}return Oe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[xp(t),""],!1,!0);return a_(e).Bt(i).next(a=>{for(const h of a){if(h.collectionId!==t)break;r.push(E2(h.parent))}return r})}}function a_(n){return Ni(n,A2.store)}const Mf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Yi(e,Yi.DEFAULT_COLLECTION_PERCENTILE,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function fm(n,e,t){const r=n.store(Pn.store),i=n.store(Wi.store),a=[],h=IDBKeyRange.only(t.batchId);let f=0;const v=r.jt({range:h},(x,T,z)=>(f++,z.delete()));a.push(v.next(()=>{St(1===f)}));const b=[];for(const x of t.mutations){const T=Wi.key(e,x.key.path,t.batchId);a.push(i.delete(T)),b.push(x.key)}return Oe.waitFor(a).next(()=>b)}function H3(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw _t();e=n.noDocument}return JSON.stringify(e).length}Yi.DEFAULT_COLLECTION_PERCENTILE=10,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yi.DEFAULT=new Yi(41943040,Yi.DEFAULT_COLLECTION_PERCENTILE,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yi.DISABLED=new Yi(-1,0,0);class B3{constructor(e,t,r,i){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=i,this.Yt={}}static Xt(e,t,r,i){St(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new B3(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ba(e).jt({index:Pn.userMutationsIndex,range:r},(i,a,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=qc(e),h=Ba(e);return h.add({}).next(f=>{St("number"==typeof f);const v=new vf(f,t,r,i),b=function(z,H,X){const ve=X.baseMutations.map(je=>pu(z.Gt,je)),xe=X.mutations.map(je=>pu(z.Gt,je));return new Pn(H,X.batchId,X.localWriteTime.toMillis(),ve,xe)}(this.k,this.userId,v),x=[];let T=new er((z,H)=>Xt(z.canonicalString(),H.canonicalString()));for(const z of i){const H=Wi.key(this.userId,z.key.path,f);T=T.add(z.key.path.popLast()),x.push(h.put(b)),x.push(a.put(H,Wi.PLACEHOLDER))}return T.forEach(z=>{x.push(this.Jt.addToCollectionParentIndex(e,z))}),e.addOnCommittedListener(()=>{this.Yt[f]=v.keys()}),Oe.waitFor(x).next(()=>v)})}lookupMutationBatch(e,t){return Ba(e).get(t).next(r=>r?(St(r.userId===this.userId),S2(this.k,r)):null)}Zt(e,t){return this.Yt[t]?Oe.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Yt[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Ba(e).jt({index:Pn.userMutationsIndex,range:i},(h,f,v)=>{f.userId===this.userId&&(St(f.batchId>=r),a=S2(this.k,f)),v.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ba(e).jt({index:Pn.userMutationsIndex,range:t,reverse:!0},(i,a,h)=>{r=a.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ba(e).Bt(Pn.userMutationsIndex,t).next(r=>r.map(i=>S2(this.k,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Wi.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return qc(e).jt({range:i},(h,f,v)=>{const[b,x,T]=h,z=E2(x);if(b===this.userId&&t.path.isEqual(z))return Ba(e).get(T).next(H=>{if(!H)throw _t();St(H.userId===this.userId),a.push(S2(this.k,H))});v.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new er(Xt);const i=[];return t.forEach(a=>{const h=Wi.prefixForPath(this.userId,a.path),f=IDBKeyRange.lowerBound(h),v=qc(e).jt({range:f},(b,x,T)=>{const[z,H,X]=b,ve=E2(H);z===this.userId&&a.path.isEqual(ve)?r=r.add(X):T.done()});i.push(v)}),Oe.waitFor(i).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=Wi.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(a);let f=new er(Xt);return qc(e).jt({range:h},(v,b,x)=>{const[T,z,H]=v,X=E2(z);T===this.userId&&r.isPrefixOf(X)?X.length===i&&(f=f.add(H)):x.done()}).next(()=>this.te(e,f))}te(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Ba(e).get(a).next(h=>{if(null===h)throw _t();St(h.userId===this.userId),r.push(S2(this.k,h))}))}),Oe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return fm(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Oe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Oe.resolve();const r=IDBKeyRange.lowerBound(Wi.prefixForUser(this.userId)),i=[];return qc(e).jt({range:r},(a,h,f)=>{if(a[0]===this.userId){const v=E2(a[1]);i.push(v)}else f.done()}).next(()=>{St(0===i.length)})})}containsKey(e,t){return y4(e,this.userId,t)}ne(e){return pm(e).get(this.userId).next(t=>t||new jc(this.userId,-1,""))}}function y4(n,e,t){const r=Wi.prefixForPath(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let h=!1;return qc(n).jt({range:a,Kt:!0},(f,v,b)=>{const[x,T,z]=f;x===e&&T===i&&(h=!0),b.done()}).next(()=>h)}function Ba(n){return Ni(n,Pn.store)}function qc(n){return Ni(n,Wi.store)}function pm(n){return Ni(n,jc.store)}class x2{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new x2(0)}static re(){return new x2(-1)}}class mm{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new x2(t.highestTargetId);return t.highestTargetId=r.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>Ht.fromTimestamp(new ei(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.ce(e,i)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ce(e,r))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>C4(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(St(r.targetCount>0),r.targetCount-=1,this.ce(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return C4(e).jt((h,f)=>{const v=Ki(f);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,a.push(this.removeTargetData(e,v)))}).next(()=>Oe.waitFor(a)).next(()=>i)}forEachTarget(e,t){return C4(e).jt((r,i)=>{const a=Ki(i);t(a)})}oe(e){return gm(e).get(ps.key).next(t=>(St(null!==t),t))}ce(e,t){return gm(e).put(ps.key,t)}ae(e,t){return C4(e).put(hm(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=w2(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return C4(e).jt({range:i,index:fs.queryTargetsIndexName},(h,f,v)=>{const b=Ki(f);D3(t,b.target)&&(a=b,v.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Gc(e);return t.forEach(h=>{const f=za(h.path);i.push(a.put(new Br(r,f))),i.push(this.referenceDelegate.addReference(e,r,h))}),Oe.waitFor(i)}removeMatchingKeys(e,t,r){const i=Gc(e);return Oe.forEach(t,a=>{const h=za(a.path);return Oe.waitFor([i.delete([r,h]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Gc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Gc(e);let a=Mn();return i.jt({range:r,Kt:!0},(h,f,v)=>{const b=E2(h[1]),x=new pt(b);a=a.add(x)}).next(()=>a)}containsKey(e,t){const r=za(t.path),i=IDBKeyRange.bound([r],[xp(r)],!1,!0);let a=0;return Gc(e).jt({index:Br.documentTargetsIndex,Kt:!0,range:i},([h,f],v,b)=>{0!==h&&(a++,b.done())}).next(()=>a>0)}Et(e,t){return C4(e).get(t).next(r=>r?Ki(r):null)}}function C4(n){return Ni(n,fs.store)}function gm(n){return Ni(n,ps.store)}function Gc(n){return Ni(n,Br.store)}function b4(n){return U3.apply(this,arguments)}function U3(){return U3=(0,Ee.Z)(function*(n){if(n.code!==be.FAILED_PRECONDITION||n.message!==pf)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),U3.apply(this,arguments)}function vm([n,e],[t,r]){const i=Xt(n,t);return 0===i?Xt(e,r):i}class c_{constructor(e){this.he=e,this.buffer=new er(vm),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();vm(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class l_{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;Ue("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ee.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){g4(i)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield b4(i)}yield t.me(e)}))}}class uw{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Oe.resolve(Gi.I);const r=new c_(t);return this.ge.forEachTarget(e,i=>r.de(i.sequenceNumber)).next(()=>this.ge.pe(e,i=>r.de(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),Oe.resolve(Mf)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mf):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,i,a,h,f,v,b;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),i=this.params.maximumSequenceNumbersToCollect):i=T,h=Date.now(),this.nthSequenceNumber(e,i))).next(T=>(r=T,f=Date.now(),this.removeTargets(e,r,t))).next(T=>(a=T,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(T=>(b=Date.now(),I8()<=to.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-x}ms\n\tDetermined least recently used ${i} in `+(f-h)+`ms\n\tRemoved ${a} targets in `+(v-f)+`ms\n\tRemoved ${T} documents in `+(b-v)+`ms\nTotal Duration: ${b-x}ms`),Oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:T})))}}class hw{constructor(e,t){this.db=e,this.garbageCollector=new uw(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,i)=>t(i))}addReference(e,t,r){return Ef(e,r)}removeReference(e,t,r){return Ef(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Ef(e,t)}Ae(e,t){return function(r,i){let a=!1;return pm(r).Qt(h=>y4(r,h,i).next(f=>(f&&(a=!0),Oe.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Ie(e,(h,f)=>{if(f<=t){const v=this.Ae(e,h).next(b=>{if(!b)return a++,r.getEntry(e,h).next(()=>(r.removeEntry(h),Gc(e).delete([0,za(h.path)])))});i.push(v)}}).next(()=>Oe.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Ef(e,t)}Ie(e,t){const r=Gc(e);let i,a=Gi.I;return r.jt({index:Br.documentTargetsIndex},([h,f],{path:v,sequenceNumber:b})=>{0===h?(a!==Gi.I&&t(new pt(E2(i)),a),a=b,i=v):a=Gi.I}).next(()=>{a!==Gi.I&&t(new pt(E2(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ef(n,e){return Gc(n).put((r=n.currentSequenceNumber,new Br(0,za(e.path),r)));var r}class vu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1}forEach(e){kc(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Tp(this.inner)}}class u_{constructor(){this.changes=new vu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Ht.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:$n.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Oe.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class h_{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return D2(e).put(_u(t),r)}removeEntry(e,t){const r=D2(e),i=_u(t);return r.delete(i)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return D2(e).get(_u(t)).next(r=>this.be(t,r))}Pe(e,t){return D2(e).get(_u(t)).next(r=>({document:this.be(t,r),size:H3(r)}))}getEntries(e,t){let r=Ns();return this.ve(e,t,(i,a)=>{const h=this.be(i,a);r=r.insert(i,h)}).next(()=>r)}Ve(e,t){let r=Ns(),i=new Hr(pt.comparator);return this.ve(e,t,(a,h)=>{const f=this.be(a,h);r=r.insert(a,f),i=i.insert(a,H3(h))}).next(()=>({documents:r,Se:i}))}ve(e,t,r){if(t.isEmpty())return Oe.resolve();const i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),a=t.getIterator();let h=a.getNext();return D2(e).jt({range:i},(f,v,b)=>{const x=pt.fromSegments(f);for(;h&&pt.comparator(h,x)<0;)r(h,null),h=a.getNext();h&&h.isEqual(x)&&(r(h,v),h=a.hasNext()?a.getNext():null),h?b.Lt(h.path.toArray()):b.done()}).next(()=>{for(;h;)r(h,null),h=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,t,r){let i=Ns();const a=t.path.length+1,h={};if(r.isEqual(Ht.min())){const f=t.path.toArray();h.range=IDBKeyRange.lowerBound(f)}else{const f=t.path.toArray(),v=F3(r);h.range=IDBKeyRange.lowerBound([f,v],!0),h.index=or.collectionReadTimeIndex}return D2(e).jt(h,(f,v,b)=>{if(f.length!==a)return;const x=z3(this.k,v);t.path.isPrefixOf(x.key.path)?I1(t,x)&&(i=i.insert(x.key,x)):b.done()}).next(()=>i)}newChangeBuffer(e){return new j3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return _m(e).get(Fa.key).next(t=>(St(!!t),t))}Re(e,t){return _m(e).put(Fa.key,t)}be(e,t){if(t){const r=z3(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(Ht.min()))return r}return $n.newInvalidDocument(e)}}class j3 extends u_{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new vu(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new er((a,h)=>Xt(a.canonicalString(),h.canonicalString()));return this.changes.forEach((a,h)=>{const f=this.Ce.get(a);if(h.document.isValidDocument()){const v=um(this.De.k,h.document,this.getReadTime(a));i=i.add(a.path.popLast()),r+=H3(v)-f,t.push(this.De.addEntry(e,a,v))}else if(r-=f,this.trackRemovals){const v=um(this.De.k,$n.newNoDocument(a,Ht.min()),this.getReadTime(a));t.push(this.De.addEntry(e,a,v))}else t.push(this.De.removeEntry(e,a))}),i.forEach(a=>{t.push(this.De.Jt.addToCollectionParentIndex(e,a))}),t.push(this.De.updateMetadata(e,r)),Oe.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:i})=>(i.forEach((a,h)=>{this.Ce.set(a,h)}),r))}}function _m(n){return Ni(n,Fa.store)}function D2(n){return Ni(n,or.store)}function _u(n){return n.path.toArray()}class Wc{constructor(e){this.k=e}Nt(e,t,r,i){St(r<i&&r>=0&&i<=11);const a=new mf("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore(oo.store),(f=e).createObjectStore(jc.store,{keyPath:jc.keyPath}),f.createObjectStore(Pn.store,{keyPath:Pn.keyPath,autoIncrement:!0}).createIndex(Pn.userMutationsIndex,Pn.userMutationsKeyPath,{unique:!0}),f.createObjectStore(Wi.store),Af(e),function(f){f.createObjectStore(or.store)}(e));let h=Oe.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore(Br.store),f.deleteObjectStore(fs.store),f.deleteObjectStore(ps.store)}(e),Af(e)),h=h.next(()=>function(f){const v=f.store(ps.store),b=new ps(0,0,Ht.min().toTimestamp(),0);return v.put(ps.key,b)}(a))),r<4&&i>=4&&(0!==r&&(h=h.next(()=>function(f,v){return v.store(Pn.store).Bt().next(b=>{f.deleteObjectStore(Pn.store),f.createObjectStore(Pn.store,{keyPath:Pn.keyPath,autoIncrement:!0}).createIndex(Pn.userMutationsIndex,Pn.userMutationsKeyPath,{unique:!0});const x=v.store(Pn.store),T=b.map(z=>x.put(z));return Oe.waitFor(T)})}(e,a))),h=h.next(()=>{!function(f){f.createObjectStore(Va.store,{keyPath:Va.keyPath})}(e)})),r<5&&i>=5&&(h=h.next(()=>this.Ne(a))),r<6&&i>=6&&(h=h.next(()=>(function(f){f.createObjectStore(Fa.store)}(e),this.ke(a)))),r<7&&i>=7&&(h=h.next(()=>this.xe(a))),r<8&&i>=8&&(h=h.next(()=>this.$e(e,a))),r<9&&i>=9&&(h=h.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e),function(f){const v=f.objectStore(or.store);v.createIndex(or.readTimeIndex,or.readTimeIndexPath,{unique:!1}),v.createIndex(or.collectionReadTimeIndex,or.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&i>=10&&(h=h.next(()=>this.Oe(a))),r<11&&i>=11&&(h=h.next(()=>{(function(f){f.createObjectStore(mu.store,{keyPath:mu.keyPath})})(e),function(f){f.createObjectStore(Zc.store,{keyPath:Zc.keyPath})}(e)})),h}ke(e){let t=0;return e.store(or.store).jt((r,i)=>{t+=H3(i)}).next(()=>{const r=new Fa(t);return e.store(Fa.store).put(Fa.key,r)})}Ne(e){const t=e.store(jc.store),r=e.store(Pn.store);return t.Bt().next(i=>Oe.forEach(i,a=>{const h=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.Bt(Pn.userMutationsIndex,h).next(f=>Oe.forEach(f,v=>{St(v.userId===a.userId);const b=S2(this.k,v);return fm(e,a.userId,b).next(()=>{})}))}))}xe(e){const t=e.store(Br.store),r=e.store(or.store);return e.store(ps.store).get(ps.key).next(i=>{const a=[];return r.jt((h,f)=>{const v=new mn(h),b=[0,za(v)];a.push(t.get(b).next(x=>x?Oe.resolve():t.put(new Br(0,za(v),i.highestListenSequenceNumber))))}).next(()=>Oe.waitFor(a))})}$e(e,t){e.createObjectStore(A2.store,{keyPath:A2.keyPath});const r=t.store(A2.store),i=new V3,a=h=>{if(i.add(h)){const f=h.lastSegment(),v=h.popLast();return r.put({collectionId:f,parent:za(v)})}};return t.store(or.store).jt({Kt:!0},(h,f)=>{const v=new mn(h);return a(v.popLast())}).next(()=>t.store(Wi.store).jt({Kt:!0},([h,f,v],b)=>{const x=E2(f);return a(x.popLast())}))}Oe(e){const t=e.store(fs.store);return t.jt((r,i)=>{const a=Ki(i),h=hm(this.k,a);return t.put(h)})}}function Af(n){n.createObjectStore(Br.store,{keyPath:Br.keyPath}).createIndex(Br.documentTargetsIndex,Br.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(fs.store,{keyPath:fs.keyPath}).createIndex(fs.queryTargetsIndexName,fs.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(ps.store)}const yu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Cu{constructor(e,t,r,i,a,h,f,v,b,x){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Me=a,this.window=h,this.document=f,this.Fe=b,this.Le=x,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=T=>Promise.resolve(),!Cu.Pt())throw new ze(be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new hw(this,i),this.Ge=t+"main",this.k=new yf(v),this.ze=new Go(this.Ge,11,new Wc(this.k)),this.He=new mm(this.referenceDelegate,this.k),this.Jt=new o_,this.Je=new h_(this.k,this.Jt),this.Ye=new i_,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===x&&kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ze(be.FAILED_PRECONDITION,yu);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new Gi(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,Ee.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,Ee.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>w4(e).put(new Va(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(g4(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return bu(e).get(oo.key).next(t=>Oe.resolve(this.un(t)))}hn(e){return w4(e).delete(this.clientId)}ln(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ni(r,Va.store);return i.Bt().next(a=>{const h=e.dn(a,18e5),f=a.filter(v=>-1===h.indexOf(v));return Oe.forEach(f,v=>i.delete(v.clientId)).next(()=>f)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Oe.resolve(!0):bu(e).get(oo.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new ze(be.FAILED_PRECONDITION,yu);return!1}}return!(!this.networkEnabled||!this.inForeground)||w4(e).Bt().next(r=>void 0===this.dn(r,5e3).find(i=>{if(this.clientId!==i.clientId){const h=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||h&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[oo.store,Va.store],t=>{const r=new lm(t,Gi.I);return e.cn(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>w4(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return B3.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let a;return Ue("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",P3,h=>(a=new lm(h,this.Be?this.Be.next():Gi.I),"readwrite-primary"===t?this.rn(a).next(f=>!!f||this.on(a)).next(f=>{if(!f)throw kr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new ze(be.FAILED_PRECONDITION,pf);return r(a)}).next(f=>this.an(a).next(()=>f)):this.En(a).next(()=>r(a)))).then(h=>(a.raiseOnCommittedEvent(),h))}En(e){return bu(e).get(oo.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ze(be.FAILED_PRECONDITION,yu)})}an(e){const t=new oo(this.clientId,this.allowTabSynchronization,Date.now());return bu(e).put(oo.key,t)}static Pt(){return Go.Pt()}cn(e){const t=bu(e);return t.get(oo.key).next(r=>this.un(r)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete(oo.key)):Oe.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(kr(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,At.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return kr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){kr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bu(n){return Ni(n,oo.store)}function w4(n){return Ni(n,Va.store)}function wu(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class ym{constructor(e,t){this.progress=e,this.In=t}}class Sf{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.bn(e,t,r))}bn(e,t,r){return this.Je.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}Pn(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Pn(t,r))}getDocumentsMatchingQuery(e,t,r){return pt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,t.path):U8(t)?this.Dn(e,t,r):this.Cn(e,t,r);var i}Sn(e,t){return this.Rn(e,new pt(t)).next(r=>{let i=J8();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,t,r){const i=t.collectionGroup;let a=J8();return this.Jt.getCollectionParents(e,i).next(h=>Oe.forEach(h,f=>{const v=(b=t,x=f.child(i),new Oa(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,x;return this.Cn(e,v,r).next(b=>{b.forEach((x,T)=>{a=a.insert(x,T)})})}).next(()=>a))}Cn(e,t,r){let i,a;return this.Je.getDocumentsMatchingQuery(e,t,r).next(h=>(i=h,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(a=h,this.Nn(e,a,i).next(f=>{i=f;for(const v of a)for(const b of v.mutations){const x=b.key;let T=i.get(x);null==T&&(T=$n.newInvalidDocument(x),i=i.insert(x,T)),$8(b,T,v.localWriteTime),T.isFoundDocument()||(i=i.remove(x))}}))).next(()=>(i.forEach((h,f)=>{I1(t,f)||(i=i.remove(h))}),i))}Nn(e,t,r){let i=Mn();for(const h of t)for(const f of h.mutations)f instanceof k1&&null===r.get(f.key)&&(i=i.add(f.key));let a=r;return this.Je.getEntries(e,i).next(h=>(h.forEach((f,v)=>{v.isFoundDocument()&&(a=a.insert(f,v))}),a))}}class Cm{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=i}static $n(e,t){let r=Mn(),i=Mn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Cm(e,t.fromCache,r,i)}}class d_{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,r,i){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(Ht.min())?this.Fn(e,t):this.Mn.vn(e,i).next(a=>{const h=this.Ln(t,a);return(c4(t)||ou(t))&&this.Bn(t.limitType,h,i,r)?this.Fn(e,t):(I8()<=to.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),j8(t)),this.Mn.getDocumentsMatchingQuery(e,t,r).next(f=>(h.forEach(v=>{f=f.insert(v.key,v)}),f)))});var a}Ln(e,t){let r=new er(Z8(e));return t.forEach((i,a)=>{I1(e,a)&&(r=r.add(a))}),r}Bn(e,t,r,i){if(r.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Fn(e,t){return I8()<=to.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",j8(t)),this.Mn.getDocumentsMatchingQuery(e,t,Ht.min())}}class dw{constructor(e,t,r,i){this.persistence=e,this.Un=t,this.k=i,this.qn=new Hr(Xt),this.Kn=new vu(a=>w2(a),D3),this.jn=Ht.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Sf(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function f_(n,e,t,r){return new dw(n,e,t,r)}function p_(n,e){return bm.apply(this,arguments)}function bm(){return bm=(0,Ee.Z)(function*(n,e){const t=Je(n);let r=t.An,i=t.Wn;const a=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let f;return t.An.getAllMutationBatches(h).next(v=>(f=v,r=t.persistence.getMutationQueue(e),i=new Sf(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(v=>{const b=[],x=[];let T=Mn();for(const z of f){b.push(z.batchId);for(const H of z.mutations)T=T.add(H.key)}for(const z of v){x.push(z.batchId);for(const H of z.mutations)T=T.add(H.key)}return i.vn(h,T).next(z=>({Gn:z,removedBatchIds:b,addedBatchIds:x}))})});return t.An=r,t.Wn=i,t.Un.On(t.Wn),a}),bm.apply(this,arguments)}function fw(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Qn.newChangeBuffer({trackRemovals:!0});return function(h,f,v,b){const x=v.batch,T=x.keys();let z=Oe.resolve();return T.forEach(H=>{z=z.next(()=>b.getEntry(f,H)).next(X=>{const ve=v.docVersions.get(H);St(null!==ve),X.version.compareTo(ve)<0&&(x.applyToRemoteDocument(X,v),X.isValidDocument()&&b.addEntry(X,v.commitVersion))})}),z.next(()=>h.An.removeMutationBatch(f,x))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,i))})}function xf(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function m_(n,e){const t=Je(n),r=e.snapshotVersion;let i=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const h=t.Qn.newChangeBuffer({trackRemovals:!0});i=t.qn;const f=[];e.targetChanges.forEach((b,x)=>{const T=i.get(x);if(!T)return;f.push(t.He.removeMatchingKeys(a,b.removedDocuments,x).next(()=>t.He.addMatchingKeys(a,b.addedDocuments,x)));let z=T.withSequenceNumber(a.currentSequenceNumber);var H,X,ve;e.targetMismatches.has(x)?z=z.withResumeToken(Vr.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):b.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(b.resumeToken,r)),i=i.insert(x,z),X=z,ve=b,(0===(H=T).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0)&&f.push(t.He.updateTargetData(a,z))});let v=Ns();if(e.documentUpdates.forEach((b,x)=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,b))}),f.push(wm(a,h,e.documentUpdates,r,void 0).next(b=>{v=b})),!r.isEqual(Ht.min())){const b=t.He.getLastRemoteSnapshotVersion(a).next(x=>t.He.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(b)}return Oe.waitFor(f).next(()=>h.apply(a)).next(()=>t.Wn.Vn(a,v)).next(()=>v)}).then(a=>(t.qn=i,a))}function wm(n,e,t,r,i){let a=Mn();return t.forEach(h=>a=a.add(h)),e.getEntries(n,a).next(h=>{let f=Ns();return t.forEach((v,b)=>{const x=h.get(v),T=(null==i?void 0:i.get(v))||r;b.isNoDocument()&&b.version.isEqual(Ht.min())?(e.removeEntry(v,T),f=f.insert(v,b)):!x.isValidDocument()||b.version.compareTo(x.version)>0||0===b.version.compareTo(x.version)&&x.hasPendingWrites?(e.addEntry(b,T),f=f.insert(v,b)):Ue("LocalStore","Ignoring outdated watch update for ",v,". Current version:",x.version," Watch version:",b.version)}),f})}function g_(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function M4(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.He.getTargetData(r,e).next(a=>a?(i=a,Oe.resolve(i)):t.He.allocateTargetId(r).next(h=>(i=new Ha(e,h,0,r.currentSequenceNumber),t.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function $c(n,e,t){return Z3.apply(this,arguments)}function Z3(){return Z3=(0,Ee.Z)(function*(n,e,t){const r=Je(n),i=r.qn.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,h=>r.persistence.referenceDelegate.removeTarget(h,i)))}catch(h){if(!g4(h))throw h;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),Z3.apply(this,arguments)}function Mu(n,e,t){const r=Je(n);let i=Ht.min(),a=Mn();return r.persistence.runTransaction("Execute query","readonly",h=>function(f,v,b){const x=Je(f),T=x.Kn.get(b);return void 0!==T?Oe.resolve(x.qn.get(T)):x.He.getTargetData(v,b)}(r,h,so(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(h,f.targetId).next(v=>{a=v})}).next(()=>r.Un.getDocumentsMatchingQuery(h,e,t?i:Ht.min(),t?a:Mn())).next(f=>({documents:f,zn:a})))}function Mm(n,e){const t=Je(n),r=Je(t.He),i=t.qn.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(h=>h?h.target:null))}function Em(n){const e=Je(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,i,a){const h=Je(r);let f=Ns(),v=F3(a);const b=D2(i),x=IDBKeyRange.lowerBound(v,!0);return b.jt({index:or.readTimeIndex,range:x},(T,z)=>{const H=z3(h.k,z);f=f.insert(H.key,H),v=z.readTime}).next(()=>({In:f,readTime:Cf(v)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function E4(){return E4=(0,Ee.Z)(function*(n){const e=Je(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const i=D2(r);let a=Ht.min();return i.jt({index:or.readTimeIndex,reverse:!0},(h,f,v)=>{f.readTime&&(a=Cf(f.readTime)),v.done()}).next(()=>a)}(t)).then(t=>{e.jn=t})}),E4.apply(this,arguments)}function q3(){return q3=(0,Ee.Z)(function*(n,e,t,r){const i=Je(n);let a=Mn(),h=Ns(),f=X8();for(const x of t){const T=e.Hn(x.metadata.name);x.document&&(a=a.add(T)),h=h.insert(T,e.Jn(x)),f=f.insert(T,e.Yn(x.metadata.readTime))}const v=i.Qn.newChangeBuffer({trackRemovals:!0}),b=yield M4(i,(x=r,so(Pc(mn.fromString(`__bundle__/docs/${x}`)))));var x;return i.persistence.runTransaction("Apply bundle documents","readwrite",x=>wm(x,v,h,Ht.min(),f).next(T=>(v.apply(x),T)).next(T=>i.He.removeMatchingKeysForTargetId(x,b.targetId).next(()=>i.He.addMatchingKeys(x,a,b.targetId)).next(()=>i.Wn.Vn(x,T)).next(()=>T)))}),q3.apply(this,arguments)}function G3(n,e){return Df.apply(this,arguments)}function Df(){return Df=(0,Ee.Z)(function*(n,e,t=Mn()){const r=yield M4(n,so(bf(e.bundledQuery))),i=Je(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const h=Lr(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return i.Ye.saveNamedQuery(a,e);const f=r.withResumeToken(Vr.EMPTY_BYTE_STRING,h);return i.qn=i.qn.insert(f.targetId,f),i.He.updateTargetData(a,f).next(()=>i.He.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.He.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ye.saveNamedQuery(a,e))})}),Df.apply(this,arguments)}class __{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Oe.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:Lr(r.createTime)}),Oe.resolve()}getNamedQuery(e,t){return Oe.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:bf(r.bundledQuery),readTime:Lr(r.readTime)}),Oe.resolve();var r}}class Tf{constructor(){this.ts=new er(ri.es),this.ns=new er(ri.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new ri(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new ri(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new pt(new mn([])),r=new ri(t,e),i=new ri(t,e+1),a=[];return this.ns.forEachInRange([r,i],h=>{this.os(h),a.push(h.key)}),a}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new pt(new mn([])),r=new ri(t,e),i=new ri(t,e+1);let a=Mn();return this.ns.forEachInRange([r,i],h=>{a=a.add(h.key)}),a}containsKey(e){const t=new ri(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ri{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return pt.comparator(e.key,t.key)||Xt(e.fs,t.fs)}static ss(e,t){return Xt(e.fs,t.fs)||pt.comparator(e.key,t.key)}}class pw{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new er(ri.es)}checkEmpty(e){return Oe.resolve(0===this.An.length)}addMutationBatch(e,t,r,i){const a=this.ds;this.ds++;const h=new vf(a,t,r,i);this.An.push(h);for(const f of i)this.ws=this.ws.add(new ri(f.key,a)),this.Jt.addToCollectionParentIndex(e,f.key.path.popLast());return Oe.resolve(h)}lookupMutationBatch(e,t){return Oe.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.gs(t+1),a=i<0?0:i;return Oe.resolve(this.An.length>a?this.An[a]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Oe.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ri(t,0),i=new ri(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],h=>{const f=this._s(h.fs);a.push(f)}),Oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new er(Xt);return t.forEach(i=>{const a=new ri(i,0),h=new ri(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([a,h],f=>{r=r.add(f.fs)})}),Oe.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;pt.isDocumentKey(a)||(a=a.child(""));const h=new ri(new pt(a),0);let f=new er(Xt);return this.ws.forEachWhile(v=>{const b=v.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(f=f.add(v.fs)),!0)},h),Oe.resolve(this.ys(f))}ys(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){St(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return Oe.forEach(t.mutations,i=>{const a=new ri(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new ri(t,0),i=this.ws.firstAfterOrEqual(r);return Oe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Oe.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class y_{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Hr(pt.comparator),this.size=0}addEntry(e,t,r){const i=t.key,a=this.docs.get(i),h=a?a.size:0,f=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:f,readTime:r}),this.size+=f-h,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Oe.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(t))}getEntries(e,t){let r=Ns();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():$n.newInvalidDocument(i))}),Oe.resolve(r)}getDocumentsMatchingQuery(e,t,r){let i=Ns();const a=new pt(t.path.child("")),h=this.docs.getIteratorFrom(a);for(;h.hasNext();){const{key:f,value:{document:v,readTime:b}}=h.getNext();if(!t.path.isPrefixOf(f.path))break;b.compareTo(r)<=0||I1(t,v)&&(i=i.insert(v.key,v.mutableCopy()))}return Oe.resolve(i)}Es(e,t){return Oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new C_(this)}getSize(e){return Oe.resolve(this.size)}}class C_ extends u_{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?t.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),Oe.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class b_{constructor(e){this.persistence=e,this.Is=new vu(t=>w2(t),D3),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.As=0,this.Rs=new Tf,this.targetCount=0,this.bs=x2.ie()}forEachTarget(e,t){return this.Is.forEach((r,i)=>t(i)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),Oe.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new x2(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Oe.resolve()}updateTargetData(e,t){return this.ae(t),Oe.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Is.forEach((h,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Is.delete(h),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),Oe.waitFor(a).next(()=>i)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return Oe.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),Oe.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(h=>{a.push(i.markPotentiallyOrphaned(e,h))}),Oe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return Oe.resolve(r)}containsKey(e,t){return Oe.resolve(this.Rs.containsKey(t))}}class w_{constructor(e,t){this.Ps={},this.Be=new Gi(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new b_(this),this.Jt=new s_,this.Je=new y_(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new yf(t),this.Ye=new __(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new pw(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new M_(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(a=>this.referenceDelegate.Ss(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ds(e,t){return Oe.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class M_ extends n_{constructor(e){super(),this.currentSequenceNumber=e}}class If{constructor(e){this.persistence=e,this.Cs=new Tf,this.Ns=null}static ks(e){return new If(e)}get xs(){if(this.Ns)return this.Ns;throw _t()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),Oe.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),Oe.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Oe.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.xs.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.xs,r=>{const i=pt.fromPath(r);return this.$s(e,i).next(a=>{a||t.removeEntry(i)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Oe.or([()=>Oe.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function Sm(n,e){return`firestore_clients_${n}_${e}`}function xm(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Dm(n,e){return`firestore_targets_${n}_${e}`}class kf{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Os(e,t,r){const i=JSON.parse(r);let a,h="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return h&&i.error&&(h="string"==typeof i.error.message&&"string"==typeof i.error.code,h&&(a=new ze(i.error.code,i.error.message))),h?new kf(e,t,i.state,a):(kr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class W3{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Os(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new ze(r.error.code,r.error.message))),a?new W3(e,r.state,i):(kr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ni();for(let h=0;i&&h<r.activeTargetIds.length;++h)i=O8(r.activeTargetIds[h]),a=a.add(r.activeTargetIds[h]);return i?new Nf(e,a):(kr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Tm{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Tm(t.clientId,t.onlineState):(kr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Lf{constructor(){this.activeTargetIds=ni()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Im{constructor(e,t,r,i,a){this.window=e,this.Me=t,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Hr(Xt),this.started=!1,this.js=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=Sm(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new Lf),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(f){return`firestore_bundle_loaded_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.Tn();for(const i of t){if(i===e.Bs)continue;const a=e.getItem(Sm(e.persistenceKey,i));if(a){const h=Nf.Os(i,a);h&&(e.Ks=e.Ks.insert(h.clientId,h))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const i=e.Zs(r);i&&e.ti(i)}for(const i of e.js)e.qs(i);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Dm(this.persistenceKey,e));if(r){const i=W3.Os(e,r);i&&(t=i.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Dm(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.si(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const i=t.ai(r.key);return t.ui(i,null)}{const i=t.hi(r.key,r.newValue);if(i)return t.ui(i.clientId,i)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const i=t.li(r.key,r.newValue);if(i)return t.fi(i)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const i=t.di(r.key,r.newValue);if(i)return t.wi(i)}}else if(r.key===t.Js){if(null!==r.newValue){const i=t.Zs(r.newValue);if(i)return t.ti(i)}}else if(r.key===t.Ws){const i=function(a){let h=Gi.I;if(null!=a)try{const f=JSON.parse(a);St("number"==typeof f),h=f}catch(f){kr("SharedClientState","Failed to read sequence number from WebStorage",f)}return h}(r.newValue);i!==Gi.I&&t.sequenceNumberHandler(i)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,r){const i=new kf(this.currentUser,e,t,r),a=xm(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Ms())}si(e){const t=xm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const i=Dm(this.persistenceKey,e),a=new W3(e,t,r);this.setItem(i,a.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ai(e);return Nf.Os(r,t)}li(e,t){const r=this.zs.exec(e),i=Number(r[1]);return kf.Os(new Jr(void 0!==r[2]?r[2]:null),i,t)}di(e,t){const r=this.Hs.exec(e),i=Number(r[1]);return W3.Os(i,t)}Zs(e){return Tm.Os(e)}fi(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),h=[],f=[];return a.forEach(v=>{i.has(v)||h.push(v)}),i.forEach(v=>{a.has(v)||f.push(v)}),this.syncEngine.yi(h,f).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=ni();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class E_{constructor(){this.pi=new Lf,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new Lf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class mw{Ei(e){}shutdown(){}}class A_{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const s={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class o{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class l extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,i,a){const h=this.Ui(e,t);Ue("RestConnection","Sending: ",h,r);const f={};return this.qi(f,i,a),this.Ki(e,h,f,r).then(v=>(Ue("RestConnection","Received: ",v),v),v=>{throw t4("RestConnection",`${e} failed with error: `,v,"url: ",h,"request:",r),v})}ji(e,t,r,i,a){return this.Bi(e,t,r,i,a)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Na,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Ui(e,t){return`${this.Fi}/v1/${t}:${s[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,i){return new Promise((a,h)=>{const f=new wv;f.listenOnce(rw.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case bp.NO_ERROR:const b=f.getResponseJson();Ue("Connection","XHR received:",JSON.stringify(b)),a(b);break;case bp.TIMEOUT:Ue("Connection",'RPC "'+e+'" timed out'),h(new ze(be.DEADLINE_EXCEEDED,"Request time out"));break;case bp.HTTP_ERROR:const x=f.getStatus();if(Ue("Connection",'RPC "'+e+'" failed with status:',x,"response text:",f.getResponseText()),x>0){const T=f.getResponseJson().error;if(T&&T.status&&T.message){const z=function(H){const X=H.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(X)>=0?X:be.UNKNOWN}(T.status);h(new ze(z,T.message))}else h(new ze(be.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ze(be.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{Ue("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);f.send(t,"POST",v,r,15)})}Qi(e,t,r){const i=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=yv(),h=Cv(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new wp({})),this.qi(f.initMessageHeaders,t,r),(0,At.uI)()||(0,At.b$)()||(0,At.d)()||(0,At.w1)()||(0,At.Mn)()||(0,At.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const v=i.join("");Ue("Connection","Creating WebChannel: "+v,f);const b=a.createWebChannel(v,f);let x=!1,T=!1;const z=new o({Vi:X=>{T?Ue("Connection","Not sending because WebChannel is closed:",X):(x||(Ue("Connection","Opening WebChannel transport."),b.open(),x=!0),Ue("Connection","WebChannel sending:",X),b.send(X))},Si:()=>b.close()}),H=(X,ve,xe)=>{X.listen(ve,je=>{try{xe(je)}catch(ct){setTimeout(()=>{throw ct},0)}})};return H(b,Ic.EventType.OPEN,()=>{T||Ue("Connection","WebChannel transport opened.")}),H(b,Ic.EventType.CLOSE,()=>{T||(T=!0,Ue("Connection","WebChannel transport closed"),z.Oi())}),H(b,Ic.EventType.ERROR,X=>{T||(T=!0,t4("Connection","WebChannel transport errored:",X),z.Oi(new ze(be.UNAVAILABLE,"The operation could not be completed")))}),H(b,Ic.EventType.MESSAGE,X=>{var ve;if(!T){const xe=X.data[0];St(!!xe);const je=xe,ct=je.error||(null===(ve=je[0])||void 0===ve?void 0:ve.error);if(ct){Ue("Connection","WebChannel received error:",ct);const Nt=ct.status;let ot=function(Dn){const br=fr[Dn];if(void 0!==br)return Kp(br)}(Nt),tn=ct.message;void 0===ot&&(ot=be.INTERNAL,tn="Unknown error status: "+Nt+" with message "+ct.message),T=!0,z.Oi(new ze(ot,tn)),b.close()}else Ue("Connection","WebChannel received:",xe),z.Mi(xe)}}),H(h,iw.STAT_EVENT,X=>{X.stat===bv.PROXY?Ue("Connection","Detected buffering proxy"):X.stat===bv.NOPROXY&&Ue("Connection","Detected no buffering proxy")}),setTimeout(()=>{z.$i()},0),z}}function u(){return"undefined"!=typeof window?window:null}function d(){return"undefined"!=typeof document?document:null}function p(n){return new nf(n,!0)}class _{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Me=e,this.timerId=t,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,t-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class C{constructor(e,t,r,i,a,h,f,v){this.Me=e,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=v,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new _(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,Ee.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,Ee.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var r=this;return(0,Ee.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===be.RESOURCE_EXHAUSTED?(kr(t.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===be.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===t&&this.Ir(r,i)},r=>{e(()=>{const i=new ze(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi((0,Ee.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M extends C{constructor(e,t,r,i,a,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,h),this.k=a}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:_t(),i=e.targetChange.targetIds||[],a=function(v,b){return v.C?(St(void 0===b||"string"==typeof b),Vr.fromBase64String(b||"")):(St(void 0===b||b instanceof Uint8Array),Vr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(v){const b=void 0===v.code?be.UNKNOWN:Kp(v.code);return new ze(b,v.message||"")}(h);t=new h4(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=qo(n,r.document.name),a=Lr(r.document.updateTime),h=new Ii({mapValue:{fields:r.document.fields}}),f=$n.newFoundDocument(i,a,h);t=new N3(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=qo(n,r.document),a=r.readTime?Lr(r.readTime):Ht.min(),h=$n.newNoDocument(i,a);t=new N3([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,i=qo(n,r.document);t=new N3([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return _t();{const r=e.filter,a=new Wp(r.count||0);t=new qv(r.targetId,a)}}var v;return t}(this.k,e),r=function(i){if(!("targetChange"in i))return Ht.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Ht.min():a.readTime?Lr(a.readTime):Ht.min()}(e);return this.listener.br(t,r)}Pr(e){const t={};t.database=fu(this.k),t.addTarget=function(i,a){let h;const f=a.target;return h=iu(f)?{documents:lf(i,f)}:{query:uf(i,f)},h.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?h.resumeToken=rf(i,a.resumeToken):a.snapshotVersion.compareTo(Ht.min())>0&&(h.readTime=d4(i,a.snapshotVersion.toTimestamp())),h}(this.k,e);const r=function(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _t()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=fu(this.k),t.removeTarget=e,this.gr(t)}}class D extends C{constructor(e,t,r,i,a,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,h),this.k=a,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(St(void 0!==e),n.map(t=>function(r,i){let a=Lr(r.updateTime?r.updateTime:i);return a.isEqual(Ht.min())&&(a=Lr(i)),new Bv(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.Cr(r,t)}return St(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=fu(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>pu(this.k,r))};this.gr(t)}}class k extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=i,this.$r=!1}Or(){if(this.$r)throw new ze(be.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.ir.Bi(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ze(be.UNKNOWN,i.toString())})}ji(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.ir.ji(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ze(be.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class P{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(kr(t),this.Lr=!1):Ue("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class K{constructor(e,t,r,i,a){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei(f=>{r.enqueueAndForget((0,Ee.Z)(function*(){var v;ms(h)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Ee.Z)(function*(b){const x=Je(b);x.Gr.add(4),yield Fe(x),x.Jr.set("Unknown"),x.Gr.delete(4),yield ie(x)}),function(b){return v.apply(this,arguments)})(h))}))}),this.Jr=new P(r,i)}}function ie(n){return Ae.apply(this,arguments)}function Ae(){return Ae=(0,Ee.Z)(function*(n){if(ms(n))for(const e of n.zr)yield e(!0)}),Ae.apply(this,arguments)}function Fe(n){return $e.apply(this,arguments)}function $e(){return $e=(0,Ee.Z)(function*(n){for(const e of n.zr)yield e(!1)}),$e.apply(this,arguments)}function st(n,e){const t=Je(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),Qi(t)?gn(t):Y3(t).lr()&&Ct(t,e))}function Ie(n,e){const t=Je(n),r=Y3(t);t.Wr.delete(e),r.lr()&&Jt(t,e),0===t.Wr.size&&(r.lr()?r._r():ms(t)&&t.Jr.set("Unknown"))}function Ct(n,e){n.Yr.X(e.targetId),Y3(n).Pr(e)}function Jt(n,e){n.Yr.X(e),Y3(n).vr(e)}function gn(n){n.Yr=new ef({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),Y3(n).start(),n.Jr.Br()}function Qi(n){return ms(n)&&!Y3(n).hr()&&n.Wr.size>0}function ms(n){return 0===Je(n).Gr.size}function $3(n){n.Yr=void 0}function Rf(n){return Eu.apply(this,arguments)}function Eu(){return Eu=(0,Ee.Z)(function*(n){n.Wr.forEach((e,t)=>{Ct(n,e)})}),Eu.apply(this,arguments)}function Of(n,e){return Au.apply(this,arguments)}function Au(){return Au=(0,Ee.Z)(function*(n,e){$3(n),Qi(n)?(n.Jr.Kr(e),gn(n)):n.Jr.set("Unknown")}),Au.apply(this,arguments)}function Pf(n,e,t){return Su.apply(this,arguments)}function Su(){return Su=(0,Ee.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof h4&&2===e.state&&e.cause)try{yield(r=(0,Ee.Z)(function*(i,a){const h=a.cause;for(const f of a.targetIds)i.Wr.has(f)&&(yield i.remoteSyncer.rejectListen(f,h),i.Wr.delete(f),i.Yr.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield A4(n,r)}else if(e instanceof N3?n.Yr.ot(e):e instanceof qv?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(Ht.min()))try{const r=yield xf(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const h=i.Yr.gt(a);return h.targetChanges.forEach((f,v)=>{if(f.resumeToken.approximateByteSize()>0){const b=i.Wr.get(v);b&&i.Wr.set(v,b.withResumeToken(f.resumeToken,a))}}),h.targetMismatches.forEach(f=>{const v=i.Wr.get(f);if(!v)return;i.Wr.set(f,v.withResumeToken(Vr.EMPTY_BYTE_STRING,v.snapshotVersion)),Jt(i,f);const b=new Ha(v.target,f,1,v.sequenceNumber);Ct(i,b)}),i.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield A4(n,r)}var r}),Su.apply(this,arguments)}function A4(n,e,t){return xu.apply(this,arguments)}function xu(){return xu=(0,Ee.Z)(function*(n,e,t){if(!g4(e))throw e;n.Gr.add(1),yield Fe(n),n.Jr.set("Offline"),t||(t=()=>xf(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield ie(n)}))}),xu.apply(this,arguments)}function gw(n,e){return e().catch(t=>A4(n,t,e))}function K3(n){return S_.apply(this,arguments)}function S_(){return S_=(0,Ee.Z)(function*(n){const e=Je(n),t=S4(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;_x(e);)try{const i=yield g_(e.localStore,r);if(null===i){0===e.Qr.length&&t._r();break}r=i.batchId,yx(e,i)}catch(i){yield A4(e,i)}vw(e)&&_w(e)}),S_.apply(this,arguments)}function _x(n){return ms(n)&&n.Qr.length<10}function yx(n,e){n.Qr.push(e);const t=S4(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function vw(n){return ms(n)&&!S4(n).hr()&&n.Qr.length>0}function _w(n){S4(n).start()}function Cx(n){return x_.apply(this,arguments)}function x_(){return x_=(0,Ee.Z)(function*(n){S4(n).kr()}),x_.apply(this,arguments)}function bx(n){return D_.apply(this,arguments)}function D_(){return D_=(0,Ee.Z)(function*(n){const e=S4(n);for(const t of n.Qr)e.Dr(t.mutations)}),D_.apply(this,arguments)}function wx(n,e,t){return T_.apply(this,arguments)}function T_(){return T_=(0,Ee.Z)(function*(n,e,t){const r=n.Qr.shift(),i=_f.from(r,e,t);yield gw(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield K3(n)}),T_.apply(this,arguments)}function Mx(n,e){return I_.apply(this,arguments)}function I_(){return I_=(0,Ee.Z)(function*(n,e){var t;e&&S4(n).Sr&&(yield(t=(0,Ee.Z)(function*(r,i){if($p(a=i.code)&&a!==be.ABORTED){const h=r.Qr.shift();S4(r).wr(),yield gw(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,i)),yield K3(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),vw(n)&&_w(n)}),I_.apply(this,arguments)}function k_(n,e){return N_.apply(this,arguments)}function N_(){return N_=(0,Ee.Z)(function*(n,e){const t=Je(n);e?(t.Gr.delete(2),yield ie(t)):e||(t.Gr.add(2),yield Fe(t),t.Jr.set("Unknown"))}),N_.apply(this,arguments)}function Y3(n){return n.Xr||(n.Xr=function(e,t,r){const i=Je(e);return i.Or(),new M(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:Rf.bind(null,n),Ni:Of.bind(null,n),br:Pf.bind(null,n)}),n.zr.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Xr.wr(),Qi(n)?gn(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),$3(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function S4(n){return n.Zr||(n.Zr=function(e,t,r){const i=Je(e);return i.Or(),new D(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:Cx.bind(null,n),Ni:Mx.bind(null,n),Nr:bx.bind(null,n),Cr:wx.bind(null,n)}),n.zr.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Zr.wr(),yield K3(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class L_{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,i,a){const h=Date.now()+r,f=new L_(e,t,h,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ze(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Q3(n,e){if(kr("AsyncQueue",`${e}: ${n}`),g4(n))return new ze(be.UNAVAILABLE,`${e}: ${n}`);throw n}class J3{constructor(e){this.comparator=e?(t,r)=>e(t,r)||pt.comparator(t.key,r.key):(t,r)=>pt.comparator(t.key,r.key),this.keyedMap=J8(),this.sortedSet=new Hr(this.comparator)}static emptySet(e){return new J3(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof J3)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new J3;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class yw{constructor(){this.eo=new Hr(pt.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):_t():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class X3{constructor(e,t,r,i,a,h,f,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(h=>{a.push({type:0,doc:h})}),new X3(e,t,J3.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ex{constructor(){this.so=void 0,this.listeners=[]}}class Ax{constructor(){this.queries=new vu(e=>Fp(e),au),this.onlineState="Unknown",this.io=new Set}}function R_(n,e){return O_.apply(this,arguments)}function O_(){return O_=(0,Ee.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new Ex),i)try{a.so=yield t.onListen(r)}catch(h){const f=Q3(h,`Initialization of query '${j8(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.ro(t.onlineState),a.so&&e.oo(a.so)&&F_(t)}),O_.apply(this,arguments)}function P_(n,e){return z_.apply(this,arguments)}function z_(){return z_=(0,Ee.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const h=a.listeners.indexOf(e);h>=0&&(a.listeners.splice(h,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),z_.apply(this,arguments)}function Sx(n,e){const t=Je(n);let r=!1;for(const i of e){const h=t.queries.get(i.query);if(h){for(const f of h.listeners)f.oo(i)&&(r=!0);h.so=i}}r&&F_(t)}function xx(n,e,t){const r=Je(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function F_(n){n.io.forEach(e=>{e.next()})}class V_{constructor(e,t,r){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new X3(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=X3.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class Dx{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class Cw{constructor(e){this.k=e}Hn(e){return qo(this.k,e)}Jn(e){return e.metadata.exists?$v(this.k,e.document,!1):$n.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Lr(e)}}class Tx{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=bw(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new Cw(this.k);for(const i of e)if(i.metadata.queries){const a=r.Hn(i.metadata.name);for(const h of i.metadata.queries){const f=(t.get(h)||Mn()).add(a);t.set(h,f)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function(n,e,t,r){return q3.apply(this,arguments)}(e.localStore,new Cw(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const i of e.queries)yield G3(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",new ym(Object.assign({},e.progress),t)})()}}function bw(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class ww{constructor(e){this.key=e}}class Mw{constructor(e){this.key=e}}class Ew{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=Mn(),this.mutatedKeys=Mn(),this.Ao=Z8(e),this.Ro=new J3(this.Ao)}get bo(){return this.To}Po(e,t){const r=t?t.vo:new yw,i=t?t.Ro:this.Ro;let a=t?t.mutatedKeys:this.mutatedKeys,h=i,f=!1;const v=c4(this.query)&&i.size===this.query.limit?i.last():null,b=ou(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((x,T)=>{const z=i.get(x),H=I1(this.query,T)?T:null,X=!!z&&this.mutatedKeys.has(z.key),ve=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let xe=!1;z&&H?z.data.isEqual(H.data)?X!==ve&&(r.track({type:3,doc:H}),xe=!0):this.Vo(z,H)||(r.track({type:2,doc:H}),xe=!0,(v&&this.Ao(H,v)>0||b&&this.Ao(H,b)<0)&&(f=!0)):!z&&H?(r.track({type:0,doc:H}),xe=!0):z&&!H&&(r.track({type:1,doc:z}),xe=!0,(v||b)&&(f=!0)),xe&&(H?(h=h.add(H),a=ve?a.add(x):a.delete(x)):(h=h.delete(x),a=a.delete(x)))}),c4(this.query)||ou(this.query))for(;h.size>this.query.limit;){const x=c4(this.query)?h.last():h.first();h=h.delete(x.key),a=a.delete(x.key),r.track({type:1,doc:x})}return{Ro:h,vo:r,Bn:f,mutatedKeys:a}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const a=e.vo.no();a.sort((b,x)=>function(T,z){const H=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return H(T)-H(z)}(b.type,x.type)||this.Ao(b.doc,x.doc)),this.So(r);const h=t?this.Do():[],f=0===this.Io.size&&this.current?1:0,v=f!==this.Eo;return this.Eo=f,0!==a.length||v?{snapshot:new X3(this.query,e.Ro,i,a,e.mutatedKeys,0===f,v,!1),Co:h}:{Co:h}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new yw,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=Mn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new Mw(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new ww(r))}),t}ko(e){this.To=e.zn,this.Io=Mn();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return X3.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class Ix{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class kx{constructor(e){this.key=e,this.$o=!1}}class Nx{constructor(e,t,r,i,a,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=h,this.Oo={},this.Mo=new vu(f=>Fp(f),au),this.Fo=new Map,this.Lo=new Set,this.Bo=new Hr(pt.comparator),this.Uo=new Map,this.qo=new Tf,this.Ko={},this.jo=new Map,this.Qo=x2.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function Lx(n,e){return H_.apply(this,arguments)}function H_(){return H_=(0,Ee.Z)(function*(n,e){const t=ly(n);let r,i;const a=t.Mo.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.xo();else{const h=yield M4(t.localStore,so(e)),f=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,i=yield B_(t,e,r,"current"===f),t.isPrimaryClient&&st(t.remoteStore,h)}return i}),H_.apply(this,arguments)}function B_(n,e,t,r){return U_.apply(this,arguments)}function U_(){return U_=(0,Ee.Z)(function*(n,e,t,r){n.Go=(x,T,z)=>{return(H=(0,Ee.Z)(function*(X,ve,xe,je){let ct=ve.view.Po(xe);ct.Bn&&(ct=yield Mu(X.localStore,ve.query,!1).then(({documents:tn})=>ve.view.Po(tn,ct)));const Nt=je&&je.targetChanges.get(ve.targetId),ot=ve.view.applyChanges(ct,X.isPrimaryClient,Nt);return J_(X,ve.targetId,ot.Co),ot.snapshot}),function(X,ve,xe,je){return H.apply(this,arguments)})(n,x,T,z);var H};const i=yield Mu(n.localStore,e,!0),a=new Ew(e,i.zn),h=a.Po(i.documents),f=hu.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=a.applyChanges(h,n.isPrimaryClient,f);J_(n,t,v.Co);const b=new Ix(e,t,a);return n.Mo.set(e,b),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),v.snapshot}),U_.apply(this,arguments)}function Rx(n,e){return j_.apply(this,arguments)}function j_(){return j_=(0,Ee.Z)(function*(n,e){const t=Je(n),r=t.Mo.get(e),i=t.Fo.get(r.targetId);if(i.length>1)return t.Fo.set(r.targetId,i.filter(a=>!au(a,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield $c(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ie(t.remoteStore,r.targetId),eh(t,r.targetId)}).catch(b4))):(eh(t,r.targetId),yield $c(t.localStore,r.targetId,!0))}),j_.apply(this,arguments)}function Z_(){return Z_=(0,Ee.Z)(function*(n,e,t){const r=uy(n);try{const i=yield function(a,h){const f=Je(a),v=ei.now(),b=h.reduce((T,z)=>T.add(z.key),Mn());let x;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>f.Wn.vn(T,b).next(z=>{x=z;const H=[];for(const X of h){const ve=Uv(X,x.get(X.key));null!=ve&&H.push(new k1(X.key,ve,Np(ve.value.mapValue),Nr.exists(!0)))}return f.An.addMutationBatch(T,v,H,h)})).then(T=>(T.applyToLocalDocumentSet(x),{batchId:T.batchId,changes:x}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,h,f){let v=a.Ko[a.currentUser.toKey()];v||(v=new Hr(Xt)),v=v.insert(h,f),a.Ko[a.currentUser.toKey()]=v}(r,i.batchId,t),yield Kc(r,i.changes),yield K3(r.remoteStore)}catch(i){const a=Q3(i,"Failed to persist write");t.reject(a)}}),Z_.apply(this,arguments)}function Aw(n,e){return q_.apply(this,arguments)}function q_(){return q_=(0,Ee.Z)(function*(n,e){const t=Je(n);try{const r=yield m_(t.localStore,e);e.targetChanges.forEach((i,a)=>{const h=t.Uo.get(a);h&&(St(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?h.$o=!0:i.modifiedDocuments.size>0?St(h.$o):i.removedDocuments.size>0&&(St(h.$o),h.$o=!1))}),yield Kc(t,r,e)}catch(r){yield b4(r)}}),q_.apply(this,arguments)}function Sw(n,e,t){const r=Je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Mo.forEach((a,h)=>{const f=h.view.ro(e);f.snapshot&&i.push(f.snapshot)}),function(a,h){const f=Je(a);f.onlineState=h;let v=!1;f.queries.forEach((b,x)=>{for(const T of x.listeners)T.ro(h)&&(v=!0)}),v&&F_(f)}(r.eventManager,e),i.length&&r.Oo.br(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Px(n,e,t){return G_.apply(this,arguments)}function G_(){return G_=(0,Ee.Z)(function*(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Uo.get(e),a=i&&i.key;if(a){let h=new Hr(pt.comparator);h=h.insert(a,$n.newNoDocument(a,Ht.min()));const f=Mn().add(a),v=new Pa(Ht.min(),new Map,new er(Xt),h,f);yield Aw(r,v),r.Bo=r.Bo.remove(a),r.Uo.delete(e),X_(r)}else yield $c(r.localStore,e,!1).then(()=>eh(r,e,t)).catch(b4)}),G_.apply(this,arguments)}function zx(n,e){return W_.apply(this,arguments)}function W_(){return W_=(0,Ee.Z)(function*(n,e){const t=Je(n),r=e.batch.batchId;try{const i=yield fw(t.localStore,e);Q_(t,r,null),Y_(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Kc(t,i)}catch(i){yield b4(i)}}),W_.apply(this,arguments)}function Fx(n,e,t){return $_.apply(this,arguments)}function $_(){return $_=(0,Ee.Z)(function*(n,e,t){const r=Je(n);try{const i=yield function(a,h){const f=Je(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let b;return f.An.lookupMutationBatch(v,h).next(x=>(St(null!==x),b=x.keys(),f.An.removeMutationBatch(v,x))).next(()=>f.An.performConsistencyCheck(v)).next(()=>f.Wn.vn(v,b))})}(r.localStore,e);Q_(r,e,t),Y_(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Kc(r,i)}catch(i){yield b4(i)}}),$_.apply(this,arguments)}function K_(){return K_=(0,Ee.Z)(function*(n,e){const t=Je(n);ms(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const h=Je(a);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>h.An.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.jo.get(r)||[];i.push(e),t.jo.set(r,i)}catch(r){const i=Q3(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),K_.apply(this,arguments)}function Y_(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function Q_(n,e,t){const r=Je(n);let i=r.Ko[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function eh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Mo.delete(r),t&&n.Oo.zo(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||xw(n,r)})}function xw(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(Ie(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),X_(n))}function J_(n,e,t){for(const r of t)r instanceof ww?(n.qo.addReference(r.key,e),Hx(n,r)):r instanceof Mw?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||xw(n,r.key)):_t()}function Hx(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.Lo.add(r),X_(n))}function X_(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new pt(mn.fromString(e)),r=n.Qo.next();n.Uo.set(r,new kx(t)),n.Bo=n.Bo.insert(t,r),st(n.remoteStore,new Ha(so(Pc(t.path)),r,2,Gi.I))}}function Kc(n,e,t){return ey.apply(this,arguments)}function ey(){return ey=(0,Ee.Z)(function*(n,e,t){const r=Je(n),i=[],a=[],h=[];var f;r.Mo.isEmpty()||(r.Mo.forEach((f,v)=>{h.push(r.Go(v,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,b.fromCache?"not-current":"current"),i.push(b);const x=Cm.$n(v.targetId,b);a.push(x)}}))}),yield Promise.all(h),r.Oo.br(i),yield(f=(0,Ee.Z)(function*(v,b){const x=Je(v);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Oe.forEach(b,z=>Oe.forEach(z.kn,H=>x.persistence.referenceDelegate.addReference(T,z.targetId,H)).next(()=>Oe.forEach(z.xn,H=>x.persistence.referenceDelegate.removeReference(T,z.targetId,H)))))}catch(T){if(!g4(T))throw T;Ue("LocalStore","Failed to update sequence numbers: "+T)}for(const T of b){const z=T.targetId;if(!T.fromCache){const H=x.qn.get(z),ve=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);x.qn=x.qn.insert(z,ve)}}}),function(v,b){return f.apply(this,arguments)})(r.localStore,a))}),ey.apply(this,arguments)}function Bx(n,e){return ty.apply(this,arguments)}function ty(){return ty=(0,Ee.Z)(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield p_(t.localStore,e);t.currentUser=e,(i=t).jo.forEach(h=>{h.forEach(f=>{f.reject(new ze(be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Kc(t,r.Gn)}var i}),ty.apply(this,arguments)}function Ux(n,e){const t=Je(n),r=t.Uo.get(e);if(r&&r.$o)return Mn().add(r.key);{let i=Mn();const a=t.Fo.get(e);if(!a)return i;for(const h of a){const f=t.Mo.get(h);i=i.unionWith(f.view.bo)}return i}}function jx(n,e){return ny.apply(this,arguments)}function ny(){return ny=(0,Ee.Z)(function*(n,e){const t=Je(n),r=yield Mu(t.localStore,e.query,!0),i=e.view.ko(r);return t.isPrimaryClient&&J_(t,e.targetId,i.Co),i}),ny.apply(this,arguments)}function Zx(n){return ry.apply(this,arguments)}function ry(){return ry=(0,Ee.Z)(function*(n){const e=Je(n);return Em(e.localStore).then(t=>Kc(e,t))}),ry.apply(this,arguments)}function qx(n,e,t,r){return iy.apply(this,arguments)}function iy(){return iy=(0,Ee.Z)(function*(n,e,t,r){const i=Je(n),a=yield function(h,f){const v=Je(h),b=Je(v.An);return v.persistence.runTransaction("Lookup mutation documents","readonly",x=>b.Zt(x,f).next(T=>T?v.Wn.vn(x,T):Oe.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield K3(i.remoteStore):"acknowledged"===t||"rejected"===t?(Q_(i,e,r||null),Y_(i,e),f=e,Je(Je(i.localStore).An).ee(f)):_t(),yield Kc(i,a)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),iy.apply(this,arguments)}function sy(){return sy=(0,Ee.Z)(function*(n,e){const t=Je(n);if(ly(t),uy(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Dw(t,r.toArray());t.Wo=!0,yield k_(t.remoteStore,!0);for(const a of i)st(t.remoteStore,a)}else if(!1===e&&!1!==t.Wo){const r=[];let i=Promise.resolve();t.Fo.forEach((a,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):i=i.then(()=>(eh(t,h),$c(t.localStore,h,!0))),Ie(t.remoteStore,h)}),yield i,yield Dw(t,r),function(a){const h=Je(a);h.Uo.forEach((f,v)=>{Ie(h.remoteStore,v)}),h.qo.hs(),h.Uo=new Map,h.Bo=new Hr(pt.comparator)}(t),t.Wo=!1,yield k_(t.remoteStore,!1)}}),sy.apply(this,arguments)}function Dw(n,e,t){return oy.apply(this,arguments)}function oy(){return oy=(0,Ee.Z)(function*(n,e,t){const r=Je(n),i=[],a=[];for(const h of e){let f;const v=r.Fo.get(h);if(v&&0!==v.length){f=yield M4(r.localStore,so(v[0]));for(const b of v){const x=r.Mo.get(b),T=yield jx(r,x);T.snapshot&&a.push(T.snapshot)}}else{const b=yield Mm(r.localStore,h);f=yield M4(r.localStore,b),yield B_(r,Tw(b),h,!1)}i.push(f)}return r.Oo.br(a),i}),oy.apply(this,arguments)}function Tw(n){return Vv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Wx(n){const e=Je(n);return Je(Je(e.localStore).persistence).Tn()}function $x(n,e,t,r){return ay.apply(this,arguments)}function ay(){return ay=(0,Ee.Z)(function*(n,e,t,r){const i=Je(n);if(i.Wo)Ue("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(e))switch(t){case"current":case"not-current":{const a=yield Em(i.localStore),h=Pa.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Kc(i,a,h);break}case"rejected":yield $c(i.localStore,e,!0),eh(i,e,r);break;default:_t()}}),ay.apply(this,arguments)}function Kx(n,e,t){return cy.apply(this,arguments)}function cy(){return cy=(0,Ee.Z)(function*(n,e,t){const r=ly(n);if(r.Wo){for(const i of e){if(r.Fo.has(i)){Ue("SyncEngine","Adding an already active target "+i);continue}const a=yield Mm(r.localStore,i),h=yield M4(r.localStore,a);yield B_(r,Tw(a),h.targetId,!1),st(r.remoteStore,h)}for(const i of t)r.Fo.has(i)&&(yield $c(r.localStore,i,!1).then(()=>{Ie(r.remoteStore,i),eh(r,i)}).catch(b4))}}),cy.apply(this,arguments)}function ly(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Aw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ux.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Px.bind(null,e),e.Oo.br=Sx.bind(null,e.eventManager),e.Oo.zo=xx.bind(null,e.eventManager),e}function uy(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fx.bind(null,e),e}class Iw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.k=p(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return f_(this.persistence,new d_,e.initialUser,this.k)}Yo(e){return new w_(If.ks,this.k)}Jo(e){return new E_}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class kw extends Iw{constructor(e,t,r){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e),yield function(n){return E4.apply(this,arguments)}(r.localStore),yield r.tc.initialize(r,e),yield uy(r.tc.syncEngine),yield K3(r.tc.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return f_(this.persistence,new d_,e.initialUser,this.k)}Xo(e){return new l_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=wu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Yi.withCacheSize(this.cacheSizeBytes):Yi.DEFAULT;return new Cu(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,u(),d(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new E_}}class Qx extends kw{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e);const i=r.tc.syncEngine;r.sharedClientState instanceof Im&&(r.sharedClientState.syncEngine={mi:qx.bind(null,i),gi:$x.bind(null,i),yi:Kx.bind(null,i),Tn:Wx.bind(null,i),_i:Zx.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var a=(0,Ee.Z)(function*(h){yield function(n,e){return sy.apply(this,arguments)}(r.tc.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return a.apply(this,arguments)}}())})()}Jo(e){const t=u();if(!Im.Pt(t))throw new ze(be.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=wu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Im(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class hy{initialize(e,t){var r=this;return(0,Ee.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Sw(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Bx.bind(null,r.syncEngine),yield k_(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ax}createDatastore(e){const t=p(e.databaseInfo.databaseId),r=new l(e.databaseInfo);return new k(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>Sw(this.syncEngine,f,0),h=A_.Pt()?new A_:new mw,new K(t,r,i,a,h);var t,r,i,a,h}createSyncEngine(e,t){return function(r,i,a,h,f,v,b){const x=new Nx(r,i,a,h,f,v);return b&&(x.Wo=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const r=Je(t);Ue("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield Fe(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Nw(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class km{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Jx{constructor(e,t){this.sc=e,this.k=t,this.metadata=new Xr,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.oc();if(null===t)return null;const r=e.ic.decode(t),i=Number(r);isNaN(i)&&e.cc(`length string (${r}) is not valid number`);const a=yield e.ac(i);return new Dx(JSON.parse(a),t.length+i)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,Ee.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ac(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const r=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.sc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Xx{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ze(be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ee.Z)(function*(a,h){const f=Je(a),v=fu(f.k)+"/documents",b={documents:h.map(H=>du(f.k,H))},x=yield f.ji("BatchGetDocuments",v,b),T=new Map;x.forEach(H=>{const X=function(n,e){return"found"in e?function(t,r){St(!!r.found);const i=qo(t,r.found.name),a=Lr(r.found.updateTime),h=new Ii({mapValue:{fields:r.found.fields}});return $n.newFoundDocument(i,a,h)}(n,e):"missing"in e?function(t,r){St(!!r.missing),St(!!r.readTime);const i=qo(t,r.missing),a=Lr(r.readTime);return $n.newNoDocument(i,a)}(n,e):_t()}(f.k,H);T.set(X.key.toString(),X)});const z=[];return h.forEach(H=>{const X=T.get(H.toString());St(!!X),z.push(X)}),z}),function(a,h){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Bc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=pt.fromPath(i);e.mutations.push(new uu(a,e.precondition(a)))}),yield(r=(0,Ee.Z)(function*(i,a){const h=Je(i),f=fu(h.k)+"/documents",v={writes:a.map(b=>pu(h.k,b))};yield h.Bi("Commit",f,v)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _t();t=Ht.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ze(be.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Nr.updateTime(t):Nr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ht.min()))throw new ze(be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nr.updateTime(t)}return Nr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class eD{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new _(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,Ee.Z)(function*(){const t=new Xx(e.datastore),r=e.dc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.wc(a)}))}).catch(i=>{e.wc(i)})}))}dc(e){try{const t=this.updateFunction(e);return!x1(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!$p(t)}return!1}}class tD{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Jr.UNAUTHENTICATED,this.clientId=R8.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,Ee.Z)(function*(f){Ue("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Q3(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Lw(n,e){return dy.apply(this,arguments)}function dy(){return dy=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ee.Z)(function*(a){r.isEqual(a)||(yield p_(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),dy.apply(this,arguments)}function Rw(n,e){return fy.apply(this,arguments)}function fy(){return fy=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield py(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>{return(a=(0,Ee.Z)(function*(h,f){const v=Je(h);v.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const b=ms(v);v.Gr.add(3),yield Fe(v),b&&v.Jr.set("Unknown"),yield v.remoteSyncer.handleCredentialChange(f),v.Gr.delete(3),yield ie(v)}),function(h,f){return a.apply(this,arguments)})(e.remoteStore,i);var a}),n.onlineComponents=e}),fy.apply(this,arguments)}function py(n){return my.apply(this,arguments)}function my(){return my=(0,Ee.Z)(function*(n){return n.offlineComponents||(Ue("FirestoreClient","Using default OfflineComponentProvider"),yield Lw(n,new Iw)),n.offlineComponents}),my.apply(this,arguments)}function Nm(n){return gy.apply(this,arguments)}function gy(){return gy=(0,Ee.Z)(function*(n){return n.onlineComponents||(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield Rw(n,new hy)),n.onlineComponents}),gy.apply(this,arguments)}function Ow(n){return py(n).then(e=>e.persistence)}function vy(n){return py(n).then(e=>e.localStore)}function Pw(n){return Nm(n).then(e=>e.remoteStore)}function _y(n){return Nm(n).then(e=>e.syncEngine)}function th(n){return yy.apply(this,arguments)}function yy(){return yy=(0,Ee.Z)(function*(n){const e=yield Nm(n),t=e.eventManager;return t.onListen=Lx.bind(null,e.syncEngine),t.onUnlisten=Rx.bind(null,e.syncEngine),t}),yy.apply(this,arguments)}function zw(n,e,t={}){const r=new Xr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,a,h,f,v){const b=new km({next:T=>{a.enqueueAndForget(()=>P_(i,x));const z=T.docs.has(h);!z&&T.fromCache?v.reject(new ze(be.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&T.fromCache&&f&&"server"===f.source?v.reject(new ze(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(T)},error:T=>v.reject(T)}),x=new V_(Pc(h.path),b,{includeMetadataChanges:!0,wo:!0});return R_(i,x)}(yield th(n),n.asyncQueue,e,t,r)})),r.promise}function Fw(n,e,t={}){const r=new Xr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,a,h,f,v){const b=new km({next:T=>{a.enqueueAndForget(()=>P_(i,x)),T.fromCache&&"server"===f.source?v.reject(new ze(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(T)},error:T=>v.reject(T)}),x=new V_(h,b,{includeMetadataChanges:!0,wo:!0});return R_(i,x)}(yield th(n),n.asyncQueue,e,t,r)})),r.promise}class uD{constructor(e,t,r,i,a,h,f,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.useFetchStreams=v}}class nh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nh&&e.projectId===this.projectId&&e.database===this.database}}const Vw=new Map;function Cy(n,e,t){if(!t)throw new ze(be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Hw(n,e,t,r){if(!0===e&&!0===r)throw new ze(be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Bw(n){if(!pt.isDocumentKey(n))throw new ze(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Uw(n){if(pt.isDocumentKey(n))throw new ze(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Lm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":_t()}function vn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ze(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Lm(n);throw new ze(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function jw(n,e){if(e<=0)throw new ze(be.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Zw{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ze(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ze(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Hw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zf{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zw({}),this._settingsFrozen=!1,e instanceof nh?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new ze(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nh(i.options.projectId)}(e))}get app(){if(!this._app)throw new ze(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ze(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zw(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Av;switch(t.type){case"gapi":const r=t.client;return St(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Ap(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ze(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Vw.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),Vw.delete(e),t.terminate())}(this),Promise.resolve()}}class ar{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new T2(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class gs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gs(this.firestore,e,this._query)}}class T2 extends gs{constructor(e,t,r){super(e,t,Pc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new pt(e))}withConverter(e){return new T2(this.firestore,e,this._path)}}function qw(n,e,...t){if(n=(0,At.m9)(n),Cy("collection","path",e),n instanceof zf){const r=mn.fromString(e,...t);return Uw(r),new T2(n,null,r)}{if(!(n instanceof ar||n instanceof T2))throw new ze(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return Uw(r),new T2(n.firestore,null,r)}}function Rm(n,e,...t){if(n=(0,At.m9)(n),1===arguments.length&&(e=R8.A()),Cy("doc","path",e),n instanceof zf){const r=mn.fromString(e,...t);return Bw(r),new ar(n,null,new pt(r))}{if(!(n instanceof ar||n instanceof T2))throw new ze(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return Bw(r),new ar(n.firestore,n instanceof T2?n.converter:null,new pt(r))}}function Gw(n,e){return n=(0,At.m9)(n),e=(0,At.m9)(e),(n instanceof ar||n instanceof T2)&&(e instanceof ar||e instanceof T2)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Ww(n,e){return n=(0,At.m9)(n),e=(0,At.m9)(e),n instanceof gs&&e instanceof gs&&n.firestore===e.firestore&&au(n._query,e._query)&&n.converter===e.converter}class fD{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new _(this,"async_queue_retry"),this.bc=()=>{const t=d();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=d();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=d();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new Xr;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!g4(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,kr("INTERNAL UNHANDLED ERROR: ",function(a){let h=a.message||"";return a.stack&&(h=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),h}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=t,t}enqueueAfterDelay(e,t,r){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const i=L_.createAndSchedule(this,e,t,r,a=>this.Sc(a));return this.Tc.push(i),i}Pc(){this.Ec&&_t()}verifyOperationInProgress(){}Dc(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function by(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class pD{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Cr extends zf{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new fD,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||$w(this),this._firestoreClient.terminate()}}function gD(n=(0,Fo.getApp)()){return(0,Fo._getProvider)(n,"firestore").getImmediate()}function Ci(n){return n._firestoreClient||$w(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function $w(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new uD(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new tD(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Kw(n,e,t){const r=new Xr;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield Lw(n,t),yield Rw(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===be.FAILED_PRECONDITION||a.code===be.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function Yw(n){if(n._initialized||n._terminated)throw new ze(be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ze(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class I2{constructor(e){this._byteString=e}static fromBase64String(e){try{return new I2(Vr.fromBase64String(e))}catch(t){throw new ze(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new I2(Vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Du{constructor(e){this._methodName=e}}class Om{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ze(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ze(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}}const AD=/^__.*__$/;class SD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new k1(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hc(e,this.data,t,this.fieldTransforms)}}class Qw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new k1(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Jw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class Pm{constructor(e,t,r,i,a,h){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=h||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new Pm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Oc({path:r,Fc:!1});return i.Lc(e),i}Bc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Oc({path:r,Fc:!1});return i.xc(),i}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return Fm(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(Jw(this.$c)&&AD.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class xD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||p(e)}Qc(e,t,r,i=!1){return new Pm({$c:e,methodName:t,jc:r,path:yi.emptyPath(),Fc:!1,Kc:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Tu(n){const e=n._freezeSettings(),t=p(n._databaseId);return new xD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zm(n,e,t,r,i,a={}){const h=n.Qc(a.merge||a.mergeFields?2:0,e,t,i);Ay("Data must be an object, but it was:",h,r);const f=tM(r,h);let v,b;if(a.merge)v=new Nc(h.fieldMask),b=h.fieldTransforms;else if(a.mergeFields){const x=[];for(const T of a.mergeFields){const z=Sy(e,T,t);if(!h.contains(z))throw new ze(be.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);rM(x,z)||x.push(z)}v=new Nc(x),b=h.fieldTransforms.filter(T=>v.covers(T.field))}else v=null,b=h.fieldTransforms;return new SD(new Ii(f),v,b)}class Ff extends Du{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ff}}function Xw(n,e,t){return new Pm({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class wy extends Du{_toFieldTransform(e){return new Fc(e.path,new u4)}isEqual(e){return e instanceof wy}}class DD extends Du{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=Xw(this,e,!0),r=this.Wc.map(a=>Iu(a,t)),i=new zc(r);return new Fc(e.path,i)}isEqual(e){return this===e}}class TD extends Du{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=Xw(this,e,!0),r=this.Wc.map(a=>Iu(a,t)),i=new jo(r);return new Fc(e.path,i)}isEqual(e){return this===e}}class ID extends Du{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new M2(e.k,W8(e.k,this.Gc));return new Fc(e.path,t)}isEqual(e){return this===e}}function My(n,e,t,r){const i=n.Qc(1,e,t);Ay("Data must be an object, but it was:",i,r);const a=[],h=Ii.empty();kc(r,(v,b)=>{const x=xy(e,v,t);b=(0,At.m9)(b);const T=i.Bc(x);if(b instanceof Ff)a.push(x);else{const z=Iu(b,T);null!=z&&(a.push(x),h.set(x,z))}});const f=new Nc(a);return new Qw(h,f,i.fieldTransforms)}function Ey(n,e,t,r,i,a){const h=n.Qc(1,e,t),f=[Sy(e,r,t)],v=[i];if(a.length%2!=0)throw new ze(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<a.length;z+=2)f.push(Sy(e,a[z])),v.push(a[z+1]);const b=[],x=Ii.empty();for(let z=f.length-1;z>=0;--z)if(!rM(b,f[z])){const H=f[z];let X=v[z];X=(0,At.m9)(X);const ve=h.Bc(H);if(X instanceof Ff)b.push(H);else{const xe=Iu(X,ve);null!=xe&&(b.push(H),x.set(H,xe))}}const T=new Nc(b);return new Qw(x,T,h.fieldTransforms)}function eM(n,e,t,r=!1){return Iu(t,n.Qc(r?4:3,e))}function Iu(n,e){if(nM(n=(0,At.m9)(n)))return Ay("Unsupported field value:",e,n),tM(n,e);if(n instanceof Du)return function(t,r){if(!Jw(r.$c))throw r.qc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const h of t){let f=Iu(h,r.Uc(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,At.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return W8(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ei.fromDate(t);return{timestampValue:d4(r.k,i)}}if(t instanceof ei){const i=new ei(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:d4(r.k,i)}}if(t instanceof Om)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof I2)return{bytesValue:rf(r.k,t._byteString)};if(t instanceof ar){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.qc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:nm(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.qc(`Unsupported field value: ${Lm(t)}`)}(n,e)}function tM(n,e){const t={};return Tp(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kc(n,(r,i)=>{const a=Iu(i,e.Mc(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function nM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ei||n instanceof Om||n instanceof I2||n instanceof ar||n instanceof Du)}function Ay(n,e,t){if(!nM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Lm(t);throw e.qc("an object"===r?n+" a custom object":n+" "+r)}var r}function Sy(n,e,t){if((e=(0,At.m9)(e))instanceof Yc)return e._internalPath;if("string"==typeof e)return xy(n,e);throw Fm("Field path arguments must be of type string or ",n,!1,void 0,t)}const kD=new RegExp("[~\\*/\\[\\]]");function xy(n,e,t){if(e.search(kD)>=0)throw Fm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yc(...e.split("."))._internalPath}catch(r){throw Fm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fm(n,e,t,r,i){const a=r&&!r.isEmpty(),h=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let v="";return(a||h)&&(v+=" (found",a&&(v+=` in field ${r}`),h&&(v+=` in document ${i}`),v+=")"),new ze(be.INVALID_ARGUMENT,f+n+v)}function rM(n,e){return n.some(t=>t.isEqual(e))}class Vf{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ND(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ND extends Vf{data(){return super.data()}}function Vm(n,e){return"string"==typeof e?xy(n,e):e instanceof Yc?e._internalPath:e._delegate._internalPath}class ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qc extends Vf{constructor(e,t,r,i,a,h){super(e,t,r,i,h),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Vm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Hf extends Qc{data(e={}){return super.data(e)}}class x4{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ku(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Hf(this._firestore,this._userDataWriter,r.key,r,new ku(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ze(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new Hf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new ku(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>i||3!==h.type).map(h=>{const f=new Hf(r._firestore,r._userDataWriter,h.doc.key,h.doc,new ku(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,b=-1;return 0!==h.type&&(v=a.indexOf(h.doc.key),a=a.delete(h.doc.key)),1!==h.type&&(a=a.add(h.doc),b=a.indexOf(h.doc.key)),{type:LD(h.type),doc:f,oldIndex:v,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function LD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function iM(n,e){return n instanceof Qc&&e instanceof Qc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof x4&&e instanceof x4&&n._firestore===e._firestore&&Ww(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function sM(n){if(ou(n)&&0===n.explicitOrderBy.length)throw new ze(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bf{}function D4(n,...e){for(const t of e)n=t._apply(n);return n}class RD extends Bf{constructor(e,t,r){super(),this.zc=e,this.Hc=t,this.Jc=r,this.type="where"}_apply(e){const t=Tu(e.firestore),r=function(i,a,h,f,v,b,x){let T;if(v.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new ze(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){hM(x,b);const H=[];for(const X of x)H.push(uM(f,i,X));T={arrayValue:{values:H}}}else T=uM(f,i,x)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||hM(x,b),T=eM(h,"where",x,"in"===b||"not-in"===b);const z=ki.create(v,b,T);return function(H,X){if(X.V()){const xe=B8(H);if(null!==xe&&!xe.isEqual(X.field))throw new ze(be.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${xe.toString()}' and '${X.field.toString()}'`);const je=H8(H);null!==je&&dM(0,X.field,je)}const ve=function(xe,je){for(const ct of xe.filters)if(je.indexOf(ct.op)>=0)return ct.op;return null}(H,function(xe){switch(xe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(X.op));if(null!==ve)throw new ze(be.INVALID_ARGUMENT,ve===X.op?`Invalid query. You cannot use more than one '${X.op.toString()}' filter.`:`Invalid query. You cannot use '${X.op.toString()}' filters with '${ve.toString()}' filters.`)}(i,z),z}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new gs(e.firestore,e.converter,function(i,a){const h=i.filters.concat([a]);return new Oa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),h,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class PD extends Bf{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new ze(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ze(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new su(i,a);return function(f,v){if(null===H8(f)){const b=B8(f);null!==b&&dM(0,b,v.field)}}(r,h),h}(e._query,this.zc,this.Yc);return new gs(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Oa(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class oM extends Bf{constructor(e,t,r){super(),this.type=e,this.Xc=t,this.Zc=r}_apply(e){return new gs(e.firestore,e.converter,zp(e._query,this.Xc,this.Zc))}}class aM extends Bf{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=lM(e,this.type,this.ta,this.ea);return new gs(e.firestore,e.converter,(i=t,new Oa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class cM extends Bf{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=lM(e,this.type,this.ta,this.ea);return new gs(e.firestore,e.converter,(i=t,new Oa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function lM(n,e,t,r){if(t[0]=(0,At.m9)(t[0]),t[0]instanceof Vf)return function(i,a,h,f,v){if(!f)throw new ze(be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const b=[];for(const x of l4(i))if(x.field.isKeyField())b.push(D1(a,f.key));else{const T=f.data.field(x.field);if(X0(T))throw new ze(be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const z=x.field.canonicalString();throw new ze(be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${z}' (used as the orderBy) does not exist.`)}b.push(T)}return new a4(b,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Tu(n.firestore);return function(a,h,f,v,b,x){const T=a.explicitOrderBy;if(b.length>T.length)throw new ze(be.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const z=[];for(let H=0;H<b.length;H++){const X=b[H];if(T[H].field.isKeyField()){if("string"!=typeof X)throw new ze(be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof X}`);if(!U8(a)&&-1!==X.indexOf("/"))throw new ze(be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${X}' contains a slash.`);const ve=a.path.child(mn.fromString(X));if(!pt.isDocumentKey(ve))throw new ze(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${ve}' is not because it contains an odd number of segments.`);const xe=new pt(ve);z.push(D1(h,xe))}else{const ve=eM(f,v,X);z.push(ve)}}return new a4(z,x)}(n._query,n.firestore._databaseId,i,e,t,r)}}function uM(n,e,t){if("string"==typeof(t=(0,At.m9)(t))){if(""===t)throw new ze(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U8(e)&&-1!==t.indexOf("/"))throw new ze(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(mn.fromString(t));if(!pt.isDocumentKey(r))throw new ze(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return D1(n,new pt(r))}if(t instanceof ar)return D1(n,t._key);throw new ze(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lm(t)}.`)}function hM(n,e){if(!Array.isArray(n)||0===n.length)throw new ze(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new ze(be.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function dM(n,e,t){if(!t.isEqual(e))throw new ze(be.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Dy{convertValue(e,t="none"){switch(b2(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _t()}}convertObject(e,t){const r={};return kc(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new Om(dr(e.latitude),dr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ip(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const t=La(e);return new ei(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=mn.fromString(e);St(e_(r));const i=new nh(r.get(1),r.get(3)),a=new pt(r.popFirst(5));return i.isEqual(t)||kr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function Hm(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ZD extends Dy{constructor(e){super(),this.firestore=e}convertBytes(e){return new I2(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}class fM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Tu(e)}set(e,t,r){this._verifyNotCommitted();const i=T4(e,this._firestore),a=Hm(i.converter,t,r),h=zm(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(h.toMutation(i._key,Nr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=T4(e,this._firestore);let h;return h="string"==typeof(t=(0,At.m9)(t))||t instanceof Yc?Ey(this._dataReader,"WriteBatch.update",a._key,t,r,i):My(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(h.toMutation(a._key,Nr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=T4(e,this._firestore);return this._mutations=this._mutations.concat(new Bc(t._key,Nr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ze(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function T4(n,e){if((n=(0,At.m9)(n)).firestore!==e)throw new ze(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Nu extends Dy{constructor(e){super(),this.firestore=e}convertBytes(e){return new I2(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}function pM(n,e,t){n=vn(n,ar);const r=vn(n.firestore,Cr),i=Hm(n.converter,e,t);return rh(r,[zm(Tu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Nr.none())])}function mM(n,e,t,...r){n=vn(n,ar);const i=vn(n.firestore,Cr),a=Tu(i);let h;return h="string"==typeof(e=(0,At.m9)(e))||e instanceof Yc?Ey(a,"updateDoc",n._key,e,t,r):My(a,"updateDoc",n._key,e),rh(i,[h.toMutation(n._key,Nr.exists(!0))])}function gM(n,...e){var t,r,i;n=(0,At.m9)(n);let a={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||by(e[h])||(a=e[h],h++);const f={includeMetadataChanges:a.includeMetadataChanges};if(by(e[h])){const T=e[h];e[h]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[h+1]=null===(r=T.error)||void 0===r?void 0:r.bind(T),e[h+2]=null===(i=T.complete)||void 0===i?void 0:i.bind(T)}let v,b,x;if(n instanceof ar)b=vn(n.firestore,Cr),x=Pc(n._key.path),v={next:T=>{e[h]&&e[h](Ty(b,n,T))},error:e[h+1],complete:e[h+2]};else{const T=vn(n,gs);b=vn(T.firestore,Cr),x=T._query;const z=new Nu(b);v={next:H=>{e[h]&&e[h](new x4(b,z,T,H))},error:e[h+1],complete:e[h+2]},sM(n._query)}return function(T,z,H,X){const ve=new km(X),xe=new V_(z,ve,H);return T.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return R_(yield th(T),xe)})),()=>{ve.nc(),T.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return P_(yield th(T),xe)}))}}(Ci(b),x,f,v)}function rh(n,e){return function(t,r){const i=new Xr;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(n,e,t){return Z_.apply(this,arguments)}(yield _y(t),r,i)})),i.promise}(Ci(n),e)}function Ty(n,e,t){const r=t.docs.get(e._key),i=new Nu(n);return new Qc(n,i,e._key,r,new ku(t.hasPendingWrites,t.fromCache),e.converter)}class eT extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Tu(e)}get(e){const t=T4(e,this._firestore),r=new ZD(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return _t();const a=i[0];if(a.isFoundDocument())return new Vf(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Vf(this._firestore,r,t._key,null,t.converter);throw _t()})}set(e,t,r){const i=T4(e,this._firestore),a=Hm(i.converter,t,r),h=zm(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,h),this}update(e,t,r,...i){const a=T4(e,this._firestore);let h;return h="string"==typeof(t=(0,At.m9)(t))||t instanceof Yc?Ey(this._dataReader,"Transaction.update",a._key,t,r,i):My(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,h),this}delete(e){const t=T4(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=T4(e,this._firestore),r=new Nu(this._firestore);return super.get(e).then(i=>new Qc(this._firestore,r,t._key,i._document,new ku(!1,!1),t.converter))}}function Iy(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ze("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function vM(){if("undefined"==typeof Uint8Array)throw new ze("unimplemented","Uint8Arrays are not available in this environment.")}function _M(){if("undefined"==typeof atob)throw new ze("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Na=Fo.SDK_VERSION,(0,Fo._registerComponent)(new Ts.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new Cr(i,new Sv(t.getProvider("auth-internal")),new xv(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,Fo.registerVersion)(Mp,"3.4.3",n),(0,Fo.registerVersion)(Mp,"3.4.3","esm2017")}();class Uf{constructor(e){this._delegate=e}static fromBase64String(e){return _M(),new Uf(I2.fromBase64String(e))}static fromUint8Array(e){return vM(),new Uf(I2.fromUint8Array(e))}toBase64(){return _M(),this._delegate.toBase64()}toUint8Array(){return vM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ky(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class uT{enableIndexedDbPersistence(e,t){return function(n,e){Yw(n=vn(n,Cr));const t=Ci(n),r=n._freezeSettings(),i=new hy;return Kw(t,i,new kw(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){Yw(n=vn(n,Cr));const e=Ci(n),t=n._freezeSettings(),r=new hy;return Kw(e,r,new Qx(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new ze(be.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Xr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(r){if(!Go.Pt())return Promise.resolve();const i=r+"main";yield Go.delete(i)}),function(r){return t.apply(this,arguments)})(wu(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class yM{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof nh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&t4("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var i;const a=(n=vn(n,zf))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&t4("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,f;if("string"==typeof r.mockUserToken)h=r.mockUserToken,f=Jr.MOCK_USER;else{h=(0,At.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ze(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Jr(v)}n._authCredentials=new L8(new N8(h,f))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield Ow(n),t=yield Pw(n);return e.setNetworkEnabled(!0),function(r){const i=Je(r);return i.Gr.delete(0),ie(i)}(t)}))}(Ci(n=vn(n,Cr)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield Ow(n),t=yield Pw(n);return e.setNetworkEnabled(!1),(r=(0,Ee.Z)(function*(i){const a=Je(i);a.Gr.add(0),yield Fe(a),a.Jr.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Ci(n=vn(n,Cr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Hw("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Xr;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(n,e){return K_.apply(this,arguments)}(yield _y(e),t)})),t.promise}(Ci(n=vn(n,Cr)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new km(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield th(n),i=t,Je(r).io.add(i),void i.next();var r,i})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield th(n),i=t,void Je(r).io.delete(i);var r,i}))}}(Ci(n=vn(n,Cr)),by(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ze("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ih(this,qw(this._delegate,e))}catch(t){throw Ls(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ua(this,Rm(this._delegate,e))}catch(t){throw Ls(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Rs(this,function(n,e){if(n=vn(n,zf),Cy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ze(be.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new gs(n,null,(t=e,new Oa(mn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ls(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Xr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const r=yield(i=n,Nm(i).then(a=>a.datastore));var i;new eD(n.asyncQueue,r,e,t).run()})),t.promise}(Ci(n=vn(n,Cr)),t=>e(new eT(n,t)))}(this._delegate,t=>e(new CM(this,t)))}batch(){return Ci(this._delegate),new bM(new fM(this._delegate,e=>rh(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Ci(n=vn(n,Cr)),r=new pD;return function(n,e,t,r){const i=function(a,h){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,v=function(v,b){if(v instanceof Uint8Array)return Nw(v,b);if(v instanceof ArrayBuffer)return Nw(new Uint8Array(v),b);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new Jx(v,h);var v}(t,p(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function(n,e,t){const r=Je(n);var i;(i=(0,Ee.Z)(function*(a,h,f){try{const v=yield h.getMetadata();if(yield function(z,H){const X=Je(z),ve=Lr(H.createTime);return X.persistence.runTransaction("hasNewerBundle","readonly",xe=>X.Ye.getBundleMetadata(xe,H.id)).then(xe=>!!xe&&xe.createTime.compareTo(ve)>=0)}(a.localStore,v))return yield h.close(),void f._completeWith((z=v,{taskState:"Success",documentsLoaded:z.totalDocuments,bytesLoaded:z.totalBytes,totalDocuments:z.totalDocuments,totalBytes:z.totalBytes}));f._updateProgress(bw(v));const b=new Tx(v,a.localStore,h.k);let x=yield h.Ho();for(;x;){const z=yield b.yo(x);z&&f._updateProgress(z),x=yield h.Ho()}const T=yield b.complete();yield Kc(a,T.In,void 0),yield function(z,H){const X=Je(z);return X.persistence.runTransaction("Save bundle","readwrite",ve=>X.Ye.saveBundleMetadata(ve,H))}(a.localStore,v),f._completeWith(T.progress)}catch(v){t4("SyncEngine",`Loading bundle failed with ${v}`),f._failWith(v)}var z}),function(a,h,f){return i.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield _y(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,r){const i=Je(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ye.getNamedQuery(a,r))}(yield vy(n),e)}))}(Ci(n=vn(n,Cr)),e).then(t=>t?new gs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Rs(this,t):null)}}class Bm extends Dy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uf(new I2(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ua.forKey(t,this.firestore,null)}}class CM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Bm(e)}get(e){const t=Ru(e);return this._delegate.get(t).then(r=>new jf(this._firestore,new Qc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Ru(e);return r?(Iy("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Ru(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Ru(e);return this._delegate.delete(t),this}}class bM{constructor(e){this._delegate=e}set(e,t,r){const i=Ru(e);return r?(Iy("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Ru(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Ru(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Lu{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Hf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Zf(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Lu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Lu(e,new Bm(e),t),i.set(t,a)),a}}Lu.INSTANCES=new WeakMap;class Ua{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Bm(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ze("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ua(t,new ar(t._delegate,r,new pt(e)))}static forKey(e,t,r){return new Ua(t,new ar(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ih(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ih(this.firestore,qw(this._delegate,e))}catch(t){throw Ls(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,At.m9)(e))instanceof ar&&Gw(this._delegate,e)}set(e,t){t=Iy("DocumentReference.set",t);try{return t?pM(this._delegate,e,t):pM(this._delegate,e)}catch(r){throw Ls(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?mM(this._delegate,e):mM(this._delegate,e,t,...r)}catch(i){throw Ls(i,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return rh(vn(n.firestore,Cr),[new Bc(n._key,Nr.none())])}(this._delegate)}onSnapshot(...e){const t=wM(e),r=MM(e,i=>new jf(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return gM(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=vn(n,ar);const e=vn(n.firestore,Cr),t=Ci(e),r=new Nu(e);return function(n,e){const t=new Xr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(i,a,h){try{const f=yield function(v,b){const x=Je(v);return x.persistence.runTransaction("read document","readonly",T=>x.Wn.Rn(T,b))}(i,a);f.isFoundDocument()?h.resolve(f):f.isNoDocument()?h.resolve(null):h.reject(new ze(be.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const v=Q3(f,`Failed to get document '${a} from cache`);h.reject(v)}}),function(i,a,h){return r.apply(this,arguments)})(yield vy(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Qc(e,r,n._key,i,new ku(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=vn(n,ar);const e=vn(n.firestore,Cr);return zw(Ci(e),n._key,{source:"server"}).then(t=>Ty(e,n,t))}(this._delegate):function(n){n=vn(n,ar);const e=vn(n.firestore,Cr);return zw(Ci(e),n._key).then(t=>Ty(e,n,t))}(this._delegate),t.then(r=>new jf(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ua(this.firestore,this._delegate.withConverter(e?Lu.getInstance(this.firestore,e):null))}}function Ls(n,e,t){return n.message=n.message.replace(e,t),n}function wM(n){for(const e of n)if("object"==typeof e&&!ky(e))return e;return{}}function MM(n,e){var t,r;let i;return i=ky(n[0])?n[0]:ky(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class jf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ua(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return iM(this._delegate,e._delegate)}}class Zf extends jf{data(e){const t=this._delegate.data(e);return function(n,e){n||_t()}(void 0!==t),t}}class Rs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Bm(e)}where(e,t,r){try{return new Rs(this.firestore,D4(this._delegate,function(n,e,t){const r=e,i=Vm("where",n);return new RD(i,r,t)}(e,t,r)))}catch(i){throw Ls(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Rs(this.firestore,D4(this._delegate,function(n,e="asc"){const t=e,r=Vm("orderBy",n);return new PD(r,t)}(e,t)))}catch(r){throw Ls(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Rs(this.firestore,D4(this._delegate,function(n){return jw("limit",n),new oM("limit",n,"F")}(e)))}catch(t){throw Ls(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Rs(this.firestore,D4(this._delegate,function(n){return jw("limitToLast",n),new oM("limitToLast",n,"L")}(e)))}catch(t){throw Ls(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Rs(this.firestore,D4(this._delegate,function(...n){return new aM("startAt",n,!0)}(...e)))}catch(t){throw Ls(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Rs(this.firestore,D4(this._delegate,function(...n){return new aM("startAfter",n,!1)}(...e)))}catch(t){throw Ls(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Rs(this.firestore,D4(this._delegate,function(...n){return new cM("endBefore",n,!0)}(...e)))}catch(t){throw Ls(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Rs(this.firestore,D4(this._delegate,function(...n){return new cM("endAt",n,!1)}(...e)))}catch(t){throw Ls(t,"endAt()","Query.endAt()")}}isEqual(e){return Ww(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=vn(n,gs);const e=vn(n.firestore,Cr),t=Ci(e),r=new Nu(e);return function(n,e){const t=new Xr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(i,a,h){try{const f=yield Mu(i,a,!0),v=new Ew(a,f.zn),b=v.Po(f.documents),x=v.applyChanges(b,!1);h.resolve(x.snapshot)}catch(f){const v=Q3(f,`Failed to execute query '${a} against cache`);h.reject(v)}}),function(i,a,h){return r.apply(this,arguments)})(yield vy(n),e,t);var r})),t.promise}(t,n._query).then(i=>new x4(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=vn(n,gs);const e=vn(n.firestore,Cr),t=Ci(e),r=new Nu(e);return Fw(t,n._query,{source:"server"}).then(i=>new x4(e,r,n,i))}(this._delegate):function(n){n=vn(n,gs);const e=vn(n.firestore,Cr),t=Ci(e),r=new Nu(e);return sM(n._query),Fw(t,n._query).then(i=>new x4(e,r,n,i))}(this._delegate),t.then(r=>new Ny(this.firestore,new x4(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=wM(e),r=MM(e,i=>new Ny(this.firestore,new x4(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return gM(this._delegate,t,r)}withConverter(e){return new Rs(this.firestore,this._delegate.withConverter(e?Lu.getInstance(this.firestore,e):null))}}class dT{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Zf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ny{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Rs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Zf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new dT(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Zf(this._firestore,r))})}isEqual(e){return iM(this._delegate,e._delegate)}}class ih extends Rs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ua(this.firestore,e):null}doc(e){try{return new Ua(this.firestore,void 0===e?Rm(this._delegate):Rm(this._delegate,e))}catch(t){throw Ls(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=vn(n.firestore,Cr),r=Rm(n),i=Hm(n.converter,e);return rh(t,[zm(Tu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Nr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ua(this.firestore,t))}isEqual(e){return Gw(this._delegate,e._delegate)}withConverter(e){return new ih(this.firestore,this._delegate.withConverter(e?Lu.getInstance(this.firestore,e):null))}}function Ru(n){return vn(n,ar)}class Ly{constructor(...e){this._delegate=new Yc(...e)}static documentId(){return new Ly(yi.keyField().canonicalString())}isEqual(e){return(e=(0,At.m9)(e))instanceof Yc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ou{constructor(e){this._delegate=e}static serverTimestamp(){const e=new wy("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Ou(e)}static delete(){const e=new Ff("deleteField");return e._methodName="FieldValue.delete",new Ou(e)}static arrayUnion(...e){const t=function(...n){return new DD("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ou(t)}static arrayRemove(...e){const t=function(...n){return new TD("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ou(t)}static increment(e){const t=function(n){return new ID("increment",n)}(e);return t._methodName="FieldValue.increment",new Ou(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const fT={Firestore:yM,GeoPoint:Om,Timestamp:ei,Blob:Uf,Transaction:CM,WriteBatch:bM,DocumentReference:Ua,DocumentSnapshot:jf,Query:Rs,QueryDocumentSnapshot:Zf,QuerySnapshot:Ny,CollectionReference:ih,FieldPath:Ly,FieldValue:Ou,setLogLevel:function(n){!function(n){C2.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new Ts.wA("firestore-compat",t=>((e,t)=>new yM(e,t,new uT))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},fT)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.12")}(Yg.Z);var EM=R(6451),Um=R(5363),gT=R(6063);class vT extends pn.x{constructor(e=1/0,t=1/0,r=gT.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:h}=this;t||(r.push(e),!i&&r.push(a.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let h=0;h<a.length&&!e.closed;h+=r?1:2)e.next(a[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const h=t.now();let f=0;for(let v=1;v<r.length&&r[v]<=h;v+=2)f=v;f&&r.splice(0,f+1)}}}var AM=R(3099);function SM(n,e,t){var r,i;let a,h=!1;return n&&"object"==typeof n?(a=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,h=!!n.refCount,t=n.scheduler):a=null!=n?n:1/0,(0,AM.B)({connector:()=>new vT(a,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}function xM(n,e){return(0,Ys.m)(e)?_r(()=>n,e):_r(()=>n)}var Ry=R(9468),Pu=R(5867);class sh{constructor(e){return e}}class DM{constructor(){return(0,Pu.C6)()}}const Oy=new c.OlP("angularfire2._apps"),yT={provide:sh,useFactory:function(n){return n&&1===n.length?n[0]:new sh((0,Pu.Mq)())},deps:[[new c.FiY,Oy]]},CT={provide:DM,deps:[[new c.FiY,Oy]]};function bT(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new sh(r)}}let wT=(()=>{class n{constructor(t){(0,Pu.KN)("angularfire",Un.q4.full,"core"),(0,Pu.KN)("angularfire",Un.q4.full,"app"),(0,Pu.KN)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[yT,CT]}),n})();function MT(n,...e){return{ngModule:wT,providers:[{provide:Oy,useFactory:bT(n),multi:!0,deps:[c.R0b,c.zs3,Un.HU,...e]}]}}const ET=(0,Un.u3)(Pu.ZF,!0),TM=new Map,AT={activated:!1,tokenObservers:[]},ST={initialized:!1,enabled:!1};function Li(n){return TM.get(n)||AT}function L1(n,e){TM.set(n,e)}function jm(){return ST}class kT{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new At.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new At.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Os=new At.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kM(n){if(!Li(n).activated)throw Os.create("use-before-activation",{appName:n.name})}function Fy(n,e){return Vy.apply(this,arguments)}function Vy(){return Vy=(0,Ee.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const a={method:"POST",body:JSON.stringify(e),headers:r};let h,f;try{h=yield fetch(n,a)}catch(T){throw Os.create("fetch-network-error",{originalErrorMessage:T.message})}if(200!==h.status)throw Os.create("fetch-status-error",{httpStatus:h.status});try{f=yield h.json()}catch(T){throw Os.create("fetch-parse-error",{originalErrorMessage:T.message})}const v=f.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Os.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(v[1]),x=Date.now();return{token:f.attestationToken,expireTimeMillis:x+b,issuedAtTimeMillis:x}}),Vy.apply(this,arguments)}function zT(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const qf="firebase-app-check-store";let Gm=null;function LM(){return Gm||(Gm=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Os.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(qf,{keyPath:"compositeKey"})}}catch(t){e(Os.create("storage-open",{originalErrorMessage:t.message}))}}),Gm)}function Hy(){return Hy=(0,Ee.Z)(function*(n,e){const r=(yield LM()).transaction(qf,"readwrite"),a=r.objectStore(qf).put({compositeKey:n,value:e});return new Promise((h,f)=>{a.onsuccess=v=>{h()},r.onerror=v=>{var b;f(Os.create("storage-set",{originalErrorMessage:null===(b=v.target.error)||void 0===b?void 0:b.message}))}})}),Hy.apply(this,arguments)}const Gf=new to.Yd("@firebase/app-check");function zM(n,e){return(0,At.hl)()?function(n,e){return function(n,e){return Hy.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Gf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function FM(){return jm().enabled}function VM(){return Zy.apply(this,arguments)}function Zy(){return Zy=(0,Ee.Z)(function*(){const n=jm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Zy.apply(this,arguments)}const WT={error:"UNKNOWN_ERROR"};function $T(n){return At.US.encodeString(JSON.stringify(n),!1)}function Wm(n){return qy.apply(this,arguments)}function qy(){return qy=(0,Ee.Z)(function*(n,e=!1){const t=n.app;kM(t);const r=Li(t);let a,i=r.token;if(!i){const v=yield r.cachedTokenPromise;v&&$m(v)&&(i=v)}if(!e&&i&&$m(i))return{token:i.token};let f,h=!1;if(FM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Fy(zT(t,yield VM()),n.platformLoggerProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),h=!0);const v=yield r.exchangeTokenPromise;return yield zM(t,v),L1(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),h=!0),i=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?Gf.warn(v.message):Gf.error(v),a=v}return i?(f={token:i.token},L1(t,Object.assign(Object.assign({},r),{token:i})),yield zM(t,i)):f=YT(a),h&&BM(t,f),f}),qy.apply(this,arguments)}function Wy(n,e){const t=Li(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),L1(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function HM(n){const{app:e}=n,t=Li(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new kT((0,Ee.Z)(function*(){let r;if(r=Li(e).token?yield Wm(n,!0):yield Wm(n),r.error)throw r.error}),()=>!0,()=>{const t=Li(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),L1(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function BM(n,e){const t=Li(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function $m(n){return n.expireTimeMillis-Date.now()>0}function YT(n){return{token:$T(WT),error:n}}class QT{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Li(this.app);for(const t of e)Wy(this.app,t.next);return Promise.resolve()}}const KM="app-check-internal";(0,Fo._registerComponent)(new Ts.wA("app-check",n=>function(n,e){return new QT(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(KM).initialize()})),(0,Fo._registerComponent)(new Ts.wA(KM,n=>function(n){return{getToken:e=>Wm(n,e),addTokenListener:e=>function(n,e,t,r){const{app:i}=n,a=Li(i),h={next:t,error:r,type:e};if(L1(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,h]})),a.token&&$m(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),HM(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>HM(n))}(n,"INTERNAL",e),removeTokenListener:e=>Wy(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Fo.registerVersion)("@firebase/app-check","0.5.3");class Ym{constructor(){return(0,Un.vb)("app-check")}}"undefined"!=typeof window&&window;var gI=R(127);const QM=new c.OlP("angularfire2.auth.use-emulator"),JM=new c.OlP("angularfire2.auth.settings"),XM=new c.OlP("angularfire2.auth.tenant-id"),eE=new c.OlP("angularfire2.auth.langugage-code"),tE=new c.OlP("angularfire2.auth.use-device-language"),nE=new c.OlP("angularfire.auth.persistence"),rE=(n,e,t,r,i,a,h,f)=>(0,zo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,a&&v.useDeviceLanguage(),h)for(const[b,x]of Object.entries(h))v.settings[b]=x;return f&&v.setPersistence(f),v},[t,r,i,a,h,f]);let Jy=(()=>{class n{constructor(t,r,i,a,h,f,v,b,x,T,z,H){const X=new pn.x,ve=tt(void 0).pipe((0,Um.Q)(h.outsideAngular),_r(()=>a.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,5881)))),(0,wt.U)(()=>(0,zo.on)(t,a,r)),(0,wt.U)(xe=>rE(xe,a,f,b,x,T,v,z)),SM({bufferSize:1,refCount:!1}));if(Zr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=tt(null);else{ve.pipe(va()).subscribe();const je=ve.pipe(_r(ot=>ot.getRedirectResult().then(tn=>tn,()=>null)),Un.iC,SM({bufferSize:1,refCount:!1})),ct=ve.pipe(_r(ot=>new jn.y(tn=>({unsubscribe:a.runOutsideAngular(()=>ot.onAuthStateChanged(Dn=>tn.next(Dn),Dn=>tn.error(Dn),()=>tn.complete()))})))),Nt=ve.pipe(_r(ot=>new jn.y(tn=>({unsubscribe:a.runOutsideAngular(()=>ot.onIdTokenChanged(Dn=>tn.next(Dn),Dn=>tn.error(Dn),()=>tn.complete()))}))));this.authState=je.pipe(xM(ct),(0,Ry.R)(h.outsideAngular),(0,Um.Q)(h.insideAngular)),this.user=je.pipe(xM(Nt),(0,Ry.R)(h.outsideAngular),(0,Um.Q)(h.insideAngular)),this.idToken=this.user.pipe(_r(ot=>ot?(0,bn.D)(ot.getIdToken()):tt(null))),this.idTokenResult=this.user.pipe(_r(ot=>ot?(0,bn.D)(ot.getIdTokenResult()):tt(null))),this.credential=(0,EM.T)(je,X,this.authState.pipe(Zn(ot=>!ot))).pipe((0,wt.U)(ot=>(null==ot?void 0:ot.user)?ot:null),(0,Ry.R)(h.outsideAngular),(0,Um.Q)(h.insideAngular))}return(0,zo.pX)(this,ve,a,{spy:{apply:(xe,je,ct)=>{(xe.startsWith("signIn")||xe.startsWith("createUser"))&&ct.then(Nt=>X.next(Nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zo.Dh),c.LFG(zo.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Un.HU),c.LFG(QM,8),c.LFG(JM,8),c.LFG(XM,8),c.LFG(eE,8),c.LFG(tE,8),c.LFG(nE,8),c.LFG(Ym,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function iE(n,e){return function(n,e=Bd.z){return new jn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function Xy(n,e){return iE(n,e).pipe((0,wt.U)(t=>({payload:t,type:"query"})))}function Qm(n,e){return Xy(n,e).pipe(Vi(void 0),Ud(),(0,wt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,f)=>{const v=i.find(x=>x.doc.ref.isEqual(h.ref)),b=null==t?void 0:t.payload.docs.find(x=>x.ref.isEqual(h.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(h.metadata)||!v&&b&&JSON.stringify(b.metadata)===JSON.stringify(h.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:h}})}),a}))}function sE(n,e,t){return Qm(n,t).pipe(as((r,i)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return eC(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return eC(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return eC(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),E0(),(0,wt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function eC(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function oE(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class aE{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Qm(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,wt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Vi(void 0),Ud(),Zn(([r,i])=>i.length>0||!r),(0,wt.U)(([r,i])=>i),Un.iC)}auditTrail(e){return this.stateChanges(e).pipe(as((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=oE(e);return sE(this.query,t,this.afs.schedulers.outsideAngular).pipe(Un.iC)}valueChanges(e={}){return Xy(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Un.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(Un.iC)}add(e){return this.ref.add(e)}doc(e){return new cE(this.ref.doc(e),this.afs)}}class cE{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=lE(r,t);return new aE(i,a,this.afs)}snapshotChanges(){return function(n,e){return iE(n,e).pipe(Vi(void 0),Ud(),(0,wt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Un.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,wt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,bn.D)(this.ref.get(e)).pipe(Un.iC)}}class wI{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Qm(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Zn(t=>t.length>0),Un.iC):Qm(this.query,this.afs.schedulers.outsideAngular).pipe(Un.iC)}auditTrail(e){return this.stateChanges(e).pipe(as((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=oE(e);return sE(this.query,t,this.afs.schedulers.outsideAngular).pipe(Un.iC)}valueChanges(e={}){return Xy(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Un.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(Un.iC)}}const MI=new c.OlP("angularfire2.enableFirestorePersistence"),EI=new c.OlP("angularfire2.firestore.persistenceSettings"),AI=new c.OlP("angularfire2.firestore.settings"),SI=new c.OlP("angularfire2.firestore.use-emulator");function lE(n,e=(t=>t)){return{query:e(n),ref:n}}let xI=(()=>{class n{constructor(t,r,i,a,h,f,v,b,x,T,z,H,X,ve,xe,je,ct){this.schedulers=v;const Nt=(0,zo.on)(t,f,r),ot=x;T&&rE(Nt,f,z,X,ve,xe,H,je),[this.firestore,this.persistenceEnabled$]=(0,zo.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const tn=f.runOutsideAngular(()=>Nt.firestore());if(a&&tn.settings(a),ot&&tn.useEmulator(...ot),i&&!Zr(h)){const Dn=()=>{try{return(0,bn.D)(tn.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(br){return"undefined"!=typeof console&&console.warn(br),tt(!1)}};return[tn,f.runOutsideAngular(Dn)]}return[tn,tt(!1)]},[a,ot,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:h}=lE(i,r),f=this.schedulers.ngZone.run(()=>a);return new aE(f,h,this)}collectionGroup(t,r){const i=r||(h=>h),a=this.firestore.collectionGroup(t);return new wI(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new cE(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zo.Dh),c.LFG(zo.xv,8),c.LFG(MI,8),c.LFG(AI,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Un.HU),c.LFG(EI,8),c.LFG(SI,8),c.LFG(Jy,8),c.LFG(QM,8),c.LFG(JM,8),c.LFG(XM,8),c.LFG(eE,8),c.LFG(tE,8),c.LFG(nE,8),c.LFG(Ym,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),I4=(()=>{class n{constructor(t){this.database=t}crear(t,r){return this.database.collection(t).add(r)}obtenerPorId(t,r){return this.database.collection(t).doc(r).snapshotChanges()}obtenerTodos(t){return this.database.collection(t).snapshotChanges()}actualizar(t,r,i){return this.database.collection(t).doc(i).set(r)}eliminar(t,r){return this.database.collection(t).doc(r).delete()}createWithCustomId(t,r,i){this.database.collection(t).doc(r).set(i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(xI))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const DI=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,c.f3M)(se)}}),II=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let nC,tC=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?II.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(DI,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();try{nC="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){nC=!1}let $f,zu,iC,R1=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return n===Qa}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!nC)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Jm(n){return function(){if(null==$f&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>$f=!0}))}finally{$f=$f||!1}return $f}()?n:!!n.capture}function LI(){if(null==zu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return zu=!1,zu;if("scrollBehavior"in document.documentElement.style)zu=!0;else{const n=Element.prototype.scrollTo;zu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return zu}function sC(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Fu(n){return n.composedPath?n.composedPath()[0]:n.target}function oC(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var ZI=R(5032);function k4(n){return(0,xr.e)((e,t)=>{(0,Gr.Xf)(n).subscribe(new xn.Q(t,()=>t.complete(),ZI.Z)),!t.closed&&e.subscribe(t)})}function dE(n){return null!=n&&"false"!=`${n}`}function fE(n){return Array.isArray(n)?n:[n]}function ii(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ah(n){return n instanceof c.SBq?n.nativeElement:n}let gE=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(e){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===_E(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),a=_E(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==a:"video"===i?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||vE(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(R1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vE(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function _E(n){if(!vE(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class ik{constructor(e,t,r,i,a=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,fi.q)(1)).subscribe(e)}}let sk=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new ik(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gE),c.LFG(c.R0b),c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yE(n){return 0===n.offsetX&&0===n.offsetY}function CE(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const ok=new c.OlP("cdk-input-modality-detector-options"),ak={ignoreKeys:[18,17,224,91,16]},ch=Jm({passive:!0,capture:!0});let ck=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new di(null),this._lastTouchMs=0,this._onKeydown=h=>{var f,v;(null===(v=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===v?void 0:v.some(b=>b===h.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Fu(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(yE(h)?"keyboard":"mouse"),this._mostRecentTarget=Fu(h))},this._onTouchstart=h=>{CE(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Fu(h))},this._options=Object.assign(Object.assign({},ak),a),this.modalityDetected=this._modality.pipe(Zn((e,t)=>1<=t)),this.modalityChanged=this.modalityDetected.pipe(E0()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,ch),i.addEventListener("mousedown",this._onMousedown,ch),i.addEventListener("touchstart",this._onTouchstart,ch)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ch),document.removeEventListener("mousedown",this._onMousedown,ch),document.removeEventListener("touchstart",this._onTouchstart,ch))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(R1),c.LFG(c.R0b),c.LFG(se),c.LFG(ok,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uk=new c.OlP("cdk-focus-monitor-default-options"),e9=Jm({passive:!0,capture:!0});let wE=(()=>{class n{constructor(t,r,i,a,h){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new pn.x,this._rootNodeFocusAndBlurListener=f=>{const v=Fu(f),b="focus"===f.type?this._onFocus:this._onBlur;for(let x=v;x;x=x.parentElement)b.call(this,f,x)},this._document=a,this._detectionMode=(null==h?void 0:h.detectionMode)||0}monitor(t,r=!1){const i=ah(t);if(!this._platform.isBrowser||1!==i.nodeType)return tt(null);const a=function(n){if(function(){if(null==iC){const n="undefined"!=typeof document?document.head:null;iC=!(!n||!n.createShadowRoot&&!n.attachShadow)}return iC}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),h=this._elementInfo.get(i);if(h)return r&&(h.checkChildren=!0),h.subject;const f={checkChildren:r,subject:new pn.x,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=ah(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=ah(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,v])=>this._originChanged(f,r,v)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=Fu(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,e9),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,e9)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(k4(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,e9),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,e9),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(R1),c.LFG(ck),c.LFG(se,8),c.LFG(uk,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ME="cdk-high-contrast-black-on-white",EE="cdk-high-contrast-white-on-black",aC="cdk-high-contrast-active";let hk=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(aC),t.remove(ME),t.remove(EE),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(aC),t.add(ME)):2===r&&(t.add(aC),t.add(EE))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(R1),c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class AE{}const Jc="*";function SE(n,e){return{type:7,name:n,definitions:e,options:{}}}function cC(n,e=null){return{type:4,styles:e,timings:n}}function xE(n,e=null){return{type:2,steps:n,options:e}}function N4(n){return{type:6,styles:n,offset:null}}function lC(n,e,t){return{type:0,name:n,styles:e,options:t}}function uC(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function DE(n){Promise.resolve(null).then(n)}class lh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){DE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class TE{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?DE(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==a&&this._onFinish()}),h.onDestroy(()=>{++r==a&&this._onDestroy()}),h.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((h,f)=>Math.max(h,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function IE(){return"undefined"!=typeof window&&void 0!==window.document}function dC(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function L4(n){switch(n.length){case 0:return new lh;case 1:return n[0];default:return new TE(n)}}function kE(n,e,t,r,i={},a={}){const h=[],f=[];let v=-1,b=null;if(r.forEach(x=>{const T=x.offset,z=T==v,H=z&&b||{};Object.keys(x).forEach(X=>{let ve=X,xe=x[X];if("offset"!==X)switch(ve=e.normalizePropertyName(ve,h),xe){case"!":xe=i[X];break;case Jc:xe=a[X];break;default:xe=e.normalizeStyleValue(X,ve,xe,h)}H[ve]=xe}),z||f.push(H),b=H,v=T}),h.length){const x="\n - ";throw new Error(`Unable to animate due to the following errors:${x}${h.join(x)}`)}return f}function fC(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&pC(t,"start",n)));break;case"done":n.onDone(()=>r(t&&pC(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&pC(t,"destroy",n)))}}function pC(n,e,t){const r=t.totalTime,a=mC(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),h=n._data;return null!=h&&(a._data=h),a}function mC(n,e,t,r,i="",a=0,h){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!h}}function Wo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function NE(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let gC=(n,e)=>!1,LE=(n,e,t)=>[];(dC()||"undefined"!=typeof Element)&&(gC=IE()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),LE=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let a=0;a<i.length;a++)r.push(i[a])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let Vu=null,RE=!1;function vC(n){Vu||(Vu=("undefined"!=typeof document?document.body:null)||{},RE=!!Vu.style&&"WebkitAppearance"in Vu.style);let e=!0;return Vu.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Vu.style,!e&&RE&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Vu.style)),e}const _C=gC,yC=LE;function OE(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let PE=(()=>{class n{validateStyleProperty(t){return vC(t)}matchesElement(t,r){return!1}containsElement(t,r){return _C(t,r)}query(t,r,i){return yC(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,h,f=[],v){return new lh(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),CC=(()=>{class n{}return n.NOOP=new PE,n})();const bC="ng-enter",t9="ng-leave",n9="ng-trigger",r9=".ng-trigger",FE="ng-animating",wC=".ng-animating";function Hu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:MC(parseFloat(e[1]),e[2])}function MC(n,e){return"s"===e?1e3*n:n}function i9(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,a=0,h="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=MC(parseFloat(f[1]),f[2]);const v=f[3];null!=v&&(a=MC(parseFloat(v),f[4]));const b=f[5];b&&(h=b)}else i=n;if(!t){let f=!1,v=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),f=!0),a<0&&(e.push("Delay values below 0 are not allowed for this animation step."),f=!0),f&&e.splice(v,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:a,easing:h}}(n,e,t)}function uh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function R4(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else uh(n,t);return t}function HE(n,e,t){return t?e+":"+t+";":""}function BE(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=HE(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=HE(0,Ck(t),n.style[t]));n.setAttribute("style",e)}function k2(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=AC(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),dC()&&BE(n))}function Bu(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=AC(t);n.style[r]=""}),dC()&&BE(n))}function Kf(n){return Array.isArray(n)?1==n.length?n[0]:xE(n):n}const EC=new RegExp("{{\\s*(.+?)\\s*}}","g");function UE(n){let e=[];if("string"==typeof n){let t;for(;t=EC.exec(n);)e.push(t[1]);EC.lastIndex=0}return e}function s9(n,e,t){const r=n.toString(),i=r.replace(EC,(a,h)=>{let f=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),f=""),f.toString()});return i==r?n:i}function o9(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const yk=/-+([a-z0-9])/g;function AC(n){return n.replace(yk,(...e)=>e[1].toUpperCase())}function Ck(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function jE(n,e){return 0===n||0===e}function ZE(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],h=[];if(r.forEach(f=>{a.hasOwnProperty(f)||h.push(f),a[f]=t[f]}),h.length)for(var i=1;i<e.length;i++){let f=e[i];h.forEach(function(v){f[v]=SC(n,v)})}}return e}function $o(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function SC(n,e){return window.getComputedStyle(n)[e]}function bk(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const v=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],a=r[2],h=r[3];e.push(qE(i,h));"<"==a[0]&&!("*"==i&&"*"==h)&&e.push(qE(h,i))}(r,t,e)):t.push(n),t}const c9=new Set(["true","1"]),l9=new Set(["false","0"]);function qE(n,e){const t=c9.has(n)||l9.has(n),r=c9.has(e)||l9.has(e);return(i,a)=>{let h="*"==n||n==i,f="*"==e||e==a;return!h&&t&&"boolean"==typeof i&&(h=i?c9.has(n):l9.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?c9.has(e):l9.has(e)),h&&f}}const Ek=new RegExp("s*:selfs*,?","g");function xC(n,e,t){return new Ak(n).build(e,t)}class Ak{constructor(e){this._driver=e}build(e,t){const r=new Dk(t);return this._resetContextStyleTimingState(r),$o(this,Kf(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const v=f,b=v.name;b.toString().split(/\s*,\s*/).forEach(x=>{v.name=x,a.push(this.visitState(v,t))}),v.name=b}else if(1==f.type){const v=this.visitTransition(f,t);r+=v.queryCount,i+=v.depCount,h.push(v)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:a,transitions:h,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,h=i||{};if(r.styles.forEach(f=>{if(u9(f)){const v=f;Object.keys(v).forEach(b=>{UE(v[b]).forEach(x=>{h.hasOwnProperty(x)||a.add(x)})})}}),a.size){const f=o9(a.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${f.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=$o(this,Kf(e.animation),t);return{type:1,matchers:bk(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Uu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>$o(this,r,t)),options:Uu(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(h=>{t.currentTime=r;const f=$o(this,h,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:Uu(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return DC(i9(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=DC(0,0,"");return a.dynamic=!0,a.strValue=r,a}return t=t||i9(r,e),DC(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:N4({});if(5==a.type)i=this.visitKeyframes(a,t);else{let h=e.styles,f=!1;if(!h){f=!0;const b={};r.easing&&(b.easing=r.easing),h=N4(b)}t.currentTime+=r.duration+r.delay;const v=this.visitStyle(h,t);v.isEmptyStep=f,i=v}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==Jc?r.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(e.styles);let i=!1,a=null;return r.forEach(h=>{if(u9(h)){const f=h,v=f.easing;if(v&&(a=v,delete f.easing),!i)for(let b in f)if(f[b].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void t.errors.push(`The provided animation property "${f}" is not a supported CSS property for animations`);const v=t.collectedStyles[t.currentQuerySelector],b=v[f];let x=!0;b&&(a!=i&&a>=b.startTime&&i<=b.endTime&&(t.errors.push(`The CSS property "${f}" that exists between the times of "${b.startTime}ms" and "${b.endTime}ms" is also being animated in a parallel animation between the times of "${a}ms" and "${i}ms"`),x=!1),a=b.startTime),x&&(v[f]={startTime:a,endTime:i}),t.options&&function(n,e,t){const r=e.params||{},i=UE(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(`Unable to resolve the local animation param ${a} in the given list of values`)})}(h[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let a=0;const h=[];let f=!1,v=!1,b=0;const x=e.steps.map(je=>{const ct=this._makeStyleAst(je,t);let Nt=null!=ct.offset?ct.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(u9(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(u9(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(ct.styles),ot=0;return null!=Nt&&(a++,ot=ct.offset=Nt),v=v||ot<0||ot>1,f=f||ot<b,b=ot,h.push(ot),ct});v&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),f&&t.errors.push("Please ensure that all keyframe offsets are in order");const T=e.steps.length;let z=0;a>0&&a<T?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==a&&(z=1/(T-1));const H=T-1,X=t.currentTime,ve=t.currentAnimateTimings,xe=ve.duration;return x.forEach((je,ct)=>{const Nt=z>0?ct==H?1:z*ct:h[ct],ot=Nt*xe;t.currentTime=X+ve.delay+ot,ve.duration=ot,this._validateStyleAst(je,t),je.offset=Nt,r.styles.push(je)}),r}visitReference(e,t){return{type:8,animation:$o(this,Kf(e.animation),t),options:Uu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Uu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Uu(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,h]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Ek,"")),n=n.replace(/@\*/g,r9).replace(/@\w+/g,t=>r9+"-"+t.substr(1)).replace(/:animating/g,wC),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Wo(t.collectedStyles,t.currentQuerySelector,{});const f=$o(this,Kf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:h,animation:f,originalSelector:e.selector,options:Uu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:i9(e.timings,t.errors,!0);return{type:12,animation:$o(this,Kf(e.animation),t),timings:r,options:null}}}class Dk{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function u9(n){return!Array.isArray(n)&&"object"==typeof n}function Uu(n){return n?(n=uh(n)).params&&(n.params=function(n){return n?uh(n):null}(n.params)):n={},n}function DC(n,e,t){return{duration:n,delay:e,easing:t}}function TC(n,e,t,r,i,a,h=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:h,subTimeline:f}}class h9{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Lk=new RegExp(":enter","g"),Ok=new RegExp(":leave","g");function IC(n,e,t,r,i,a={},h={},f,v,b=[]){return(new Pk).buildKeyframes(n,e,t,r,i,a,h,f,v,b)}class Pk{buildKeyframes(e,t,r,i,a,h,f,v,b,x=[]){b=b||new h9;const T=new kC(e,t,b,i,a,x,[]);T.options=v,T.currentTimeline.setStyles([h],null,T.errors,v),$o(this,r,T);const z=T.timelines.filter(H=>H.containsAnimation());if(z.length&&Object.keys(f).length){const H=z[z.length-1];H.allowOnlyTimelineStyles()||H.setStyles([f],null,T.errors,v)}return z.length?z.map(H=>H.buildKeyframes()):[TC(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,h=this._visitSubInstructions(r,i,i.options);a!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const h=null!=r.duration?Hu(r.duration):null,f=null!=r.delay?Hu(r.delay):null;return 0!==h&&e.forEach(v=>{const b=t.appendInstructionToTimeline(v,h,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),$o(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=d9);const h=Hu(a.delay);i.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>$o(this,h,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Hu(e.options.delay):0;e.steps.forEach(h=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),$o(this,h,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return i9(t.params?s9(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(v=>{f.forwardTime((v.offset||0)*a),f.setStyles(v.styles,v.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Hu(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=d9);let h=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let v=null;f.forEach((b,x)=>{t.currentQueryIndex=x;const T=t.createSubContext(e.options,b);a&&T.delayNextStep(a),b===t.element&&(v=T.currentTimeline),$o(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,h=Math.abs(a.duration),f=h*(t.currentQueryTotal-1);let v=h*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":v=f-v;break;case"full":v=r.currentStaggerTime}const x=t.currentTimeline;v&&x.delayNextStep(v);const T=x.currentTime;$o(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-T+(i.startTime-r.currentTimeline.startTime)}}const d9={};class kC{constructor(e,t,r,i,a,h,f,v){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=h,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=d9,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new f9(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Hu(r.duration)),null!=r.delay&&(i.delay=Hu(r.delay));const a=r.params;if(a){let h=i.params;h||(h=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!h.hasOwnProperty(f))&&(h[f]=s9(a[f],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new kC(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=d9,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new zk(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,h){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(Lk,"."+this._enterClassName)).replace(Ok,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),f.push(...b)}return!a&&0==f.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),f}}class f9{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new f9(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Jc,this._currentKeyframe[t]=Jc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},h=function(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=Jc})):R4(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(f=>{const v=s9(h[f],a,r);this._pendingStyles[f]=v,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Jc),this._updateStyle(f,v)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,v)=>{const b=R4(f,!0);Object.keys(b).forEach(x=>{const T=b[x];"!"==T?e.add(x):T==Jc&&t.add(x)}),r||(b.offset=v/this.duration),i.push(b)});const a=e.size?o9(e.values()):[],h=t.size?o9(t.values()):[];if(r){const f=i[0],v=uh(f);f.offset=0,v.offset=1,i=[f,v]}return TC(this.element,i,a,h,this.duration,this.startTime,this.easing,!1)}}class zk extends f9{constructor(e,t,r,i,a,h,f=!1){super(e,t,h.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],h=r+t,f=t/h,v=R4(e[0],!1);v.offset=0,a.push(v);const b=R4(e[0],!1);b.offset=$E(f),a.push(b);const x=e.length-1;for(let T=1;T<=x;T++){let z=R4(e[T],!1);z.offset=$E((t+z.offset*r)/h),a.push(z)}r=h,t=0,i="",e=a}return TC(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function $E(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class NC{}class Vk extends NC{normalizePropertyName(e,t){return AC(e)}normalizeStyleValue(e,t,r,i){let a="";const h=r.toString().trim();if(Hk[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return h+a}}const Hk=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function KE(n,e,t,r,i,a,h,f,v,b,x,T,z){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:h,timelines:f,queriedElements:v,preStyleProps:b,postStyleProps:x,totalTime:T,errors:z}}const LC={};class YE{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],h=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):h}build(e,t,r,i,a,h,f,v,b,x){const T=[],z=this.ast.options&&this.ast.options.params||LC,X=this.buildStyles(r,f&&f.params||LC,T),ve=v&&v.params||LC,xe=this.buildStyles(i,ve,T),je=new Set,ct=new Map,Nt=new Map,ot="void"===i,tn={params:Object.assign(Object.assign({},z),ve)},Dn=x?[]:IC(e,t,this.ast.animation,a,h,X,xe,tn,b,T);let br=0;if(Dn.forEach(F1=>{br=Math.max(F1.duration+F1.delay,br)}),T.length)return KE(t,this._triggerName,r,i,ot,X,xe,[],[],ct,Nt,br,T);Dn.forEach(F1=>{const ao=F1.element,ax=Wo(ct,ao,{});F1.preStyleProps.forEach(Gu=>ax[Gu]=!0);const l5=Wo(Nt,ao,{});F1.postStyleProps.forEach(Gu=>l5[Gu]=!0),ao!==t&&je.add(ao)});const z1=o9(je.values());return KE(t,this._triggerName,r,i,ot,X,xe,Dn,z1,ct,Nt,br)}}class jk{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=uh(this.defaultParams);return Object.keys(e).forEach(a=>{const h=e[a];null!=h&&(i[a]=h)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const h=a;Object.keys(h).forEach(f=>{let v=h[f];v.length>1&&(v=s9(v,i,t));const b=this.normalizer.normalizePropertyName(f,t);v=this.normalizer.normalizeStyleValue(f,b,v,t),r[b]=v})}}),r}}class qk{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new jk(i.style,i.options&&i.options.params||{},r)}),QE(this.states,"true","1"),QE(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new YE(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new YE(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(h=>h.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function QE(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Wk=new h9;class $k{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=xC(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,a=kE(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let h;const f=new Map;if(a?(h=IC(this._driver,t,a,bC,t9,{},{},r,Wk,i),h.forEach(x=>{const T=Wo(f,x.element,{});x.postStyleProps.forEach(z=>T[z]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),h=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);f.forEach((x,T)=>{Object.keys(x).forEach(z=>{x[z]=this._driver.computeStyle(T,z,Jc)})});const b=L4(h.map(x=>{const T=f.get(x.element);return this._buildPlayer(x,{},T)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const a=mC(t,"","","");return fC(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const JE="ng-animate-queued",RC="ng-animate-disabled",Xk=[],XE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eN={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ja="__ng_removed";class OC{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const a=uh(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Yf="void",PC=new OC(Yf);class tN{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Za(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const a=Wo(this._elementListeners,e,[]),h={name:t,phase:r,callback:i};a.push(h);const f=Wo(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Za(e,n9),Za(e,n9+"-"+t),f[t]=PC),()=>{this._engine.afterFlush(()=>{const v=a.indexOf(h);v>=0&&a.splice(v,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),h=new zC(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Za(e,n9),Za(e,n9+"-"+t),this._engine.statesByElement.set(e,f={}));let v=f[t];const b=new OC(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&b.absorbOptions(v.options),f[t]=b,v||(v=PC),b.value!==Yf&&v.value===b.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(v.params,b.params)){const ve=[],xe=a.matchStyles(v.value,v.params,ve),je=a.matchStyles(b.value,b.params,ve);ve.length?this._engine.reportError(ve):this._engine.afterFlush(()=>{Bu(e,xe),k2(e,je)})}return}const z=Wo(this._engine.playersByElement,e,[]);z.forEach(ve=>{ve.namespaceId==this.id&&ve.triggerName==t&&ve.queued&&ve.destroy()});let H=a.matchTransition(v.value,b.value,e,b.params),X=!1;if(!H){if(!i)return;H=a.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:v,toState:b,player:h,isFallbackTransition:X}),X||(Za(e,JE),h.onStart(()=>{hh(e,JE)})),h.onDone(()=>{let ve=this.players.indexOf(h);ve>=0&&this.players.splice(ve,1);const xe=this._engine.playersByElement.get(e);if(xe){let je=xe.indexOf(h);je>=0&&xe.splice(je,1)}}),this.players.push(h),z.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,r9,!0);r.forEach(i=>{if(i[ja])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(h=>h.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e);if(a){const h=[];if(Object.keys(a).forEach(f=>{if(this._triggers[f]){const v=this.trigger(e,f,Yf,i);v&&h.push(v)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&L4(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const h=a.name;if(i.has(h))return;i.add(h);const v=this._triggers[h].fallbackTransition,b=r[h]||PC,x=new OC(Yf),T=new zC(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:v,fromState:b,toState:x,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let h=e;for(;h=h.parentNode;)if(r.statesByElement.get(h)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[ja];(!a||a===XE)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Za(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,h=this._elementListeners.get(a);h&&h.forEach(f=>{if(f.name==r.triggerName){const v=mC(a,r.triggerName,r.fromState.value,r.toState.value);v._data=e,fC(r.player,f.phase,v,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,h=i.transition.ast.depCount;return 0==a||0==h?a-h:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class nN{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new tN(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let a=r;a>=0;a--)if(this.driver.containsElement(this._namespaceList[a].hostElement,t)){this._namespaceList.splice(a+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const h=r[i[a]].namespaceId;if(h){const f=this._fetchNamespace(h);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(p9(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!p9(t))return;const a=t[ja];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Za(e,RC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),hh(e,RC))}removeNode(e,t,r,i){if(p9(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i){this.collectedLeaveElements.push(t),t[ja]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,i,a){return p9(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,r9,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,wC,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return L4(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[ja];if(r&&r.setForRemoval){if(e[ja]=XE,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(RC))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Za(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?L4(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new h9,i=[],a=new Map,h=[],f=new Map,v=new Map,b=new Map,x=new Set;this.disabledNodes.forEach(ft=>{x.add(ft);const Tt=this.driver.query(ft,".ng-animate-queued",!0);for(let Zt=0;Zt<Tt.length;Zt++)x.add(Tt[Zt])});const T=this.bodyNode,z=Array.from(this.statesByElement.keys()),H=nA(z,this.collectedEnterElements),X=new Map;let ve=0;H.forEach((ft,Tt)=>{const Zt=bC+ve++;X.set(Tt,Zt),ft.forEach(Cn=>Za(Cn,Zt))});const xe=[],je=new Set,ct=new Set;for(let ft=0;ft<this.collectedLeaveElements.length;ft++){const Tt=this.collectedLeaveElements[ft],Zt=Tt[ja];Zt&&Zt.setForRemoval&&(xe.push(Tt),je.add(Tt),Zt.hasAnimation?this.driver.query(Tt,".ng-star-inserted",!0).forEach(Cn=>je.add(Cn)):ct.add(Tt))}const Nt=new Map,ot=nA(z,Array.from(je));ot.forEach((ft,Tt)=>{const Zt=t9+ve++;Nt.set(Tt,Zt),ft.forEach(Cn=>Za(Cn,Zt))}),e.push(()=>{H.forEach((ft,Tt)=>{const Zt=X.get(Tt);ft.forEach(Cn=>hh(Cn,Zt))}),ot.forEach((ft,Tt)=>{const Zt=Nt.get(Tt);ft.forEach(Cn=>hh(Cn,Zt))}),xe.forEach(ft=>{this.processLeaveNode(ft)})});const tn=[],Dn=[];for(let ft=this._namespaceList.length-1;ft>=0;ft--)this._namespaceList[ft].drainQueuedTransitions(t).forEach(Zt=>{const Cn=Zt.player,Ri=Zt.element;if(tn.push(Cn),this.collectedEnterElements.length){const qa=Ri[ja];if(qa&&qa.setForMove)return void Cn.destroy()}const N2=!T||!this.driver.containsElement(T,Ri),Yo=Nt.get(Ri),F4=X.get(Ri),wr=this._buildInstruction(Zt,r,F4,Yo,N2);if(wr.errors&&wr.errors.length)return void Dn.push(wr);if(N2)return Cn.onStart(()=>Bu(Ri,wr.fromStyles)),Cn.onDestroy(()=>k2(Ri,wr.toStyles)),void i.push(Cn);if(Zt.isFallbackTransition)return Cn.onStart(()=>Bu(Ri,wr.fromStyles)),Cn.onDestroy(()=>k2(Ri,wr.toStyles)),void i.push(Cn);const ux=[];wr.timelines.forEach(qa=>{qa.stretchStartingKeyframe=!0,this.disabledNodes.has(qa.element)||ux.push(qa)}),wr.timelines=ux,r.append(Ri,wr.timelines),h.push({instruction:wr,player:Cn,element:Ri}),wr.queriedElements.forEach(qa=>Wo(f,qa,[]).push(Cn)),wr.preStyleProps.forEach((qa,u5)=>{const P9=Object.keys(qa);if(P9.length){let Wu=v.get(u5);Wu||v.set(u5,Wu=new Set),P9.forEach(Nb=>Wu.add(Nb))}}),wr.postStyleProps.forEach((qa,u5)=>{const P9=Object.keys(qa);let Wu=b.get(u5);Wu||b.set(u5,Wu=new Set),P9.forEach(Nb=>Wu.add(Nb))})});if(Dn.length){const ft=[];Dn.forEach(Tt=>{ft.push(`@${Tt.triggerName} has failed due to:\n`),Tt.errors.forEach(Zt=>ft.push(`- ${Zt}\n`))}),tn.forEach(Tt=>Tt.destroy()),this.reportError(ft)}const br=new Map,z1=new Map;h.forEach(ft=>{const Tt=ft.element;r.has(Tt)&&(z1.set(Tt,Tt),this._beforeAnimationBuild(ft.player.namespaceId,ft.instruction,br))}),i.forEach(ft=>{const Tt=ft.element;this._getPreviousPlayers(Tt,!1,ft.namespaceId,ft.triggerName,null).forEach(Cn=>{Wo(br,Tt,[]).push(Cn),Cn.destroy()})});const F1=xe.filter(ft=>iA(ft,v,b)),ao=new Map;tA(ao,this.driver,ct,b,Jc).forEach(ft=>{iA(ft,v,b)&&F1.push(ft)});const l5=new Map;H.forEach((ft,Tt)=>{tA(l5,this.driver,new Set(ft),v,"!")}),F1.forEach(ft=>{const Tt=ao.get(ft),Zt=l5.get(ft);ao.set(ft,Object.assign(Object.assign({},Tt),Zt))});const Gu=[],cx=[],lx={};h.forEach(ft=>{const{element:Tt,player:Zt,instruction:Cn}=ft;if(r.has(Tt)){if(x.has(Tt))return Zt.onDestroy(()=>k2(Tt,Cn.toStyles)),Zt.disabled=!0,Zt.overrideTotalTime(Cn.totalTime),void i.push(Zt);let Ri=lx;if(z1.size>1){let Yo=Tt;const F4=[];for(;Yo=Yo.parentNode;){const wr=z1.get(Yo);if(wr){Ri=wr;break}F4.push(Yo)}F4.forEach(wr=>z1.set(wr,Ri))}const N2=this._buildAnimation(Zt.namespaceId,Cn,br,a,l5,ao);if(Zt.setRealPlayer(N2),Ri===lx)Gu.push(Zt);else{const Yo=this.playersByElement.get(Ri);Yo&&Yo.length&&(Zt.parentPlayer=L4(Yo)),i.push(Zt)}}else Bu(Tt,Cn.fromStyles),Zt.onDestroy(()=>k2(Tt,Cn.toStyles)),cx.push(Zt),x.has(Tt)&&i.push(Zt)}),cx.forEach(ft=>{const Tt=a.get(ft.element);if(Tt&&Tt.length){const Zt=L4(Tt);ft.setRealPlayer(Zt)}}),i.forEach(ft=>{ft.parentPlayer?ft.syncPlayerEvents(ft.parentPlayer):ft.destroy()});for(let ft=0;ft<xe.length;ft++){const Tt=xe[ft],Zt=Tt[ja];if(hh(Tt,t9),Zt&&Zt.hasAnimation)continue;let Cn=[];if(f.size){let N2=f.get(Tt);N2&&N2.length&&Cn.push(...N2);let Yo=this.driver.query(Tt,wC,!0);for(let F4=0;F4<Yo.length;F4++){let wr=f.get(Yo[F4]);wr&&wr.length&&Cn.push(...wr)}}const Ri=Cn.filter(N2=>!N2.destroyed);Ri.length?oN(this,Tt,Ri):this.processLeaveNode(Tt)}return xe.length=0,Gu.forEach(ft=>{this.players.push(ft),ft.onDone(()=>{ft.destroy();const Tt=this.players.indexOf(ft);this.players.splice(Tt,1)}),ft.play()}),Gu}elementContainsData(e,t){let r=!1;const i=t[ja];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let h=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(h=f)}else{const f=this.playersByElement.get(e);if(f){const v=!a||a==Yf;f.forEach(b=>{b.queued||!v&&b.triggerName!=i||h.push(b)})}}return(r||i)&&(h=h.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),h}_beforeAnimationBuild(e,t,r){const a=t.element,h=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const b=v.element,x=b!==a,T=Wo(r,b,[]);this._getPreviousPlayers(b,x,h,f,t.toState).forEach(H=>{const X=H.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),H.destroy(),T.push(H)})}Bu(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,h){const f=t.triggerName,v=t.element,b=[],x=new Set,T=new Set,z=t.timelines.map(X=>{const ve=X.element;x.add(ve);const xe=ve[ja];if(xe&&xe.removedBeforeQueried)return new lh(X.duration,X.delay);const je=ve!==v,ct=function(n){const e=[];return rA(n,e),e}((r.get(ve)||Xk).map(br=>br.getRealPlayer())).filter(br=>!!br.element&&br.element===ve),Nt=a.get(ve),ot=h.get(ve),tn=kE(0,this._normalizer,0,X.keyframes,Nt,ot),Dn=this._buildPlayer(X,tn,ct);if(X.subTimeline&&i&&T.add(ve),je){const br=new zC(e,f,ve);br.setRealPlayer(Dn),b.push(br)}return Dn});b.forEach(X=>{Wo(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,X.element,X))}),x.forEach(X=>Za(X,FE));const H=L4(z);return H.onDestroy(()=>{x.forEach(X=>hh(X,FE)),k2(v,t.toStyles)}),T.forEach(X=>{Wo(i,X,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new lh(e.duration,e.delay)}}class zC{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new lh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>fC(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Wo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function p9(n){return n&&1===n.nodeType}function eA(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function tA(n,e,t,r,i){const a=[];t.forEach(v=>a.push(eA(v)));const h=[];r.forEach((v,b)=>{const x={};v.forEach(T=>{const z=x[T]=e.computeStyle(b,T,i);(!z||0==z.length)&&(b[ja]=eN,h.push(b))}),n.set(b,x)});let f=0;return t.forEach(v=>eA(v,a[f++])),h}function nA(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function h(f){if(!f)return 1;let v=a.get(f);if(v)return v;const b=f.parentNode;return v=t.has(b)?b:i.has(b)?1:h(b),a.set(f,v),v}return e.forEach(f=>{const v=h(f);1!==v&&t.get(v).push(f)}),t}function Za(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function hh(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function oN(n,e,t){L4(t).onDone(()=>n.processLeaveNode(e))}function rA(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof TE?rA(r.players,e):e.push(r)}}function iA(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class m9{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new nN(e,t,r),this._timelineEngine=new $k(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const h=e+"-"+i;let f=this._triggerCache[h];if(!f){const v=[],b=xC(this._driver,a,v);if(v.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${v.join("\n - ")}`);f=function(n,e,t){return new qk(n,e,t)}(i,b,this._normalizer),this._triggerCache[h]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,h]=NE(r);this._timelineEngine.command(a,t,h,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[h,f]=NE(r);return this._timelineEngine.listen(h,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function sA(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=FC(e[0]),e.length>1&&(r=FC(e[e.length-1]))):e&&(t=FC(e)),t||r?new lN(n,t,r):null}let lN=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&k2(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(k2(this._element,this._initialStyles),this._endStyles&&(k2(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Bu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bu(this._element,this._endStyles),this._endStyles=null),k2(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function FC(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];uN(i)&&(e=e||{},e[i]=n[i])}return e}function uN(n){return"display"===n||"position"===n}const oA="animation",aA="animationend";class fN{constructor(e,t,r,i,a,h,f){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=a,this._fillMode=h,this._onDoneFn=f,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=v=>this._handleCallback(v)}apply(){(function(n,e){const t=HC(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),g9(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),uA(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){cA(this._element,this._name,"paused")}resume(){cA(this._element,this._name,"running")}setPosition(e){const t=lA(this._element,this._name);this._position=e*this._duration,g9(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),uA(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=HC(n,"").split(","),i=VC(r,e);i>=0&&(r.splice(i,1),g9(n,"",r.join(",")))}(this._element,this._name))}}function cA(n,e,t){g9(n,"PlayState",t,lA(n,e))}function lA(n,e){const t=HC(n,"");return t.indexOf(",")>0?VC(t.split(","),e):VC([t],e)}function VC(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function uA(n,e,t){t?n.removeEventListener(aA,e):n.addEventListener(aA,e)}function g9(n,e,t,r){const i=oA+e;if(null!=r){const a=n.style[i];if(a.length){const h=a.split(",");h[r]=t,t=h.join(",")}}n.style[i]=t}function HC(n,e){return n.style[oA+e]||""}class hA{constructor(e,t,r,i,a,h,f,v){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=a,this._finalStyles=f,this._specialStyles=v,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=i+a,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new fN(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:SC(this.element,r))})}this.currentSnapshot=e}}class yN extends lh{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=OE(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class fA{constructor(){this._count=0}validateStyleProperty(e){return vC(e)}matchesElement(e,t){return!1}containsElement(e,t){return _C(e,t)}query(e,t,r){return yC(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(f=>OE(f));let i=`@keyframes ${t} {\n`,a="";r.forEach(f=>{a=" ";const v=parseFloat(f.offset);i+=`${a}${100*v}% {\n`,a+=" ",Object.keys(f).forEach(b=>{const x=f[b];switch(b){case"offset":return;case"easing":return void(x&&(i+=`${a}animation-timing-function: ${x};\n`));default:return void(i+=`${a}${b}: ${x};\n`)}}),i+=`${a}}\n`}),i+="}\n";const h=document.createElement("style");return h.textContent=i,h}animate(e,t,r,i,a,h=[],f){const v=h.filter(xe=>xe instanceof hA),b={};jE(r,i)&&v.forEach(xe=>{let je=xe.currentSnapshot;Object.keys(je).forEach(ct=>b[ct]=je[ct])});const x=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=ZE(e,t,b));if(0==r)return new yN(e,x);const T="gen_css_kf_"+this._count++,z=this.buildKeyframeElement(e,T,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(z);const X=sA(e,t),ve=new hA(e,t,T,r,i,a,x,X);return ve.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(z)),ve}}class mA{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:SC(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class EN{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(gA().toString()),this._cssKeyframesDriver=new fA}validateStyleProperty(e){return vC(e)}matchesElement(e,t){return!1}containsElement(e,t){return _C(e,t)}query(e,t,r){return yC(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,a,h=[],f){if(!f&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,a,h);const x={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(x.easing=a);const T={},z=h.filter(X=>X instanceof mA);jE(r,i)&&z.forEach(X=>{let ve=X.currentSnapshot;Object.keys(ve).forEach(xe=>T[xe]=ve[xe])});const H=sA(e,t=ZE(e,t=t.map(X=>R4(X,!1)),T));return new mA(e,t,x,H)}}function gA(){return IE()&&Element.prototype.animate||{}}let SN=(()=>{class n extends AE{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?xE(t):t;return vA(this._renderer,null,r,"register",[i]),new xN(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class xN extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new DN(this._id,e,t||{},this._renderer)}}class DN{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return vA(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function vA(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const _A="@.disabled";let TN=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,h)=>{const f=null==h?void 0:h.parentNode(a);f&&h.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let x=this._rendererCache.get(a);return x||(x=new yA("",a,this.engine),this._rendererCache.set(a,x)),x}const h=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const v=x=>{Array.isArray(x)?x.forEach(v):this.engine.registerTrigger(h,f,t,x.name,x)};return r.data.animation.forEach(v),new IN(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[h,f]=a;h(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(m9),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class yA{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==_A?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class IN extends yA{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==_A?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),h="";return"@"!=a.charAt(0)&&([a,h]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,h,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let LN=(()=>{class n extends m9{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se),c.LFG(CC),c.LFG(NC))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Qf=new c.OlP("AnimationModuleType"),CA=[{provide:AE,useClass:SN},{provide:NC,useFactory:function(){return new Vk}},{provide:m9,useClass:LN},{provide:c.FYo,useFactory:function(n,e,t){return new TN(n,e,t)},deps:[rs,m9,c.R0b]}],bA=[{provide:CC,useFactory:function(){return"function"==typeof gA()?new EN:new fA}},{provide:Qf,useValue:"BrowserAnimations"},...CA],zN=[{provide:CC,useClass:PE},{provide:Qf,useValue:"NoopAnimations"},...CA];let FN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?zN:bA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:bA,imports:[ua]}),n})();const HN=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Ps=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!oC()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(hk),c.LFG(HN,8),c.LFG(se))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wf],Wf]}),n})();function BN(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=dE(e)}}}function MA(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function UN(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=dE(e)}}}let ZN=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qN{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const EA={enterDuration:225,exitDuration:150},BC=Jm({passive:!0}),AA=["mousedown","touchstart"],SA=["mouseup","mouseleave","touchend","touchcancel"];class WN{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ah(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},EA),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const h=r.radius||function(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,v=t-i.top,b=a.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=f-h+"px",x.style.top=v-h+"px",x.style.height=2*h+"px",x.style.width=2*h+"px",null!=r.color&&(x.style.backgroundColor=r.color),x.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(x),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(x),x.style.transform="scale(1)";const T=new qN(this,x,r);return T.state=0,this._activeRipples.add(T),r.persistent||(this._mostRecentTransientRipple=T),this._runTimeoutOutsideZone(()=>{const z=T===this._mostRecentTransientRipple;T.state=1,!r.persistent&&(!z||!this._isPointerDown)&&T.fadeOut()},b),T}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},EA),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ah(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(AA))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(SA),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=yE(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!CE(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,BC)})})}_removeTriggerEvents(){this._triggerElement&&(AA.forEach(e=>{this._triggerElement.removeEventListener(e,this,BC)}),this._pointerUpEventsRegistered&&SA.forEach(e=>{this._triggerElement.removeEventListener(e,this,BC)}))}}const YN=new c.OlP("mat-ripple-global-options");let xA=(()=>{class n{constructor(t,r,i,a,h){this._elementRef=t,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new WN(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(R1),c.Y36(YN,8),c.Y36(Qf,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),QN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ps,rC],Ps]}),n})();const JN=["mat-button",""],XN=["*"],tL=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],nL=MA(BN(UN(class{constructor(n){this._elementRef=n}})));let O4=(()=>{class n extends nL{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of tL)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(wE),c.Y36(Qf,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&c.Gf(xA,5),2&t){let i;c.iGM(i=c.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(c.uIk("disabled",r.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:JN,ngContentSelectors:XN,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1),c._UZ(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),c.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[xA],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),rL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[QN,Ps],Ps]}),n})();function iL(n,e){if(1&n&&c._UZ(0,"img",11),2&n){const t=c.oxw();c.s9C("src",t.pokemon.sprites.front_default,c.LSH)}}function sL(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"input",12),c.TgZ(2,"label",13),c._uU(3),c.qZA(),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.s9C("value",t.name),c.xp6(2),c.hij(" ",t.name,"")}}function oL(n,e){if(1&n&&(c.TgZ(0,"p",16),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.respuestaNameHtml)}}function aL(n,e){if(1&n&&(c.TgZ(0,"p",17),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.respuestaNameHtml)}}function cL(n,e){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,oL,2,1,"p",14),c.YNc(2,aL,2,1,"p",15),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.mostrarNombre),c.xp6(1),c.Q6J("ngIf",0==t.mostrarNombre)}}function lL(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"input",18),c.TgZ(2,"label",13),c._uU(3),c.qZA(),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.hYB("value","",t.types[0].type.name,"",null==t.types[1]?null:t.types[1].type.name,""),c.xp6(2),c.AsE("",t.types[0].type.name," ",null==t.types[1]?null:t.types[1].type.name,"")}}function uL(n,e){if(1&n&&(c.TgZ(0,"p",16),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.repuestaTipoHtml)}}function hL(n,e){if(1&n&&(c.TgZ(0,"p",17),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.repuestaTipoHtml)}}function dL(n,e){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,uL,2,1,"p",14),c.YNc(2,hL,2,1,"p",15),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.mostrarTipo),c.xp6(1),c.Q6J("ngIf",0==t.mostrarTipo)}}function fL(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"input",19),c.TgZ(2,"label",13),c._uU(3),c.qZA(),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.hYB("value","",t.weight,"-",t.height,""),c.xp6(2),c.AsE("",t.weight," kg - ",t.height," m ")}}function pL(n,e){if(1&n&&(c.TgZ(0,"p",16),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.hij("",t.repuestaAlturaHtml," ")}}function mL(n,e){if(1&n&&(c.TgZ(0,"p",17),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.hij("",t.repuestaAlturaHtml," ")}}function gL(n,e){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,pL,2,1,"p",14),c.YNc(2,mL,2,1,"p",15),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.mostrarAltura),c.xp6(1),c.Q6J("ngIf",0==t.mostrarAltura)}}function vL(n,e){if(1&n&&(c.TgZ(0,"button",20),c._uU(1,"PokeMuestrame"),c.qZA()),2&n){const t=c.oxw();c.Q6J("disabled",!t.formulario.valid)}}function _L(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",21),c.NdJ("click",function(){return c.CHM(t),c.oxw().reinicio()}),c._uU(1,"Nuevo"),c.qZA()}}function yL(n,e){if(1&n&&(c.TgZ(0,"div",22),c.TgZ(1,"p",23),c._uU(2),c.qZA(),c.TgZ(3,"p",24),c._uU(4),c.qZA(),c.qZA()),2&n){const t=c.oxw();c.xp6(2),c.hij(" aciertos ",t.logeado.testAciertos," "),c.xp6(2),c.hij("",t.logeado.testFallos," fallos ")}}let CL=(()=>{class n{constructor(t,r,i){this.servicio=t,this.router=r,this.baseDatos=i,this.lista=[],this.listaTipos=[],this.listaAltura=[],this.repuestaTipoHtml="",this.respuestaNameHtml="",this.repuestaAlturaHtml="",this.mostrar=!1,this.mostrarNombre=!1,this.mostrarTipo=!1,this.mostrarAltura=!1,this.formulario=new w1({name:new us("",zr.required),tipo:new us("",zr.required),peso:new us("",zr.required)}),this.repuestasCorrectas=0,this.respuestasIncorrectas=0,this.collecionBaseDatos="Records Pokemon",this.logeado={}}ngOnInit(){this.servicio.getOne(this.getRandom(1,898)).subscribe(r=>{r.height=Math.round(.1*r.height*100)/100,r.weight=Math.round(.1*r.weight*100)/100,r.name=r.name.charAt(0).toUpperCase()+r.name.slice(1),r.types[0].type.name=r.types[0].type.name.charAt(0).toUpperCase()+r.types[0].type.name.slice(1),this.lista.push(r),this.pokemon=r,this.listaTipos.push(r),this.listaAltura.push(r)});for(let r=0;r<4;r++)this.servicio.getOne(this.getRandom(1,898)).subscribe(i=>{i.height=Math.round(.1*i.height*100)/100,i.weight=Math.round(.1*i.weight*100)/100,i.name=i.name.charAt(0).toUpperCase()+i.name.slice(1),i.types[0].type.name=i.types[0].type.name.charAt(0).toUpperCase()+i.types[0].type.name.slice(1),this.lista.push(i),this.listaTipos.push(i),this.listaAltura.push(i),2===this.getRandom(1,3)&&this.listaTipos.reverse(),this.listaAltura.reverse(),2===this.getRandom(1,2)&&this.listaAltura.reverse()});this.baseDatos.obtenerTodos(this.collecionBaseDatos).subscribe(r=>{r.map(i=>{let a=i.payload.doc.data();if(a.email==localStorage.getItem("PokemonUsuarioLogueado"))return a.id=i.payload.doc.id,this.logeado=a,a}),console.log(this.logeado)})}getRandom(t,r){return Math.floor(Math.random()*(r-t+1)+t)}enviar(){var t;console.log(this.formulario.value),this.pokemon.name===this.formulario.value.name?(this.respuestaNameHtml=this.pokemon.name+" es la respuesta correcta",this.mostrarNombre=!0,this.repuestasCorrectas++):(this.respuestaNameHtml=this.pokemon.name+" es la respuesta correcta. Tu respuesta: "+this.formulario.value.name,this.respuestasIncorrectas++),null!=this.pokemon.types[1]?this.pokemon.types[0].type.name+this.pokemon.types[1].type.name===this.formulario.value.tipo?(this.repuestaTipoHtml=this.pokemon.types[0].type.name+" "+(null===(t=this.pokemon.types[1])||void 0===t?void 0:t.type.name)+" es la respuesta correcta",this.mostrarTipo=!0,this.repuestasCorrectas++):(this.repuestaTipoHtml=this.pokemon.types[0].type.name+" "+this.pokemon.types[1].type.name+" es la respuesta correcta. Tu respuesta:"+this.formulario.value.tipo,this.respuestasIncorrectas++):this.pokemon.types[0].type.name===this.formulario.value.tipo?(this.repuestaTipoHtml=this.pokemon.types[0].type.name+" es la respuesta correcta",this.mostrarTipo=!0,this.repuestasCorrectas++):(this.repuestaTipoHtml=this.pokemon.types[0].type.name+" es la respuesta correcta. Tu respuesta: "+this.formulario.value.tipo,this.respuestasIncorrectas++),this.pokemon.weight+"-"+this.pokemon.height==this.formulario.value.peso?(this.repuestaAlturaHtml=this.pokemon.weight+" kg - "+this.pokemon.height+" m es la respuesta correcta",this.mostrarAltura=!0,this.repuestasCorrectas++):(this.repuestaAlturaHtml=this.pokemon.weight+" kg es la respuesta correcta. Tu respuesta: "+this.formulario.value.peso+" Kg",this.respuestasIncorrectas++),this.mostrar=!0,this.logeado.testAciertos=this.logeado.testAciertos+this.repuestasCorrectas,this.logeado.testFallos=this.logeado.testFallos+this.respuestasIncorrectas,this.baseDatos.actualizar(this.collecionBaseDatos,this.logeado,this.logeado.id)}reinicio(){this.router.navigateByUrl("/cartas",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/test"])})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(G6),c.Y36(hr),c.Y36(I4))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-poke-preguntas"]],decls:24,vars:11,consts:[[1,"contenedorPrincipal"],["class","pokemonImagen","alt","",3,"src",4,"ngIf"],["for","name",1,"enunciado"],[3,"formGroup","ngSubmit"],[4,"ngFor","ngForOf"],[4,"ngIf"],["for","tipo",1,"enunciado"],["for","peso",1,"enunciado"],["mat-raised-button","","class","boton","type","submit",3,"disabled",4,"ngIf"],["mat-raised-button","","class","boton",3,"click",4,"ngIf"],["class","resultados",4,"ngIf"],["alt","",1,"pokemonImagen",3,"src"],["type","radio","name","name","formControlName","name",3,"value"],["for",""],["class","respuestaCorrecta",4,"ngIf"],["class","respuestaIncorrecta",4,"ngIf"],[1,"respuestaCorrecta"],[1,"respuestaIncorrecta"],["type","radio","name","tipo","formControlName","tipo",3,"value"],["type","radio","name","peso","formControlName","peso",3,"value"],["mat-raised-button","","type","submit",1,"boton",3,"disabled"],["mat-raised-button","",1,"boton",3,"click"],[1,"resultados"],[1,"aciertos"],[1,"fallos"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.YNc(1,iL,1,1,"img",1),c._UZ(2,"br"),c.TgZ(3,"label",2),c._uU(4,"Nombre:"),c.qZA(),c._UZ(5,"br"),c.TgZ(6,"form",3),c.NdJ("ngSubmit",function(){return r.enviar()}),c.YNc(7,sL,4,2,"div",4),c.YNc(8,cL,3,2,"div",5),c._UZ(9,"br"),c.TgZ(10,"label",6),c._uU(11,"Tipo:"),c.qZA(),c.YNc(12,lL,4,4,"div",4),c.YNc(13,dL,3,2,"div",5),c._UZ(14,"br"),c.TgZ(15,"label",7),c._uU(16,"Peso - Altura:"),c.qZA(),c.YNc(17,fL,4,4,"div",4),c.YNc(18,gL,3,2,"div",5),c._UZ(19,"br"),c.YNc(20,vL,2,1,"button",8),c.YNc(21,_L,2,0,"button",9),c.qZA(),c._UZ(22,"br"),c.YNc(23,yL,5,2,"div",10),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngIf",r.pokemon),c.xp6(5),c.Q6J("formGroup",r.formulario),c.xp6(1),c.Q6J("ngForOf",r.lista),c.xp6(1),c.Q6J("ngIf",r.mostrar),c.xp6(4),c.Q6J("ngForOf",r.listaTipos.slice().reverse()),c.xp6(1),c.Q6J("ngIf",r.mostrar),c.xp6(4),c.Q6J("ngForOf",r.listaAltura.slice().reverse()),c.xp6(1),c.Q6J("ngIf",r.mostrar),c.xp6(2),c.Q6J("ngIf",!r.mostrar),c.xp6(1),c.Q6J("ngIf",r.mostrar),c.xp6(2),c.Q6J("ngIf",r.logeado.testFallos))},directives:[Jn,R6,D6,Ol,vr,b0,Il,y0,w0,O4],styles:[".respuestaCorrecta[_ngcontent-%COMP%]{background-color:#adff2f}.respuestaIncorrecta[_ngcontent-%COMP%]{background-color:red}.pokemonImagen[_ngcontent-%COMP%]{width:15em}.enunciado[_ngcontent-%COMP%]{font-size:1.5em;color:#000;text-decoration:underline}.boton[_ngcontent-%COMP%]{border:.5px solid black;color:#fff;background-color:#1976d2;font-weight:600;cursor:pointer}.contenedorPrincipal[_ngcontent-%COMP%]{text-align:center}.resultados[_ngcontent-%COMP%]{display:flex;justify-content:center}.aciertos[_ngcontent-%COMP%]{padding:5px;font-size:1.5em;color:#7fff00}.fallos[_ngcontent-%COMP%]{padding:5px;font-size:1.5em;color:#dc143c}"]}),n})();var DA={prefix:"fas",iconName:"fist-raised",icon:[384,512,[],"f6de","M255.98 160V16c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v146.93c5.02-1.78 10.34-2.93 15.97-2.93h48.03zm128 95.99c-.01-35.34-28.66-63.99-63.99-63.99H207.85c-8.78 0-15.9 7.07-15.9 15.85v.56c0 26.27 21.3 47.59 47.57 47.59h35.26c9.68 0 13.2 3.58 13.2 8v16.2c0 4.29-3.59 7.78-7.88 8-44.52 2.28-64.16 24.71-96.05 72.55l-6.31 9.47a7.994 7.994 0 0 1-11.09 2.22l-13.31-8.88a7.994 7.994 0 0 1-2.22-11.09l6.31-9.47c15.73-23.6 30.2-43.26 47.31-58.08-17.27-5.51-31.4-18.12-38.87-34.45-6.59 3.41-13.96 5.52-21.87 5.52h-32c-12.34 0-23.49-4.81-32-12.48C71.48 251.19 60.33 256 48 256H16c-5.64 0-10.97-1.15-16-2.95v77.93c0 33.95 13.48 66.5 37.49 90.51L63.99 448v64h255.98v-63.96l35.91-35.92A96.035 96.035 0 0 0 384 344.21l-.02-88.22zm-32.01-90.09V48c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v112h32c11.28 0 21.94 2.31 32 5.9zM16 224h32c8.84 0 16-7.16 16-16V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v128c0 8.84 7.16 16 16 16zm95.99 0h32c8.84 0 16-7.16 16-16V48c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v160c0 8.84 7.16 16 16 16z"]},TA={prefix:"fas",iconName:"robot",icon:[640,512,[],"f544","M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"]},IA={prefix:"fas",iconName:"star",icon:[576,512,[],"f005","M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"]},kA={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]},_9=R(655);const UC=new c.OlP("@sweetalert2/ngx-sweetalert2#swalProvider"),jC=new c.OlP("@sweetalert2/ngx-sweetalert2#fireOnInit"),ZC=new c.OlP("@sweetalert2/ngx-sweetalert2#dismissOnDestroy");let y9=(()=>{class n{constructor(t){this.swalProvider=t}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;const t="function"==typeof(a=this.swalProvider)&&void 0===a.version?this.swalProvider():Promise.resolve(this.swalProvider);var a;this.swalPromiseCache=t.then(a=>function(a){return"function"==typeof a}(a)?a:a.default)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(UC))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),P4=(()=>{class n{constructor(t,r,i){this.sweetAlert2Loader=t,this.moduleLevelFireOnInit=r,this.moduleLevelDismissOnDestroy=i,this.willOpen=new c.vpe,this.didOpen=new c.vpe,this.didRender=new c.vpe,this.willClose=new c.vpe,this.didClose=new c.vpe,this.didDestroy=new c.vpe,this.confirm=new c.vpe,this.deny=new c.vpe,this.dismiss=new c.vpe,this.touchedProps=new Set,this.markTouched=this.touchedProps.add.bind(this.touchedProps),this.isCurrentlyShown=!1}set swalOptions(t){Object.assign(this,t),Object.keys(t).forEach(this.markTouched)}get swalOptions(){return[...this.touchedProps].reduce((t,r)=>Object.assign(Object.assign({},t),{[r]:this[r]}),{})}set swalVisible(t){t?this.fire():this.close()}get swalVisible(){return this.isCurrentlyShown}ngOnInit(){this.sweetAlert2Loader.preloadSweetAlertLibrary()}ngAfterViewInit(){(void 0===this.swalFireOnInit?this.moduleLevelFireOnInit:this.swalFireOnInit)&&this.fire()}ngOnChanges(t){Object.keys(t).filter(r=>!r.startsWith("swal")).forEach(this.markTouched),this.update()}ngOnDestroy(){(void 0===this.swalDismissOnDestroy?this.moduleLevelDismissOnDestroy:this.swalDismissOnDestroy)&&this.close()}fire(){return(0,_9.mG)(this,void 0,void 0,function*(){const t=yield this.sweetAlert2Loader.swal,r=this.swalOptions,i=Object.assign(Object.assign({},r),{willOpen:h(r.willOpen,f=>{this.willOpen.emit({modalElement:f})}),didOpen:h(r.didOpen,f=>{this.isCurrentlyShown=!0,this.didOpen.emit({modalElement:f})}),didRender:h(r.didRender,f=>{this.didRender.emit({modalElement:f})}),willClose:h(r.willClose,f=>{this.isCurrentlyShown=!1,this.willClose.emit({modalElement:f})}),didClose:h(r.didClose,()=>{this.didClose.emit()}),didDestroy:h(r.didDestroy,()=>{this.didDestroy.emit()})}),a=yield t.fire(i);switch(!0){case a.isConfirmed:this.confirm.emit(a.value);break;case a.isDenied:this.deny.emit();break;case a.isDismissed:this.dismiss.emit(a.dismiss)}return a;function h(f,v){return(...b)=>(v(...b),null==f?void 0:f(...b))}})}close(t){return(0,_9.mG)(this,void 0,void 0,function*(){this.isCurrentlyShown&&(yield this.sweetAlert2Loader.swal).close(t)})}update(t){return(0,_9.mG)(this,void 0,void 0,function*(){if(t&&(this.swalOptions=t),!this.isCurrentlyShown)return;const r=yield this.sweetAlert2Loader.swal,i=this.swalOptions,a=Object.keys(i).filter(r.isUpdatableParameter).reduce((h,f)=>Object.assign(Object.assign({},h),{[f]:i[f]}),{});r.update(a)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(y9),c.Y36(jC),c.Y36(ZC))},n.\u0275cmp=c.Xpm({type:n,selectors:[["swal"]],inputs:{swalOptions:"swalOptions",swalVisible:"swalVisible",title:"title",titleText:"titleText",text:"text",html:"html",footer:"footer",icon:"icon",iconColor:"iconColor",iconHtml:"iconHtml",backdrop:"backdrop",toast:"toast",target:"target",input:"input",width:"width",padding:"padding",background:"background",position:"position",grow:"grow",showClass:"showClass",hideClass:"hideClass",customClass:"customClass",timer:"timer",timerProgressBar:"timerProgressBar",heightAuto:"heightAuto",allowOutsideClick:"allowOutsideClick",allowEscapeKey:"allowEscapeKey",allowEnterKey:"allowEnterKey",stopKeydownPropagation:"stopKeydownPropagation",keydownListenerCapture:"keydownListenerCapture",showConfirmButton:"showConfirmButton",showDenyButton:"showDenyButton",showCancelButton:"showCancelButton",confirmButtonText:"confirmButtonText",denyButtonText:"denyButtonText",cancelButtonText:"cancelButtonText",confirmButtonColor:"confirmButtonColor",denyButtonColor:"denyButtonColor",cancelButtonColor:"cancelButtonColor",confirmButtonAriaLabel:"confirmButtonAriaLabel",denyButtonAriaLabel:"denyButtonAriaLabel",cancelButtonAriaLabel:"cancelButtonAriaLabel",buttonsStyling:"buttonsStyling",reverseButtons:"reverseButtons",focusConfirm:"focusConfirm",focusDeny:"focusDeny",focusCancel:"focusCancel",showCloseButton:"showCloseButton",closeButtonHtml:"closeButtonHtml",closeButtonAriaLabel:"closeButtonAriaLabel",loaderHtml:"loaderHtml",showLoaderOnConfirm:"showLoaderOnConfirm",preConfirm:"preConfirm",preDeny:"preDeny",imageUrl:"imageUrl",imageWidth:"imageWidth",imageHeight:"imageHeight",imageAlt:"imageAlt",inputLabel:"inputLabel",inputPlaceholder:"inputPlaceholder",inputValue:"inputValue",inputOptions:"inputOptions",inputAutoTrim:"inputAutoTrim",inputAttributes:"inputAttributes",inputValidator:"inputValidator",returnInputValueOnDeny:"returnInputValueOnDeny",validationMessage:"validationMessage",progressSteps:"progressSteps",currentProgressStep:"currentProgressStep",progressStepsDistance:"progressStepsDistance",scrollbarPadding:"scrollbarPadding",swalFireOnInit:"swalFireOnInit",swalDismissOnDestroy:"swalDismissOnDestroy"},outputs:{willOpen:"willOpen",didOpen:"didOpen",didRender:"didRender",willClose:"willClose",didClose:"didClose",didDestroy:"didDestroy",confirm:"confirm",deny:"deny",dismiss:"dismiss"},features:[c.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2,changeDetection:0}),n})(),$Q=(()=>{class n{constructor(t,r){this.viewContainerRef=t,this.resolver=r,this.confirm=new c.vpe,this.deny=new c.vpe,this.dismiss=new c.vpe}set swal(t){t instanceof P4?this.swalInstance=t:Array.isArray(t)?(this.swalOptions={},[this.swalOptions.title,this.swalOptions.text,this.swalOptions.icon]=t):this.swalOptions=t}ngOnInit(){if(!this.swalInstance){const t=this.resolver.resolveComponentFactory(P4);this.swalRef=this.viewContainerRef.createComponent(t),this.swalInstance=this.swalRef.instance}}ngOnDestroy(){this.swalRef&&this.swalRef.destroy()}onClick(t){if(t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),!this.swalInstance)return;this.swalOptions&&(this.swalInstance.swalOptions=this.swalOptions);const r=new pn.x;this.swalInstance.confirm.asObservable().pipe(k4(r)).subscribe(i=>this.confirm.emit(i)),this.swalInstance.deny.asObservable().pipe(k4(r)).subscribe(i=>this.deny.emit(i)),this.swalInstance.dismiss.asObservable().pipe(k4(r)).subscribe(i=>this.dismiss.emit(i)),this.swalInstance.fire().then(()=>r.next())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c._Vd))},n.\u0275dir=c.lG2({type:n,selectors:[["","swal",""]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(a){return r.onClick(a)})},inputs:{swal:"swal"},outputs:{confirm:"confirm",deny:"deny",dismiss:"dismiss"}}),n})();function QQ(){return R.e(226).then(R.t.bind(R,5226,23))}let JQ=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[y9,{provide:UC,useValue:t.provideSwal||QQ},{provide:jC,useValue:t.fireOnInit||!1},{provide:ZC,useValue:t.dismissOnDestroy||!0}]}}static forChild(t={}){return{ngModule:n,providers:[...t.provideSwal?[y9,{provide:UC,useValue:t.provideSwal}]:[],...void 0!==t.fireOnInit?[{provide:jC,useValue:t.fireOnInit}]:[],...void 0!==t.dismissOnDestroy?[{provide:ZC,useValue:t.dismissOnDestroy}]:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[F2]]}),n})();function Xf(n){return(Xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function NA(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function tJ(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ln(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){tJ(n,i,t[i])})}return n}function qC(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],r=!0,i=!1,a=void 0;try{for(var f,h=n[Symbol.iterator]();!(r=(f=h.next()).done)&&(t.push(f.value),!e||t.length!==e);r=!0);}catch(v){i=!0,a=v}finally{try{!r&&null!=h.return&&h.return()}finally{if(i)throw a}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var WC={},RA={};try{"undefined"!=typeof window&&(WC=window),"undefined"!=typeof document&&(RA=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(n){}var zA=(WC.navigator||{}).userAgent,FA=void 0===zA?"":zA,dh=WC,si=RA,Xc=!!si.documentElement&&!!si.head&&"function"==typeof si.addEventListener&&"function"==typeof si.createElement,el=(~FA.indexOf("MSIE")||FA.indexOf("Trident/"),"___FONT_AWESOME___"),UA="svg-inline--fa",GA=[1,2,3,4,5,6,7,8,9,10],_J=GA.concat([11,12,13,14,15,16,17,18,19,20]),ju={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},WA=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",ju.GROUP,ju.SWAP_OPACITY,ju.PRIMARY,ju.SECONDARY].concat(GA.map(function(n){return"".concat(n,"x")})).concat(_J.map(function(n){return"w-".concat(n)})),dh.FontAwesomeConfig||{});si&&"function"==typeof si.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=qC(n,2),r=e[1],i=function(n){return""===n||"false"!==n&&("true"===n||n)}(function(n){var e=si.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(WA[r]=i)});var YC=ln({},{familyPrefix:"fa",replacementClass:UA,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},WA);YC.autoReplaceSvg||(YC.observeMutations=!1);var Gt=ln({},YC);dh.FontAwesomeConfig=Gt;var tl=dh||{};tl[el]||(tl[el]={}),tl[el].styles||(tl[el].styles={}),tl[el].hooks||(tl[el].hooks={}),tl[el].shims||(tl[el].shims=[]);var O1=tl[el],$A=[];Xc&&((si.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(si.readyState)||si.addEventListener("DOMContentLoaded",function n(){si.removeEventListener("DOMContentLoaded",n),$A.map(function(e){return e()})}));var JC,QC="pending",KA="settled",w9="fulfilled",M9="rejected",xJ=function(){},YA="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,DJ="undefined"==typeof setImmediate?setTimeout:setImmediate,e5=[];function TJ(){for(var n=0;n<e5.length;n++)e5[n][0](e5[n][1]);e5=[],JC=!1}function E9(n,e){e5.push([n,e]),JC||(JC=!0,DJ(TJ,0))}function QA(n){var e=n.owner,t=e._state,r=e._data,i=n[t],a=n.then;if("function"==typeof i){t=w9;try{r=i(r)}catch(h){t5(a,h)}}JA(a,r)||(t===w9&&XC(a,r),t===M9&&t5(a,r))}function JA(n,e){var t;try{if(n===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===Xf(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(i){t||(t=!0,e===i?XA(n,i):XC(n,i))},function(i){t||(t=!0,t5(n,i))}),!0}}catch(i){return t||t5(n,i),!0}return!1}function XC(n,e){(n===e||!JA(n,e))&&XA(n,e)}function XA(n,e){n._state===QC&&(n._state=KA,n._data=e,E9(kJ,n))}function t5(n,e){n._state===QC&&(n._state=KA,n._data=e,E9(NJ,n))}function eS(n){n._then=n._then.forEach(QA)}function kJ(n){n._state=w9,eS(n)}function NJ(n){n._state=M9,eS(n),!n._handled&&YA&&global.process.emit("unhandledRejection",n._data,n)}function LJ(n){global.process.emit("rejectionHandled",n)}function Ko(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof Ko))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(n,e){function r(i){t5(e,i)}try{n(function(i){XC(e,i)},r)}catch(i){r(i)}}(n,this)}Ko.prototype={constructor:Ko,_state:QC,_then:null,_data:void 0,_handled:!1,then:function(e,t){var r={owner:this,then:new this.constructor(xJ),fulfilled:e,rejected:t};return(t||e)&&!this._handled&&(this._handled=!0,this._state===M9&&YA&&E9(LJ,this)),this._state===w9||this._state===M9?E9(QA,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}},Ko.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new Ko(function(e,t){var r=[],i=0;function a(v){return i++,function(b){r[v]=b,--i||e(r)}}for(var f,h=0;h<n.length;h++)(f=n[h])&&"function"==typeof f.then?f.then(a(h),t):r[h]=f;i||e(r)})},Ko.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new Ko(function(e,t){for(var i,r=0;r<n.length;r++)(i=n[r])&&"function"==typeof i.then?i.then(e,t):e(i)})},Ko.resolve=function(n){return n&&"object"===Xf(n)&&n.constructor===Ko?n:new Ko(function(e){e(n)})},Ko.reject=function(n){return new Ko(function(e,t){t(n)})};var nl={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function n5(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function nS(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function A9(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t],";")},"")}function tb(n){return n.size!==nl.size||n.x!==nl.x||n.y!==nl.y||n.rotate!==nl.rotate||n.flipX||n.flipY}function rS(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},a="translate(".concat(32*e.x,", ").concat(32*e.y,") "),h="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),f="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(h," ").concat(f)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var nb={x:0,y:0,width:"100%",height:"100%"};function iS(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function VJ(n){return"g"===n.tag?n.children:[n]}function rb(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,a=n.iconName,h=n.transform,f=n.symbol,v=n.title,b=n.maskId,x=n.titleId,T=n.extra,z=n.watchable,H=void 0!==z&&z,X=r.found?r:t,ve=X.width,xe=X.height,je="fak"===i,ct=je?"":"fa-w-".concat(Math.ceil(ve/xe*16)),Nt=[Gt.replacementClass,a?"".concat(Gt.familyPrefix,"-").concat(a):"",ct].filter(function(ao){return-1===T.classes.indexOf(ao)}).filter(function(ao){return""!==ao||!!ao}).concat(T.classes).join(" "),ot={children:[],attributes:ln({},T.attributes,{"data-prefix":i,"data-icon":a,class:Nt,role:T.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(ve," ").concat(xe)})},tn=je&&!~T.classes.indexOf("fa-fw")?{width:"".concat(ve/xe*16*.0625,"em")}:{};H&&(ot.attributes["data-fa-i2svg"]=""),v&&ot.children.push({tag:"title",attributes:{id:ot.attributes["aria-labelledby"]||"title-".concat(x||n5())},children:[v]});var Dn=ln({},ot,{prefix:i,iconName:a,main:t,mask:r,maskId:b,transform:h,symbol:f,styles:ln({},tn,T.styles)}),br=r.found&&t.found?function(n){var e=n.children,t=n.attributes,r=n.main,i=n.mask,a=n.maskId,v=r.icon,x=i.icon,T=rS({transform:n.transform,containerWidth:i.width,iconWidth:r.width}),z={tag:"rect",attributes:ln({},nb,{fill:"white"})},H=v.children?{children:v.children.map(iS)}:{},X={tag:"g",attributes:ln({},T.inner),children:[iS(ln({tag:v.tag,attributes:ln({},v.attributes,T.path)},H))]},ve={tag:"g",attributes:ln({},T.outer),children:[X]},xe="mask-".concat(a||n5()),je="clip-".concat(a||n5()),ct={tag:"mask",attributes:ln({},nb,{id:xe,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[z,ve]},Nt={tag:"defs",children:[{tag:"clipPath",attributes:{id:je},children:VJ(x)},ct]};return e.push(Nt,{tag:"rect",attributes:ln({fill:"currentColor","clip-path":"url(#".concat(je,")"),mask:"url(#".concat(xe,")")},nb)}),{children:e,attributes:t}}(Dn):function(n){var e=n.children,t=n.attributes,r=n.main,i=n.transform,h=A9(n.styles);if(h.length>0&&(t.style=h),tb(i)){var f=rS({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:ln({},f.outer),children:[{tag:"g",attributes:ln({},f.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ln({},r.icon.attributes,f.path)}]}]})}else e.push(r.icon);return{children:e,attributes:t}}(Dn),F1=br.attributes;return Dn.children=br.children,Dn.attributes=F1,f?function(n){var t=n.iconName,r=n.children,a=n.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ln({},n.attributes,{id:!0===a?"".concat(n.prefix,"-").concat(Gt.familyPrefix,"-").concat(t):a}),children:r}]}]}(Dn):function(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,a=n.styles,h=n.transform;if(tb(h)&&t.found&&!r.found){var b={x:t.width/t.height/2,y:.5};i.style=A9(ln({},a,{"transform-origin":"".concat(b.x+h.x/16,"em ").concat(b.y+h.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(Dn)}var ob=function(e,t,r,i){var v,b,x,a=Object.keys(e),h=a.length,f=void 0!==i?function(e,t){return function(r,i,a,h){return e.call(t,r,i,a,h)}}(t,i):t;for(void 0===r?(v=1,x=e[a[0]]):(v=0,x=r);v<h;v++)x=f(x,e[b=a[v]],b,e);return x};function lS(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,i=void 0!==r&&r,a=Object.keys(e).reduce(function(h,f){var v=e[f];return v.icon?h[v.iconName]=v.icon:h[f]=v,h},{});"function"!=typeof O1.hooks.addPack||i?O1.styles[n]=ln({},O1.styles[n]||{},a):O1.hooks.addPack(n,a),"fas"===n&&lS("fa",e)}var uS=O1.styles,WJ=O1.shims,pS=function(){var e=function(i){return ob(uS,function(a,h,f){return a[f]=ob(h,i,{}),a},{})};e(function(r,i,a){return i[3]&&(r[i[3]]=a),r}),e(function(r,i,a){var h=i[2];return r[a]=a,h.forEach(function(f){r[f]=a}),r});var t="far"in uS;ob(WJ,function(r,i){var h=i[1];return"far"===h&&!t&&(h="fas"),r[i[0]]={prefix:h,iconName:i[2]},r},{})};function gS(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}function mh(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,a=void 0===i?[]:i;return"string"==typeof n?nS(n):"<".concat(e," ").concat(function(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(nS(n[t]),'" ')},"").trim()}(r),">").concat(a.map(mh).join(""),"</").concat(e,">")}pS();function s5(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}(s5.prototype=Object.create(Error.prototype)).constructor=s5;var D9={fill:"currentColor"},wS={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},ub=(ln({},D9,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),ln({},wS,{attributeName:"opacity"}));function db(n){var e=n[0],t=n[1],a=qC(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(a)?{tag:"g",attributes:{class:"".concat(Gt.familyPrefix,"-").concat(ju.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Gt.familyPrefix,"-").concat(ju.SECONDARY),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(Gt.familyPrefix,"-").concat(ju.PRIMARY),fill:"currentColor",d:a[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:a}}}}ln({},D9,{cx:"256",cy:"364",r:"28"}),ln({},wS,{attributeName:"r",values:"28;14;28;28;14;28;"}),ln({},ub,{values:"1;0;1;1;0;1;"}),ln({},D9,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),ln({},ub,{values:"1;0;0;0;0;1;"}),ln({},D9,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),ln({},ub,{values:"0;0;1;1;0;0;"});var wX=function(){function n(){(function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function(n,e,t){e&&NA(n.prototype,e)}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var h=i.reduce(this._pullDefinitions,{});Object.keys(h).forEach(function(f){t.definitions[f]=ln({},t.definitions[f]||{},h[f]),lS(f,h[f]),pS()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(a){var h=i[a],f=h.prefix,v=h.iconName,b=h.icon;t[f]||(t[f]={}),t[f][v]=b}),t}}]),n}();function o5(){Gt.autoAddCss&&!I9&&(function(n){if(n&&Xc){var e=si.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=si.head.childNodes,r=null,i=t.length-1;i>-1;i--){var a=t[i],h=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(h)>-1&&(r=a)}si.head.insertBefore(e,r)}}(function(){var n="fa",e=UA,t=Gt.familyPrefix,r=Gt.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(t!==n||r!==e){var a=new RegExp("\\.".concat(n,"\\-"),"g"),h=new RegExp("\\--".concat(n,"\\-"),"g"),f=new RegExp("\\.".concat(e),"g");i=i.replace(a,".".concat(t,"-")).replace(h,"--".concat(t,"-")).replace(f,".".concat(r))}return i}()),I9=!0)}function T9(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return mh(r)})}}),Object.defineProperty(n,"node",{get:function(){if(Xc){var r=si.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function mb(n){var e=n.prefix,t=void 0===e?"fa":e,r=n.iconName;if(r)return gS(xS.definitions,t,r)||gS(O1.styles,t,r)}var xS=new wX,I9=!1,DS_transform=function(e){return function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(r,i){var a=i.toLowerCase().split("-"),h=a[0],f=a.slice(1).join("-");if(h&&"h"===f)return r.flipX=!0,r;if(h&&"v"===f)return r.flipY=!0,r;if(f=parseFloat(f),isNaN(f))return r;switch(h){case"grow":r.size=r.size+f;break;case"shrink":r.size=r.size-f;break;case"left":r.x=r.x-f;break;case"right":r.x=r.x+f;break;case"up":r.y=r.y-f;break;case"down":r.y=r.y+f;break;case"rotate":r.rotate=r.rotate+f}return r},t):t}(e)},TS=function(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:mb(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:mb(i||{})),n(r,ln({},t,{mask:i}))}}(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.transform,r=void 0===t?nl:t,i=e.symbol,a=void 0!==i&&i,h=e.mask,f=void 0===h?null:h,v=e.maskId,b=void 0===v?null:v,x=e.title,T=void 0===x?null:x,z=e.titleId,H=void 0===z?null:z,X=e.classes,ve=void 0===X?[]:X,xe=e.attributes,je=void 0===xe?{}:xe,ct=e.styles,Nt=void 0===ct?{}:ct;if(n){var ot=n.prefix,tn=n.iconName,Dn=n.icon;return T9(ln({type:"icon"},n),function(){return o5(),Gt.autoA11y&&(T?je["aria-labelledby"]="".concat(Gt.replacementClass,"-title-").concat(H||n5()):(je["aria-hidden"]="true",je.focusable="false")),rb({icons:{main:db(Dn),mask:f?db(f.icon):{found:!1,width:null,height:null,icon:{}}},prefix:ot,iconName:tn,transform:ln({},nl,r),symbol:a,title:T,maskId:b,titleId:H,extra:{attributes:je,styles:Nt,classes:ve}})})}});const kX=["*"],RX=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let zX=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FX=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...t){for(const r of t){const i=Object.keys(r).map(a=>r[a]);this.addIcons(...i)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VX=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[c.TTD]}),n})(),HX=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[c.TTD],ngContentSelectors:kX,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2}),n})(),IS=(()=>{class n{constructor(t,r,i,a,h){this.sanitizer=t,this.config=r,this.iconLibrary=i,this.stackItem=a,this.classes=[],null!=h&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=null==this.icon?this.config.fallbackIcon:this.icon,t){const i=this.findIconDefinition(r);if(null!=i){const a=this.buildParams();this.renderIcon(i,a)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);if("icon"in r)return r;const i=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);return null!=i?i:((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?DS_transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...RX(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const i=TS(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(K1),c.Y36(zX),c.Y36(FX),c.Y36(VX,8),c.Y36(HX,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(c.Ikx("innerHTML",r.renderedIconHTML,c.oJD),c.uIk("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[c.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),BX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const UX=["campo"],jX=["vs"],ZX=["ResultadoFinal"];function qX(n,e){if(1&n&&(c.TgZ(0,"div"),c.TgZ(1,"div",17),c._UZ(2,"img",18),c.TgZ(3,"div",19),c.TgZ(4,"h3"),c._uU(5),c.qZA(),c.TgZ(6,"p"),c._uU(7),c._UZ(8,"fa-icon",20),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&n){const t=e.$implicit,r=c.oxw();c.xp6(1),c.s9C("id",t.id),c.xp6(1),c.s9C("src",t.sprites.front_default,c.LSH),c.xp6(3),c.hij("",t.name," "),c.xp6(2),c.hij("",t.id," "),c.xp6(1),c.Q6J("icon",r.icono)}}function GX(n,e){if(1&n&&c._UZ(0,"img",21),2&n){const t=c.oxw();c.s9C("src",t.campoCartaMia.sprites.back_default,c.LSH)}}function WX(n,e){if(1&n&&(c.TgZ(0,"p"),c.TgZ(1,"strong"),c._uU(2),c.qZA(),c._UZ(3,"fa-icon",20),c._uU(4),c.qZA()),2&n){const t=c.oxw();c.xp6(2),c.Oqu(t.campoCartaMia.id),c.xp6(1),c.Q6J("icon",t.icono),c.xp6(1),c.AsE(" ",t.campoCartaMia.types[0].type.name,"",null==t.campoCartaMia.types[1]?null:t.campoCartaMia.types[1].type.name,"")}}function $X(n,e){if(1&n&&c._UZ(0,"img",21),2&n){const t=c.oxw();c.s9C("src",t.campoCartaEnemiga.sprites.front_default,c.LSH)}}function KX(n,e){if(1&n&&(c.TgZ(0,"p"),c.TgZ(1,"strong"),c._uU(2),c.qZA(),c._UZ(3,"fa-icon",20),c._uU(4),c.qZA()),2&n){const t=c.oxw();c.xp6(2),c.Oqu(t.campoCartaEnemiga.id),c.xp6(1),c.Q6J("icon",t.icono),c.xp6(1),c.AsE(" ",t.campoCartaEnemiga.types[0].type.name,"",null==t.campoCartaEnemiga.types[1]?null:t.campoCartaEnemiga.types[1].type.name,"")}}function YX(n,e){if(1&n&&(c.TgZ(0,"p"),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.AsE("",t.contadorMio,"-",t.contadorEnemigo,"")}}function QX(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"div",17),c._UZ(2,"img",18),c.TgZ(3,"div",19),c.TgZ(4,"h3"),c._uU(5),c.qZA(),c.TgZ(6,"p"),c._uU(7),c._UZ(8,"fa-icon",20),c.qZA(),c.TgZ(9,"button",22),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw().atacar(a)}),c._uU(10,"Atacar"),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&n){const t=e.$implicit,r=c.oxw();c.xp6(1),c.s9C("id",t.id),c.xp6(1),c.s9C("src",t.sprites.front_default,c.LSH),c.xp6(3),c.hij("",t.name," "),c.xp6(2),c.hij("",t.id," "),c.xp6(1),c.Q6J("icon",r.icono)}}function JX(n,e){if(1&n&&(c.TgZ(0,"div",11),c._UZ(1,"fa-icon",23),c._uU(2),c._UZ(3,"fa-icon",23),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("icon",t.iconoUsuario),c.xp6(1),c.AsE("",t.historicoVictorias,"-",t.historicoDerrotas,""),c.xp6(1),c.Q6J("icon",t.iconoMaquina)}}const eee=function(){return["Reglas:","Gana el pokemon que mas poder tenga.\n      En el segundo turno se activan los tipos de planta, fuego y agua.     \n      Planta gana a agua, agua a fuego y fuego a planta.\n      Si se enfrentan pokemon con tipo con otro que no, gana el del tipo.\n      Si se entrentan dos del mismo tipo gana el que mas poder tenga.","info"]};let tee=(()=>{class n{constructor(t,r,i){this.servicio=t,this.renderer=r,this.router=i,this.iconoMaquina=TA,this.iconoUsuario=kA,this.icono=DA,this.cartasEnemigas=[],this.cartasMias=[],this.campoCartaMia={},this.campoCartaEnemiga={},this.campoCartaImagen=!1,this.cartasRojas=[],this.cartasAzules=[],this.cartasVerdes=[],this.resultado="",this.contadorMio=0,this.contadorEnemigo=0,this.turno=1,this.resultadoFinal="VICTORIA",this.numerosSacados=[],this.mostrarHistorico=!1,this.historicoVictorias=localStorage.getItem("victoriaPokemonCartas"),this.historicoDerrotas=localStorage.getItem("derrotaPokemonCartas")}ngOnInit(){let t;for(let r=0;r<6;r++){for(t=this.getRandom(1,898);this.numerosSacados.includes(t);)t=this.getRandom(1,898);for(this.numerosSacados.push(t),this.servicio.getOneCarta(t).subscribe(i=>{i.name=i.name.charAt(0).toUpperCase()+i.name.slice(1),i.types[0].type.name=i.types[0].type.name.charAt(0).toUpperCase()+i.types[0].type.name.slice(1),this.cartasMias.push(i),console.log(this.cartasMias)}),t=this.getRandom(1,898);this.numerosSacados.includes(t);)t=this.getRandom(1,898);this.numerosSacados.push(t),this.servicio.getOneCarta(t).subscribe(i=>{i.name=i.name.charAt(0).toUpperCase()+i.name.slice(1),i.types[0].type.name=i.types[0].type.name.charAt(0).toUpperCase()+i.types[0].type.name.slice(1),this.cartasEnemigas.push(i)})}}getRandom(t,r){return Math.floor(Math.random()*(r-t+1)+t)}atacar(t){this.campoCartaEnemiga=this.cartasEnemigas[this.getRandom(0,this.cartasEnemigas.length-1)],this.campoCartaMia=t,this.campoCartaImagen=!0,this.cartasMias=this.cartasMias.filter(r=>r.id!=this.campoCartaMia.id),this.cartasEnemigas=this.cartasEnemigas.filter(r=>r.id!=this.campoCartaEnemiga.id),this.ganador()}ganador(){if(this.cartasRojas.includes(this.campoCartaMia)||this.cartasRojas.includes(this.campoCartaEnemiga)||this.cartasAzules.includes(this.campoCartaMia)||this.cartasAzules.includes(this.campoCartaEnemiga)||this.cartasVerdes.includes(this.campoCartaMia)||this.cartasVerdes.includes(this.campoCartaEnemiga)?this.ganadorTipoCampo():this.campoCartaMia.id>this.campoCartaEnemiga.id?(this.resultado="VICTORIA",this.contadorMio++):(this.resultado="DERROTA",this.contadorEnemigo++),this.setStyleCampo(),this.buscarTipo(),6==this.turno){if(this.contadorMio>this.contadorEnemigo){if(null==localStorage.getItem("victoriaPokemonCartas"))localStorage.setItem("victoriaPokemonCartas","1");else{let t=localStorage.getItem("victoriaPokemonCartas");null!=t&&localStorage.setItem("victoriaPokemonCartas",Number(t)+1+"")}this.deleteSwal.title="VICTORIA",this.deleteSwal.icon="success"}if(this.contadorMio<this.contadorEnemigo){if(null==localStorage.getItem("derrotaPokemonCartas"))localStorage.setItem("derrotaPokemonCartas","1");else{let t=localStorage.getItem("derrotaPokemonCartas");null!=t&&localStorage.setItem("derrotaPokemonCartas",Number(t)+1+"")}this.deleteSwal.title="DERROTA",this.deleteSwal.icon="error"}this.contadorMio==this.contadorEnemigo&&(this.deleteSwal.title="EMPATE",this.deleteSwal.icon="warning"),this.deleteSwal.text=this.contadorMio+"-"+this.contadorEnemigo,this.deleteSwal.fire()}this.turno++}setStyleCampo(){this.renderer.setStyle(this.divvs.nativeElement,"color","black"),this.renderer.setStyle(this.divcampo.nativeElement,"background-color","VICTORIA"===this.resultado?"lightgreen":"red")}buscarTipo(){this.cartasRojas=this.cartasMias.filter(t=>{var r;return"Fire"==t.types[0].type.name||"fire"==(null===(r=t.types[1])||void 0===r?void 0:r.type.name)}).concat(this.cartasEnemigas.filter(t=>{var r;return"Fire"==t.types[0].type.name||"fire"==(null===(r=t.types[1])||void 0===r?void 0:r.type.name)})),this.cartasVerdes=this.cartasMias.filter(t=>{var r;return"Grass"==t.types[0].type.name||"grass"==(null===(r=t.types[1])||void 0===r?void 0:r.type.name)}).concat(this.cartasEnemigas.filter(t=>{var r;return"Grass"==t.types[0].type.name||"grass"==(null===(r=t.types[1])||void 0===r?void 0:r.type.name)})),this.cartasAzules=this.cartasMias.filter(t=>{var r;return"Water"==t.types[0].type.name||"water"==(null===(r=t.types[1])||void 0===r?void 0:r.type.name)}).concat(this.cartasEnemigas.filter(t=>{var r;return"Water"==t.types[0].type.name||"water"==(null===(r=t.types[1])||void 0===r?void 0:r.type.name)})),this.anadirTipo(this.cartasRojas,"cartaRoja"),this.anadirTipo(this.cartasVerdes,"cartaVerde"),this.anadirTipo(this.cartasAzules,"cartaAzul")}anadirTipo(t,r){for(let i=0;i<t.length;i++)this.renderer.addClass(document.getElementById(t[i].id),r)}ganadorTipoCampo(){(this.cartasAzules.includes(this.campoCartaMia)||this.cartasRojas.includes(this.campoCartaMia)||this.cartasVerdes.includes(this.campoCartaMia))&&(this.cartasAzules.includes(this.campoCartaEnemiga)||this.cartasRojas.includes(this.campoCartaEnemiga)||this.cartasVerdes.includes(this.campoCartaEnemiga))?this.cartasRojas.includes(this.campoCartaMia)&&this.cartasRojas.includes(this.campoCartaEnemiga)||this.cartasAzules.includes(this.campoCartaMia)&&this.cartasAzules.includes(this.campoCartaEnemiga)||this.cartasVerdes.includes(this.campoCartaMia)&&this.cartasVerdes.includes(this.campoCartaEnemiga)?this.campoCartaMia.id>this.campoCartaEnemiga.id?(this.resultado="VICTORIA",this.contadorMio++):(this.resultado="DERROTA",this.contadorEnemigo++):(this.cartasAzules.includes(this.campoCartaMia)&&(this.cartasRojas.includes(this.campoCartaEnemiga)?(this.resultado="VICTORIA",this.contadorMio++):(this.resultado="DERROTA",this.contadorEnemigo++)),this.cartasRojas.includes(this.campoCartaMia)&&(this.cartasVerdes.includes(this.campoCartaEnemiga)?(this.resultado="VICTORIA",this.contadorMio++):(this.resultado="DERROTA",this.contadorEnemigo++)),this.cartasVerdes.includes(this.campoCartaMia)&&(this.cartasAzules.includes(this.campoCartaEnemiga)?(this.resultado="VICTORIA",this.contadorMio++):(this.resultado="DERROTA",this.contadorEnemigo++))):this.cartasAzules.includes(this.campoCartaMia)||this.cartasRojas.includes(this.campoCartaMia)||this.cartasVerdes.includes(this.campoCartaMia)?(this.resultado="VICTORIA",this.contadorMio++):(this.resultado="DERROTA",this.contadorEnemigo++)}reinicio(){this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/cartas"])})}historico(){this.mostrarHistorico=0==this.mostrarHistorico}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(G6),c.Y36(c.Qsj),c.Y36(hr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-poke-cartas"]],viewQuery:function(t,r){if(1&t&&(c.Gf(UX,5),c.Gf(jX,5),c.Gf(ZX,5)),2&t){let i;c.iGM(i=c.CRH())&&(r.divcampo=i.first),c.iGM(i=c.CRH())&&(r.divvs=i.first),c.iGM(i=c.CRH())&&(r.deleteSwal=i.first)}},decls:28,vars:14,consts:[[1,"contenedor"],[1,"mimano"],[4,"ngFor","ngForOf"],[1,"campo"],["campo",""],[1,"vsTotal"],[1,"cartaCampotipo"],["class","cartaCampo","alt","No hay imagen",3,"src",4,"ngIf"],[4,"ngIf"],[1,"vs"],["vs",""],[1,"botonera"],["mat-stroked-button","",1,"boton",3,"swal"],["mat-stroked-button","",1,"boton",3,"click"],["class","botonera",4,"ngIf"],["icon","success",3,"title","text","confirm"],["ResultadoFinal",""],[1,"cardo",3,"id"],["alt","No hay imagen",3,"src"],[1,"container"],[1,"iconoClase",3,"icon"],["alt","No hay imagen",1,"cartaCampo",3,"src"],["mat-raised-button","",1,"botonAtacar",3,"click"],[3,"icon"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.YNc(2,qX,9,5,"div",2),c.qZA(),c.TgZ(3,"div",3,4),c.TgZ(5,"div",5),c.TgZ(6,"div",6),c.YNc(7,GX,1,1,"img",7),c.YNc(8,WX,5,4,"p",8),c.qZA(),c.TgZ(9,"h2",9,10),c._uU(11,"VS"),c.qZA(),c.TgZ(12,"div",6),c.YNc(13,$X,1,1,"img",7),c.YNc(14,KX,5,4,"p",8),c.qZA(),c.qZA(),c.TgZ(15,"h1"),c._uU(16),c.qZA(),c.YNc(17,YX,2,2,"p",8),c.qZA(),c.TgZ(18,"div",1),c.YNc(19,QX,11,5,"div",2),c.qZA(),c.TgZ(20,"div",11),c.TgZ(21,"button",12),c._uU(22,"Reglas"),c.qZA(),c.TgZ(23,"button",13),c.NdJ("click",function(){return r.historico()}),c._uU(24,"Historico"),c.qZA(),c.qZA(),c.qZA(),c.YNc(25,JX,4,4,"div",14),c.TgZ(26,"swal",15,16),c.NdJ("confirm",function(){return r.reinicio()}),c.qZA()),2&t&&(c.xp6(2),c.Q6J("ngForOf",r.cartasEnemigas),c.xp6(5),c.Q6J("ngIf",r.campoCartaImagen),c.xp6(1),c.Q6J("ngIf",r.campoCartaImagen),c.xp6(5),c.Q6J("ngIf",r.campoCartaImagen),c.xp6(1),c.Q6J("ngIf",r.campoCartaImagen),c.xp6(2),c.Oqu(r.resultado),c.xp6(1),c.Q6J("ngIf",r.campoCartaImagen),c.xp6(2),c.Q6J("ngForOf",r.cartasMias),c.xp6(2),c.Q6J("swal",c.DdM(13,eee)),c.xp6(4),c.Q6J("ngIf",r.mostrarHistorico),c.xp6(1),c.s9C("title",r.resultadoFinal),c.hYB("text","",r.contadorMio,"-",r.contadorEnemigo,""))},directives:[vr,Jn,O4,$Q,P4,IS],styles:[".mimano[_ngcontent-%COMP%]{border:1px solid red;display:flex;justify-content:center}.cardo[_ngcontent-%COMP%]{height:250px;width:110px;box-shadow:0 4px 8px #0003;transition:.3s;text-align:center;margin-left:10px;margin-right:10px}.cardo[_ngcontent-%COMP%]:hover{box-shadow:0 160px 68px #0003;background-color:#f08080}.container[_ngcontent-%COMP%]{padding:2px 16px}.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column}.campo[_ngcontent-%COMP%]{background-color:#000;text-align:center}.cartaCampo[_ngcontent-%COMP%]{width:8em}.vs[_ngcontent-%COMP%]{text-align:center;color:#fff}.vsTotal[_ngcontent-%COMP%]{display:flex;justify-content:center}.cartaRoja[_ngcontent-%COMP%]{background-color:tomato;border:2px solid black}.cartaVerde[_ngcontent-%COMP%]{background:greenyellow;border:2px solid black}.cartaAzul[_ngcontent-%COMP%]{background:#8888df;border:2px solid black}.botonAtacar[_ngcontent-%COMP%]{border:.5px solid black;color:#fff;background-color:#070707cb;font-weight:600;width:100%}.botonAtacar[_ngcontent-%COMP%]:hover{background-color:#e7e7d3;color:#000}.boton[_ngcontent-%COMP%]{border:.5px solid black;color:#fff;background-color:#1976d2;font-weight:600;width:100%}.boton[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;color:#000}.botonera[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),n})();const nee=["ResultadoFinal"];function ree(n,e){if(1&n&&(c.TgZ(0,"button",23),c._uU(1,"Jugar"),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("disabled",!t.formulario.valid)}}function iee(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",11),c.TgZ(1,"form",12),c.NdJ("ngSubmit",function(){return c.CHM(t),c.oxw().empezar()}),c.TgZ(2,"label",13),c._uU(3," Numero de pokemon:"),c.qZA(),c._UZ(4,"input",14),c._UZ(5,"br"),c.TgZ(6,"label",13),c._uU(7,"Tama\xf1o sopa:"),c.qZA(),c._UZ(8,"br"),c._UZ(9,"input",15),c.TgZ(10,"label",16),c._uU(11," 400 letras"),c.qZA(),c._UZ(12,"br"),c._UZ(13,"input",17),c.TgZ(14,"label",16),c._uU(15," 500 letras"),c.qZA(),c._UZ(16,"br"),c._UZ(17,"input",18),c.TgZ(18,"label",19),c._uU(19," 600 letras"),c.qZA(),c._UZ(20,"br"),c._UZ(21,"input",20),c.TgZ(22,"label",21),c._uU(23," 800 letras"),c.qZA(),c._UZ(24,"br"),c.YNc(25,ree,2,1,"button",22),c.qZA(),c.qZA()}if(2&n){const t=c.oxw();c.xp6(1),c.Q6J("formGroup",t.formulario),c.xp6(24),c.Q6J("ngIf",!t.mostrar)}}function see(n,e){if(1&n&&(c.TgZ(0,"h2"),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.AsE("",t.tiempoMinutos,":",t.tiempoSegundos,"")}}function oee(n,e){if(1&n&&(c.TgZ(0,"div"),c._UZ(1,"img",24),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.s9C("src",t,c.LSH)}}function aee(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"table",25),c.TgZ(1,"tr"),c.TgZ(2,"td",26),c.NdJ("click",function(){const a=c.CHM(t).index;return c.oxw().pulsado(a)}),c._uU(3),c.qZA(),c.qZA(),c.qZA()}if(2&n){const t=e.$implicit,r=e.index;c.xp6(2),c.Q6J("id",r),c.xp6(1),c.Oqu(t)}}let cee=(()=>{class n{constructor(t,r,i){this.servicio=t,this.router=r,this.baseDatos=i,this.sopaLetras=[],this.alphabet=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],this.tamanoLado=0,this.totalPalabras=4,this.palabrasEscondidasCompletas=[],this.palabrasEscondidas=[],this.posicionPalabraEscondida=[],this.utlimasPosiciones=[],this.letrasPulsadas=[],this.aciertos=0,this.mostrar=!1,this.tiempoSegundos=0,this.tiempoMinutos=0,this.formulario=new w1({numeroPokemon:new us("",zr.required),tamano:new us("",zr.required)}),this.logeado={},this.collecionBaseDatos="Records Pokemon"}ngOnInit(){this.baseDatos.obtenerTodos(this.collecionBaseDatos).subscribe(r=>{r.map(i=>{let a=i.payload.doc.data();if(a.email==localStorage.getItem("PokemonUsuarioLogueado"))return a.id=i.payload.doc.id,this.logeado=a,a}),console.log(this.logeado)})}evitarPosicion(t){let r=this.getRandom(1,3),i=1;1==r&&(i=1),2==r&&(i=20),3==r&&(i=21);for(var a=this.getRandom(0,this.tamanoLado-2),h=!1,f=a,v=!1;0==v;){for(;a<f+t.length*i;a+=i)0==this.posicionPalabraEscondida.includes(a)&&0==this.utlimasPosiciones.includes(a)||(h=!0);0==h?v=!0:(h=!1,f=a=this.getRandom(0,this.tamanoLado-2))}let b=[];return b.push(f),b.push(i),b}getRandom(t,r){return Math.floor(Math.random()*(r-t+1)+t)}pulsado(t){0==this.letrasPulsadas.includes(t)&&(console.log(t),this.posicionPalabraEscondida.includes(t)?(document.getElementById(t+"").style.backgroundColor="aquamarine",this.aciertos++):document.getElementById(t+"").style.backgroundColor="black",this.letrasPulsadas.push(t)),this.aciertos==this.posicionPalabraEscondida.length&&(clearInterval(this.interval),4==this.totalPalabras&&400==this.tamanoLado&&(0==this.logeado.SopaLetras||this.logeado.SopaLetras>60*this.tiempoMinutos+this.tiempoSegundos)&&(this.logeado.SopaLetras=60*this.tiempoMinutos+this.tiempoSegundos,this.baseDatos.actualizar(this.collecionBaseDatos,this.logeado,this.logeado.id)),this.deleteSwal.fire())}empezar(){this.totalPalabras=this.formulario.value.numeroPokemon,this.tamanoLado=this.formulario.value.tamano,this.evitarBordes();for(let t=0;t<this.totalPalabras;t++)this.servicio.getOne(this.getRandom(1,898)).subscribe(r=>{this.palabrasEscondidasCompletas.push(r.sprites.front_default),this.palabrasEscondidas=r.name.toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").split("");let i=this.evitarPosicion(r.name);console.log(r.name),console.log(i);for(let a=0;a<this.palabrasEscondidas.length;a++)this.sopaLetras[i[0]]=this.palabrasEscondidas[a],this.posicionPalabraEscondida.push(i[0]),i[0]=i[0]+i[1]}),console.log(this.sopaLetras);for(let t=0;t<this.tamanoLado;t++)this.sopaLetras.push(this.alphabet[this.getRandom(0,this.alphabet.length-1)]);console.log(this.sopaLetras),this.mostrar=!0,this.startTimer()}evitarBordes(){for(let t=19;t<this.tamanoLado;t+=20)this.utlimasPosiciones.push(t);for(let t=this.tamanoLado-20;t<this.tamanoLado;t++)this.utlimasPosiciones.push(t)}reinicio(){this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/sopaLetras"])})}startTimer(){var t=this;return(0,Ee.Z)(function*(){t.interval=setInterval(()=>{t.tiempoSegundos++,60==t.tiempoSegundos&&(t.tiempoSegundos=0,t.tiempoMinutos++)},1e3)})()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(G6),c.Y36(hr),c.Y36(I4))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-sopaletras"]],viewQuery:function(t,r){if(1&t&&c.Gf(nee,5),2&t){let i;c.iGM(i=c.CRH())&&(r.deleteSwal=i.first)}},decls:12,vars:8,consts:[[1,"contenedor"],["class","opcionesInicio",4,"ngIf"],[1,"opciones"],[1,"tiempo"],[4,"ngIf"],[1,"buscadas"],[4,"ngFor","ngForOf"],[1,"wrapper"],["class","default",4,"ngFor","ngForOf"],["title","VICTORIA","icon","success",3,"text","confirm"],["ResultadoFinal",""],[1,"opcionesInicio"],[3,"formGroup","ngSubmit"],["for","",1,"enunciado"],["type","number","formControlName","numeroPokemon"],["type","radio","id","pequenisimo","name","tamano","value","400","formControlName","tamano"],["for","pequeno"],["type","radio","id","pequeno","name","tamano","value","500","formControlName","tamano"],["type","radio","id","mediano","name","tamano","value","600","formControlName","tamano"],["for","mediano"],["type","radio","id","grande","name","tamano","value","800","formControlName","tamano"],["for","grande"],["mat-raised-button","","class","boton","type","submit",3,"disabled",4,"ngIf"],["mat-raised-button","","type","submit",1,"boton",3,"disabled"],["alt","",1,"palabra",3,"src"],[1,"default"],[3,"id","click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.YNc(1,iee,26,2,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.YNc(4,see,2,2,"h2",4),c.qZA(),c.TgZ(5,"div",5),c.YNc(6,oee,2,1,"div",6),c.qZA(),c.qZA(),c.TgZ(7,"div",7),c.YNc(8,aee,4,2,"table",8),c.qZA(),c._UZ(9,"br"),c.qZA(),c.TgZ(10,"swal",9,10),c.NdJ("confirm",function(){return r.reinicio()}),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngIf",0==r.mostrar),c.xp6(3),c.Q6J("ngIf",r.mostrar),c.xp6(2),c.Q6J("ngForOf",r.palabrasEscondidasCompletas),c.xp6(2),c.Q6J("ngForOf",r.sopaLetras),c.xp6(2),c.FAE("text"," ",r.totalPalabras," pokemon  ",r.tamanoLado," letras    Tiempo ",r.tiempoMinutos,":",r.tiempoSegundos," "))},directives:[Jn,vr,P4,R6,D6,Ol,Ad,Il,y0,w0,b0,O4],styles:[".wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:.5fr .5fr .5fr .5fr .5fr .5fr .5fr .5fr .5fr .5fr .5fr .5fr .5fr .5fr .5fr .5fr .5fr .5fr .5fr .5fr;grid-gap:0px;padding-top:50px}table[_ngcontent-%COMP%]{border-collapse:collapse}td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{width:2.5px;border:.5px solid black;padding:0;text-align:center;aspect-ratio:1}h2[_ngcontent-%COMP%]{text-align:center}.buscadas[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;flex-wrap:wrap}.palabra[_ngcontent-%COMP%]{padding:5px}.contenedor[_ngcontent-%COMP%]{padding-left:25%;padding-right:25%}.enunciado[_ngcontent-%COMP%]{font-size:1.25em;color:#000}button[_ngcontent-%COMP%]{border:.5px solid black;color:#fff;background-color:#1976d2;font-weight:600;margin:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;color:#000}.opcionesInicio[_ngcontent-%COMP%]{text-align:center}"]}),n})();const lee=["ResultadoFinal"];function uee(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",6),c.TgZ(1,"label",7),c._uU(2," Numero de parejas:"),c.qZA(),c._UZ(3,"br"),c.TgZ(4,"input",8),c.NdJ("ngModelChange",function(i){return c.CHM(t),c.oxw().totalParejas=i}),c.qZA(),c._UZ(5,"br"),c.TgZ(6,"button",9),c.NdJ("click",function(){return c.CHM(t),c.oxw().empezar()}),c._uU(7,"Jugar"),c.qZA(),c.qZA()}if(2&n){const t=c.oxw();c.xp6(4),c.Q6J("ngModel",t.totalParejas)}}function hee(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",10),c.TgZ(1,"img",11),c.NdJ("click",function(){const a=c.CHM(t).index;return c.oxw().pulsado(a)}),c.qZA(),c.qZA()}if(2&n){const t=e.$implicit;c.xp6(1),c.s9C("name",t),c.s9C("src",t,c.LSH)}}function dee(n,e){if(1&n&&(c.TgZ(0,"h4"),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij("Intentos: ",t.contador,"")}}let fee=(()=>{class n{constructor(t,r,i){this.servicio=t,this.router=r,this.baseDatos=i,this.listaCartas=[],this.listaNumRandon=[],this.listaCartasBack=[],this.urlBack="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMTEhUTExMWFhUXFxgXGBgYGBgYHRgYGBgXGhcYGBkYHSggGholHRcXIjEhJSkrLi4uGB8zODMtNygtLisBCgoKDg0OGxAQGy0lHyYtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLf/AABEIAQoAvgMBIgACEQEDEQH/xAAcAAACAgMBAQAAAAAAAAAAAAAFBgMEAQIHAAj/xABHEAABAgQDBQUFBAcGBgMBAAABAhEAAwQhBRIxBkFRYXETIjKBkVKhscHRB0Jy8BQjYoKSotIzc7LC4fEWJENEY5M0U1QV/8QAGgEAAgMBAQAAAAAAAAAAAAAAAwQAAQIFBv/EADQRAAEEAAUBBQcDBQEBAAAAAAEAAgMRBBIhMUFRBRMyYYEicZGhsdHwFOHxIzNCUsEVBv/aAAwDAQACEQMRAD8AFfaFt5OnzlyZMxSJKFFPdJBWQWJJG54RVTlG5UT5mNZqnUepjCEvaO+1scTQKSBtxW3anifUxjtDxPqYnFMOJ90RqlAcSfL4tGy5g3HyVBpK07Q8T6mPdoeJ9TBPCcKEwFSyQkcG91orzqROZkktzI+kV3jOnyV5CqnaHifUxntDxPrFsUSeJ9R9IvzcHlolpKirtFXAcWTxIaKL4+nyUyOQUzDxPrGO0PE+pg5JwJJ1KhzJA9zRak7OSjbMsnkQB7xEMkfT5K+7cljtDxPqYz2h4n1MNf8AwzJJYKmN1H9Mbq2Xkj70z1T/AExnvo+nyU7pyUe0PE+pj3aHifUwzHZyXuK/Uf0xsNmpQ1Uv1H0i++j6fJTu3JX7VXE+pjPaq4n1MMS8Albiv1H9Maf8Po4r9R9InfR9Pkp3bkA7VXE+pj3aq4n1MMB2fRxX6j6RGcCRxV6j6RXfR9Pkp3bkD7ZXE+pj3anifUwbOCI4r9R/TG4wOXv7TqCCP8MX30fT5Kd25AhNVxPqY92quJ9TDAMAlbzMbiCP6Y2/4dle1M9U/wBMX3sfT5Kd25BKbEp0sgomrSRvSoj5x2D7NPtAVPCpFSp1oTmSs/eS4BfmHHWOVYzhiJSUqSVF1NduBO4coH09QUFxazfn0jEkccrNlAXMKhmanqYnpk2eIF6nqYmC2SOkbkqgT+aKm7qVS90bCW7PEclfrE1KM0wJHGBZhVlbrWkc8ElhqdSflxgOJbm5Ye8wQxaYHCXAAiCTKtA7vVEIVrCqZJU5DpTdT6W3RKucqYsq0G5tw3RLMRklBO9dz04RmmRGbV0ppUrlFxXdASNTqYyhkIzqYPo/xignEJabqV5sW0fz03Rkqyi6AwaMG8VKerEzS3EHUdYkq6kS0vqdAOJ4RmjsoTpahrqwS2ADqOg5DVRO4RmSrtAFeo4HeIr0FPLYzqhXiulOpVwIT7A3PbeedjAKJal5spEkv3lFrAd0j2jus452gTZmuJaAdOeD5DrX36LRaQATzxzXVTiWIllUi1eFPrBBc6XL8KXPEwMq8cu2YDkNw5gRuydlWispw1vGUiNuwkDUv6QG/TQotmN+v0ieWsRMpUvoieaSNEPGP0lAPgA8oikyzuSeVjFxCD95D9UkGKUWJc1BHgESpkIOiR04xJT5Ro45fCJZiHNi0aVpR+0CkSmTLUkM8xv5FQlISWdrQ8faG/YSn/8As/yKhESqHIdY0vKPaWq9T1jVS3YcI2XqesayhvjOJ8ICpm5ROgw9RYAFzwBKj0AvDPh+yEw3ICH9o51eibD1gfsvinYrBPhZlc0Hf1SW8usdDpq2XMKghaVFLOxdndrix0OnCPNdtdoYvDENhbTavNV+R8hqutgcLDKLedb2293mUATskB/1T5JSBFHENmVoGZBCm4WPr+RDJj1cuTKzoAJcC7sHs9tbtArANo1zZglzEgFQdJFtxLEOdwPpHLwuN7UkiOID7aNwa430TUsGEa/uqonn97S7+lFSnWAVMw3aa23Eb49X1SpYQEt3ixVqdU6cNYsY6kIqVAaBQ04lJt8Ip1Ku0TZKnDsRcPbVgdCI9dFM2SNsh0BAPuXHe0tcWbkIrhGGCoJKpxzAORlUSA5A767bns+sVKzC3nmShyy+6/4dSeAuT0i5sMsiYoKLkoVvfRaW9xhskUCUzFzG7y2D8ANw629Bwjz2N7VlweLeC4kZfZHFnrXTf5LowYRk8LTVG9T5BKmJYSumIWhRUlrk+9x7PLdu5DJyFz5yVICyQnwBiH3sdAnmW8oN7R4xnCpUu6AwmKFwbgM+5LsH39NZkLNPQ9pL8czKc28Zzb0TYc/OGoMbiI8M10w/qONNvz6/8QpIInSkMPsgWf2/OEPTs7UBlBKQQXHefTRwzHpeNMRxepSlSJj5msWAI5hrH0B0jODoUVmeZyxKlsVrJPfV7IGpB0YvZt5EUMfxNc9RUkNuSPZTxPFXw8rs4aXEPnLJCHNA1IFUeg8+a6b9EKVkTY8zbB9935q1gODGekkqZsrlgSVFypyfL1iVGEBNSmQS4LEkDLYBSjp+FvOD2yUppD+0tR9GR/li6aD/AJgTn0QUtxJIv5AEfvRxcV23LHipWZvZAcB7xonocCx8LHVqaJ92/wBEr4zRJkTkZB3SxZRJ0UNX6xdInN3SE/hDRvtrLtLVv7yfcTFP9KqprFICEq8PhTm6Zrq6gNHY7LxTX4JskruosnzPqk8VDlnc1g9AhGHVlRNP9otSyTbNuAFgDbfBIYhPl/2ku3MEepBIEDk0SqeagzQoJzpUQwI7qkks29km2+HnFpYmSFhJBBS4I6WI8oFju0u4kjyAOY7n9x+Baw+EMjXWSHBBafaKSbEKBGrBwDw4njYb4M0WISl2TMSTwdj/AAm8K+y+HImrWVpcBILH2lWB8gg+sexXC5f6SmRLBZQAUCX1uW6JBPnDf6qE4j9OLurvjqgiF/dd6aq681Z+0ofqJX97/kVHPEw+faE4kSh/5LfwKhCTHWw/9tJyeJeXqesYSI8vU9YyjSJiPCPzhUzcq5Tzgkcxp9IYNlsT7OcCo2PdVu7qtD5Fj0hbRLcgDzgrisjsloWzJWlj8D7mPkYWniEsTo37EV+/ojRPLHhzdxqumYnTdpKWj2kkee6FXCaL9FH6RPDKuJctxmKiD6C59STug/s5X9rJSSXUnuK5kAMfMEH1hM2tK+2mOo6huSSGAHAPwjx/ZMUgmkwTnUNz1NcDpYq/JdvGPbkbO0e716+5FcFou2MyonDMkEkjcpZuQf2QCm3Ple5hWMy3mdscpBISljlCeAADP1jfYyrSqSpFnBKm4pUBf1cHy4xdXgEgrzFJJ4Pb3axeMxUbcRJFiQaFBtcAbeWvJ5VQwv7tj4iL1JvklAMWIlmTVSxlKi7cWc+8D0V0hqrZ8o/qlLCTMBYOxI0IB4++F3HKhNRPlSEEZEqZRGjnUDokEdS26IdspSlT0JQAVKSAAWa6ha9o1+lOJdDHJbXU4jqBu37/AMqu+7oPc3UWB5E1qpcQ2XWgEy1unekuNC4Ftw5vE+BYjKXK/R57Bu6M1gQ7s+5Q0bp5AaHaOfTqyTAWH3Jjs3I6pHqIMAUlUXBMqYdxZj+E+FXx5Q1iYcS2Mx4m3NGoe3dpHJG/5uhRyRF2aGgeWnY+7hG6nCZBShKrS5eiQopT1JBueZ4niYB7R1VMpIRKAKk2BQAEpHXQ9B5wFlYaVzTLSoJylTkpcsCBYWEUMTkdlOIJXlCWClDUkByGDb90NYPskMc2V0rncgbb62fz1QZ8ZmBYGAcE77J6wZC5FKpa1OMpmJRuSCH6udSN3q8lLjgFL2y7lLJUBvXYW4Avm6GF2s2sEySqVlSnMAlwprWfukcOcBJNZmSzlirw7swBY+hPryhdvYjsSXvnADi8HT/Xnb3orscIg1seoDa9U4VAFRXdmq6JQ03Fgkn1KkjomK9XXzJNSZhTmDFLcBwB3ae+K/bqkTZVSzoWhJV+8kZg53uzc084YBjVKoZitP7wOb0Z/SFHF8WXJHnZly0ODz5gorQ1927K7Nmv0094VDEFqm0s2bMTlu8tJ1DMB6n4Rc2fqAZMqUrxKQs/uJXlHuUIGV9eaxaZEpwjxKUbEhLXbgHFtSW0aLdKQK7s0+GXT5B/Eg/BoDiGFuHLHtyu1fl/1AFD1PN6nlEicO8zA2PDfU3ZVvZ+hMlCyq2Zaj+6NPmfOAeCqM2omTuLt+9ZPmEgfxQb2nq8lOoDVfcHnr/K8CcJkZZQ9o94+enuaOh2CHyiTEv3caHpv/wJftAhuWJuw1QzbtasiAoEd/f+EwmiHDbWcTKlgnRe/d3TChHrIP7a40niWFanrHk7oys3PWMoDtFT7BUzcqejX32MNWMSBMkNvABHUfkiE6RZYPOHCpnd0NwgTDmbRRNlrsNiWWYEE2X3D+IeA/FPUxf22pu8lftAp8xcfCFamppnbESklT3DEBmu7lmYxbSiZMU6134uVq/iVp6Rzj2deNbiQaIFHz4+lJsYn+gYiPctqfDalDTJKStLuCksoP7/AEcQTQmund1ZWhDXK1ABt/dSxV0MHcETllgAWFhzg3R4dnBUuyN/Pl0ht7Iybc0GuoBQmucBQJ+JXPabDKpMwrlSpqgk91YSALEsRmZPxgph+F1c6ciZODZSCSpSSWBdglAaH3vTO6hJYWAAixJwwS7rWAfZHePut74pzm3mIF/P4qC6q9ECrcMlzE5ZiAoc9R0Oo8oTcY2VMsFVOt070L+R0Pm3WHuvnC+UE9YWsRVMOYAat+RBQL1KpyX8BmrQslSMtiL8S27yguqpzFyXGgitKo5hLkEczGsyamXqHMabqsbKeuWhw0pAI+9lDjzaANZhtwqXlBckueb25axLXYiVEtbpAyZUk6kxos5WMwVw4lPSnKc2UWYKCgOgLgRXkqSoE94MmwJIch+B10ipMWd+kRsd2kDDA26A130CsvLt0SwjFF0xdILsQXAIYkHjyEMOy1f2tUqYSHUlT2a/csATwEJxDPryH1jSRMULBuLHjCuKwbJmuaQAXCr5Rop3McDwDdJ42zq3mIl7khz1WfiEgnziGTXhWhaF2mrFCYha0ZglQKgWXmFgQyreFxflBepr5S5SQmnyzHRmWMqXypUFZQnRyoFmbuiLwmF/TwthAuufr+dFJp+9kL+qi2sqM0qXxz/5VQriC+NzgqWi5cKuDusYDpjpRCmUlXn2l5epiWmG/lER1PWJJRsBxi5dA1Uzlap184YO07g6QDpkEkABy8MVUgS0BLus+LlyELRjVF3VjZ0/rieEtXxEVZSm84k2ZP61v2FfFMGMAwfMUKUnMVnLKl+2RqtX/jT74JI+iSo0aBMuzOHGYlIALAXPHpzhuqKNCMomFkgWQnU9eUWaSSKaWlA70wi5/wBBoOAikiSVKKi5Ud/y6Rz3SF5vhHApY/SSe6gBCOCfrviOfSF+Ai3MWiUl1cIRNo9ublMnvH2tw6cYE6VrNUaKF8hpoTSuRKTdReB9RjNIjUofqI5bX4pNmnvzFK5Ow9BaKYXAHYs8D5p1vZ4/yd8F1CZjlMqwKfURVm01PN0brCDImQQkLOot0tA//QLNx8Cm2djMkHsv18wi9fsm4eWRCtX4KuXrDLS4nMRrcQcp6mVUJYhL89Y6OHxzJvP6rlYzs2XDauGnUbLmiab2ol7AQzY7gKkd5IccoXV2LGOxHkIsLlOBB1VKbS7wfWITLU7sIurU0Z7SMOiZ7lA4ql2ihG6pix4TEi0Zt8QMQYEQRyaVgqOpmlQD6v8AKIkxNV6DrECYLGKasu3Xl6mJJQ8PSIlRLJuU9IqbwhW3dM+zeH5ZMypUPC4R+LjA8JUsgBypSmHMn/eHpNEBQhAH3AfMhzAfZvD2noUR4SVegJHvAhdrtCUYt2Cxsph716ZT2AWFK5Juo9LfCOkbM0mXPUlLFXclJ9iUPCBwfU9YRti5Y7aYvetSZXktRK/cI6yAE8kjSFcS43SIwaKBKFFyRcxFMmiUhzrF1Mx3O6ELbPFipXZJOvi6cPOE5ZRG0uPCaw8DppBG3lBNpsWmVBUElpY/m/0hLq5oSW1J0AuT5QwY7iaJMlhru5mE/BkVUyb2kiWuYsFyQjMAeBfujoYQga+Ylzl2sZNHhIxFGNfzfzRmRgFZMTmTTTSniAPg8U50haCyklJG4ggjqDDVhv2nV1LMEuqllrOlacpbiLadLQ17WVdJiFGKmUU50sCLBQfceN/jBnsyiwuZFi3F1O5XK5SoPYNNQ4CoAhMTylkGFJG2F3cO8tTdi1LLAzILiA8uaUl0m4iAVZIiPPC4Ba7MNF0m5CzK7UHqnnBa1M5OVTPvELe1OBmUrMB3Tof9YpUVYZagR+RHSaGaipk5FpCgR5+UejwOMOWz6/deN7TwIikpvhO329FyAojVUt4NbRYMuQpWXvIG/eB+0PnAPtt2+O42RjwuKWkFarlsIheNpxJ0iMJfd+eUCcbOi0FDVpsIgTE9VoOsQJjbfCqO68rWJJdspiIxuNBAsR4QtR7rs9GoKlAbikfCIpVIELTwJb1BgXgVbmpkKe4AB6jWC66gKSCNQQYR1TSobMysi1vqialXuUI6Ni5PdbfeFCjpGqQoeGYAfMXH55w51ac8tKt8BmNuBVjZV66bklExymgwyqxKfMNP3ZYUxmq0YWGQb+sdC21tSrTmy9xQzEs1jcndAjYHGKhNFKQimTKQAf1k0kZw9iiUkZjazkgFrPCsrA4C0xDiHw3kNE6X5fukba7YgSaumpu3WtU261H7ouVZRySkmOs0dDIp5SJUlCU5R4WBtxvv5m51jlf2g4zNl4lIqFstKQCGGUEB0rTcm+U8fvCD87a3tZeaRVSEAi/aDvp4WKgxA4pMHw7RlSeILiVS2+KainqwpIzUq5ZQvhnCMyP5yPIbxHPtlFpNTKRMvLUtIUl7EE3eCG0WPJMn9FkqzpK+0mzC7zVu+puQ933sNwvR2bwrtSVkqASQAQW72p9LesZlIJVxtyil3er+zKgX4UKlnilah84B132SteTUq5BYB94vFKix3ERpWLVyXLkqHuQD74OUO0uJDxClm8imZJP8QUse6Fi0FMtkc3wmkk4nsZX07lUkTE+1LL/yn6wBz3yl0q9lQKT6GO1ytsFpH/MUU5A3rklNQn0Q0z+SMTBheJgozSlr3o8E1PVCgFpPUQJ0DTton4e05meLUea4osw5bCYh907i30jfaf7N5sgGZTEzZY1QfEB+yd/Qwv7HzSmcRppbfqQXHGCYVpY+jyFvGYmPEQ2NxwU3bb0a0AT5W6x6HjyjneJSkrdctOVQ8SP8yfpHa8Qk56ckHdvuOhG8RzPaXBgGmyu6QbjgdWfeDuMdaBxIpcR4CSUT4mEwGNsQpXHaAMfvp4H2hyMDQoiDiYjdBLFLWHTrEUsRmcvSMS4ZjNtWDusExgqtHjHlQPE+EK4902bJV3cXK/eHzEE6TEmJD6QlYfOKVZhqGMF62ZcTkeFTOPZVAKGW0XMuq7PVQWB0b5Q6YeoElHC8cj2TxG4UNCe8PZV/Sr6jg/ScKqO/nFxYdH3dITmYjNK9jlOlcxCFgKQVBwdCNWI3i0Q4uq8WtoF5VoV+0PjAvEZl4VdsFpKW02DJnoKVi2oI1SeIMc2rNlpyVMnKsbi7HzB+sfRNZRS102YAOBrHOaySxMZBpQpAoNk5hI7RQSnkXJ+Q98ONBQJQEoSGSNB+d8WZcqL0mUBEJtRWaSQwgtSyoqUqNIa8Fw0FOZWkUrVWQWjGI4ZIqA06SiY2hUBmSdxSrxJPMEQbrKBIDpGkCpgaIqQOYupo+9TzlTZY1kVCiu37E660n8WYdITqrEZM/EDNkIUjMlPaIUGKZm8HcdNRY2h1xRRYwhYZJeqUrfYHydvjBYfGodl1Sm/sPL8vCftRRZWUngXHEcOr38hDihxKTwMB8VImJUPvJ1HHj+ekGjNFZK5iqUy31CrK4EdIW8VpTLmFBFtQeI3R0fFMLAZaesLu1dC6EzOBbyP+sOZrQq0SardG8qNZiWtG8gX8oahH9OkF26jMYJ0jJj2XToIrEj2QpHuVLILHrF6TU5A5DpNlJ4j6xUlj4xMA4IgbRbSFomijeEzTJWlaDmll2OuuqVCOobJYiFZik9Um5T9U8/WOJ4biCpSrMUmyknQj5HnD9srVpEwLkqLEXR95P1ELv1CK0rpmLtMkuNRC9MqcwH5vBmjqkrBB7pPofLdC/Xy+zWRuOnWEXN0RgvTMVUlORy0BKiY943rjFPtIFSisyFRclquIGylxblLuIpRHKU6Q44NWpyBJLQk0pgzRqiK0zVdSCGF4GzkxiUqNKidaIqQbFVAAngIVNmKfPNKucEtq60t2aT3lFovbMYfkQC14YhFAu9FR6Jryjs+QhRxiaZc+S2iwX6u309IaJv8AZEb3c+sImPVxE2mCtVEkdCvuwSGr1VOV3tgRlNiC0AdpqX9RMH7Ljyv8o0x6u7OeoA/ePxi1j1QDSLVxQfeIOQRSzYK5bNG+NqcX8oxMO6MyNfKH4v7aVd4lGYkUmyTyiMxcVLsnmkfCLmbbQozdaIESgxDKVu3iJUwNi0VGJLuBrqPpGKeoUghaSUqBsRa8SJXlLjf8Y0qUffGh15GMOaKseqsHVdJ2c2zCwO1FxYqFj5j5w4T0y6iXmlqCun0jgUmcUlwYasA2mVKUC7cYVMV6hGD+qZK9Ckllbt/GBilw1CplVUsKcOdIWsSwxaDa4hV8R4+CJaxJmRekruIXkzyksbRep6wQHVWmqkmQXp5zQpUtaOMXRiqUi5aMq01CqtArF8YTLTc33DjAKbjilWlJJPE2ET4bgqpis80ufzpBmxE6u0CqxwsYPQrnTO1mDy4DhDdMqESktfy4xJRy0oDBo3ThqSe1mWSkOx069IISPRUppTmSq3fWGHJwb+QvHJsYxNEzEXCv1UghI4NKDqI6kH3Q/Y9jPZSJ00FlqlqTJTvAYvMPM7o4QhR9YJCNysPKM4lVmYsL3qJJ6kuYKbTVuSRKk/eUAT01+kC6JA8a7IQxPPkOZgZitaqdMK1eQ4DcIbfRohDHKqzxGZGvlGajQRim18oaj8CC7daKghNQwlnihPuEDYY58g9jKLfcQf5Q8XLsFG8oNOTdxrrG2Zxm3b4sGjmEAhCyD4SEqI1ZnbjaKaFgfMQCwDa3up1IeMyy1jdJsY0SpunHhErg2MFbW/KwVUnySOY3GMS4tLt3VaHQ8DEcqSHymyuPGBGP2tFu9Ffp8UWhQUlRbRuEN+GbUJWGmCEFcpSTcfQxmWpjaKc3MfaCsOI2XR5kunmaKERf8Pg3SfQwiCoXuN4KYHX1BJGYva0CMOtLYkTQnZ5R0UfWCFHsumxUfWIKerWA5N+EGcLUtZcg9Iw6MtWwbVmVh8mUIm/SCWSkdGF4ymhOd5q0oHs6qb8I084uJxFCO7JSx0zKYnyELnXzW1apaNMpOeept4TvMDcTxQzSbMhGidxO4q4gcIrVk5U1TOTChtVjIQrsUGzMsj4fWLjZbtf4VONBD6vFFVE2oUSSEy1Ae+/53Qly06Qw01WhInkqAUU5QDqosfCNTASiRmW3P5wyWgaBB3VuvBMpO4C7fOBzQcxUDKAN1oBpF4LlpZJUU8WEZpNfL6RioPxjegF/L5iGY/AhndQGOgUVHmpZX92j/CIQDHU8GQ1PIJ0MmX/gEVMaAWoxqUGGKzZSBLCUFCGLKB1CysKcKBdz6ACKmAYGKgLfupFxZw6iSAQbsAOL6XgltDT5UE+0co83f3PBrZilyU6SdVus+fh/laOB21jjhMPcejnGv+n8810MDAJZadqAudYrhvZzChIfKSC1gWZrE2imzWIUODgw/wBHQoXW1HaJSpKfaAIdTF79NYBVeG/pE9Qp0ugKcMwADAO6rAOCeb2gmG7SY/2XaU0Eu0rUDRZlwpGo1skAc7oBMSWYgnmA7RGlYsFaDQ6EQ11Gzk+WCspzjUhKnLDkAD6PGq6eSuQZiAoKSUhSScwZRZw99Snf/oz/AOjA4gsOYE1YFi+Adq/KtC/SvF5hVa6odTS84bxDT/fnHjgiwdLcYrYfPmSClmYm6TpozE9LwTGOThZSEKB3AlPTWOg5+YajVLhgW8jDEpuS/KNZtfKlrCbpPEDodfpFnCawTlqQJZSoBy5Chus46xGcO7WpVKJCX3sFB8iNbwvLK1jC9x0GqKxpc4Bo1KZMElpmgKBCuYLwzSUZQQ5HKOYTsMqaNXaS1KQ33knMg9X0/eHSDNBtwSyalGU+2kWPMp19H8oCJBMwOYbHkt0WHK4UUfrNpaWW4M0FQ3IClseZSDA7Ddo5c2b2aQvMQWKhlFg5Je+nKBGyWGSpqFGaCcpSB3ikAZQfukRSwjBDPmHKWQAylahuAH3iRx3e9X9ZhwX5iRl3J21RO5kOWv8ALZM2JbYU8tJRLWVq3rQHA6K0PlCHW1CZi8wLgnmCxh+GzEgBu+TxzF/QMn3QnbS4KZC7FwQ4OjjQuPaDh+RHQCwfaWGxEmSM69CN6+K3PhZY25nVXkieAbPy5ssrKikuQyQAx3EkuTx3Qt1UsyZzqDXIVyILK+sNuxFT3lJ9oBXnoR5N74g26wzvdoB4/wDGkfNP+EwGHGSt7Qkw8zrB8PlzXqFt8LDhWysGo3+n1pBsXRlSniYEHfFpU/PLQ5um3luPp8IrKV8Y9A3wrmu8SqTx8Ymw/wAR6fMRFUH4mJaDxeXzEFj8Cwd1BHYcCps1HIYv+qluOByCOOPHYcCpVJpqdYsDJlk/wC8ZxHhC3FuUDx5Kpk+XI6P+9r6JBPnDRMqEoKEaFThI6M/yhe2dedUzKhV20P4rJ8whI9Y02gq2q5bf9PL6rN/cUx4vtZpxeK7gbMaT61f2XbwjxDD3p/yI+F191rjoVKTUFiO2mpSPwCUCryJBHmYImql0dPLSzqIdh95RYqUeV/gIn2loTOkHKHKTmA42II6sT5tAzCcclMlU2y0pyhW4gwrGDPhmnKTR9oDfYAelIsh7uUiwLGhO29n1V7B8dE5WUhjugCunebVpQO6ErUw4oUFAADm4jeZicuXMXNQxWqyWBCUOzlyBmVyAbW8GNkZAEozHdS1HMehLD3k9SYZmjGBa+doIBygA9dCfQcfFCY84gtjcbIsk+W3z3QDFMDMpEosXWMq/2Zh09xb9znDHtJMSimKCzqASkHUsRmboHgqtKFOksWILasQXHyMLW20pACFnxMoG9igBzbi5Hr0ZfC4x+PxMMc1+yT9x9vciywjDxSOZyB9v396D4Ts9OmZlJJShdySSkKF2YJuoX32MFkbHFI7s4A8kEe8LeKeH47PKEypbKKrJU1/IGwOtzYNFusxGbLSZUtZXMT3p00sQku2RLhtbcfN8vWxMnaD5cjS0XsNDp1J6fVKRtwoZmIJ89d+g/NFHT1s6lmCXOug8S4bRwd4vd7jfaCFZgNPUDNKKUkh+7dJ6o+jRHj0wTaSVMUGUShQ/eSXHTf5CA+C0C5kwdkpaEgJK1FnBYZgwsSS7WsLnhCjIi+E4tj+7cLDv9SR99q+iI54bIIS3O01XUWitLhsynpqkKZyktlL2CGflv9Izg9QZdI8tOZaphAH7SiwfoB7oY1IBGUhwQxBvbnCQa40U5ctwpIVormAoHqx/2hXCSPxzXigXWHVsHAaV9NOUeZow5aQaFZb5F6q2KyqlTUia/eIbeDusxaNttpgUpEsagKJa5GcpCQOZym3SK9RtAVKC0y3WHylRzBD6kJA16mM7LJM2o7RZJIBXfeo2BPQPbdZtI6Ig7kjGSMDcjdhyTp50ONUp3mcGBricx0J4G/xVjCqSVSKQZymmqsmWL5AogOo8X39WfWGDF6LtpSkb9U/iFx9OhMIeLFRnzcz5+0LWOjkD3ZCH3AND9hdV2klC+KR67/fHM7XjlidFi81uPPQjUV5V9LTeCex+eCqA/jVcrqJWVRtrdvl6vFWcWZ4fMa2bUuataEpKSCtifvHxJA3uQ97d6EfEJW705jhHr8JjosVFnjOtAkdL4+NrizQPifTh+9KhM0HWJaPXy+kRzRpE+H+I9PmI6EX9tLO8SrR23CadUzDpUtKspXTS0hTOzywOI3RxKO6bNzMtHTHd2Mp/4ExjF6NCJBuUtK2erJD9kpKgS7JLOW3hQG4D70AsSpKkLVMmy1AHxKIYZj4W5AJZxbSOtZwREC1NCADA4vyizua3TDrLQ2zQSVI2mllGVSVDus7ZtzPaFKTJSJ8tLkpUsJJdQCg6Uuz2tHT62gkTLqloJ4sAf4heBadnaYLSsILpul1KUAXF2O+w1gWDwkWFLjHevGnxvdbnlfMAH1ooqrCJaZUzIACUKFhc2LXN9Yi2Pmgy1J4Kf1v84NGmWSwQT7rcjC1IwGrlvkWlHITEXbTcd0C7RwhxcBjBF2Dr5LWGmEMgcRprsrWz1Zmm1DnVZUPwvlT7hA3bieMyUm4CLgH21Mf8Mb0Wy81ROZaUAAAM6ierEBvWJ07IpJZc0kO5ASxPLMVGB4fspkGL/U5rFbV5VvstSYtz4e7rne/O1S2er5UrNnDFVs+jJ9n9nn/sBuKKjS5NSpSHcoBJzNxy6+gPOLWNVUhahLlyjMmDugh0tlszi629OcB6yjMlI7RQzG+XUgcVEWBewAd+MakwjTPmbIWl+43PpyB58dVhsxEdFgIbztXv6+5WMZxJU5siCmUhgLaE2BURZJayQ+88bMeDVckSe53UpBKn1G9RPOA+z1EqRLmWKu2F5ai6Qm7ZhvUxaBtXh8xHgBU+4cdwU+o5+vOYvsqOaJsDTlDTfUHrfnvrp0WosW5jzIRZI/j0R3B8TVOqVkuE5WQngAdfxF3PpugVtfRPNKiO6opbvByQhtHzNY7uEV6DDp4FnQRmBVmygub3He90WpeDjVS36WfqS5PujeH7LEGK72MjLQFVZrT0G26zJijJDkcNbJv4odhRzynLnvHfyEWsPnqp5oUR3SD5pcs3TRub8HtIp0pyy5YYEsw95PGMY/PSWR91AYdd5DR0psO2aMxvGhGqWZIWEOG4TGlVPPZRTLXa2YJJ98XXAG4D0tHLlVOU21PB0nzIiSvmqQgKJd9xUpXxMeVk/wDmXE0JvZHUHT/i6re1BV5Nfen+sxuTLsV5leyjvHz3DzIjnuP1kuYtRAykqcJBdn1c7n1biYEzK5arOw4JsPrESY63Z3ZcWCstJLiKJO3w/lJ4nFvnoEAAfm61nbonw7xHp8xEE3dE1D4vL5iO9H4Fz3HVQR2zZ0vSU/8Acyx/II4mRHT9ndo6ZEmUhc5CSJaAoEjUJAMYxQJApahOpTAqoUg38J90WDPccoHLx+jUP/kyfNafrFNeMUyT3aqSUnd2iPrCgB6JnMEZXPI0MamvV7Z9YGDF6Q/91J/9ifrEasQo/wD9cn/2J+sayKsyKmdn1U/Un3RWmhQ0GYe8RQ//AK9Gn/uJZ6KT9Y3TtbSp8K0HqsfWLyngKZgiFOsnRx1i2EJF1KHQG/pAGdtTKWG7aUB+NI+cUlVlKbmplv8A3iT84oxO3Uzha7Ty0pmCfJdPtPoFe10Oh5gGKeD0pmrM+dxdIVYk+2obhwHCJlYrLFk1EtuHaJjeTjErfOlfxo+sWI6ObLrtfNdFm+L06IwlH+8RT1qfKA/SKK8dkjSbK/jT9YqzsflgMJiCTqQsRdFSwis5bDKG5wKqp6U6qD9YGTsUQf8Aqp/iEUO2QtQBmJAOpKgGjQvoskozKrQhCpxDnRDnfvMAKqepWp9ImxOvllQShSciQyWI8zAyZPHEesQ2dSqsBXKCXmUI0xya68o0EWcOqEISVFaXbTMIDzp2Ykki8ZIVcLQIiWWneYizjjFiXlF1KFtwMbY02qJVeeNImw7xHp8xGk4vdx6xLhqCVFr2+YhlgpqGTqiO1+BTKOqmSZiWGYqlncuWVHKoeVjwIMBY+lvtFo5cyhmFctCyi6SpIUUnikkWPSPm1WsYwk5lbqrlZlKjj0bxmGbQgFHHozG0XmV0tI80bGNkxnMqpRmPARIYwImZXSjaMxuYyIlqUo49Ekei7UpRRmNoyIlqqUcZjeNhFZldKFozG8eiw5SlpHo3MeiZlVLQCOhfZJssqpmTZqw0lKMgUQ2aYVJLJ4sEl+ohQwCSlVRLSpIIKg4IBBvvBj6hopCJcuWiWlKEhAASkBIAbQAWEJYzEFjaHKPFGCbK/9k=",this.cartasLevantadas=0,this.timeLeft=.5,this.PosicionesCartasLevantadas=[],this.contador=0,this.CartasAcertadas=[],this.totalParejas=6,this.mostrar=!1,this.collecionBaseDatos="Records Pokemon",this.logeado={}}ngOnInit(){this.baseDatos.obtenerTodos(this.collecionBaseDatos).subscribe(r=>{r.map(i=>{let a=i.payload.doc.data();if(a.email==localStorage.getItem("PokemonUsuarioLogueado"))return a.id=i.payload.doc.id,this.logeado=a,a}),console.log(this.logeado)})}getRandom(t,r){return Math.floor(Math.random()*(r-t+1)+t)}pulsado(t){this.cartasLevantadas<2&&(this.listaCartasBack[t]==this.listaCartas[t]||(this.cartasLevantadas++,this.PosicionesCartasLevantadas.push(t),this.listaCartasBack[t]=this.listaCartas[t]),this.cartasLevantadas>1&&this.startTimer())}comprobarCartas(){this.listaCartas[this.PosicionesCartasLevantadas[0]]==this.listaCartas[this.PosicionesCartasLevantadas[1]]&&(this.CartasAcertadas.push(this.listaCartas[this.PosicionesCartasLevantadas[0]]),console.log(this.listaCartas[this.PosicionesCartasLevantadas[1]]+"")),this.CartasAcertadas.length==this.totalParejas&&(6==this.totalParejas&&(0==this.logeado.memorion||this.logeado.memorion>this.contador)&&(this.logeado.memorion=this.contador,this.baseDatos.actualizar(this.collecionBaseDatos,this.logeado,this.logeado.id)),this.deleteSwal.fire()),this.PosicionesCartasLevantadas=[],this.contador++}barajar(t){for(let r=t.length-1;r>0;r--){const i=Math.floor(Math.random()*(r+1)),a=t[r];t[r]=t[i],t[i]=a}return t}startTimer(){var t=this;return(0,Ee.Z)(function*(){t.interval=setInterval(()=>{if(t.timeLeft>0)t.timeLeft--,console.log(t.timeLeft);else{t.timeLeft=.5,clearInterval(t.interval),t.comprobarCartas();for(let r=0;r<t.listaCartasBack.length;r++)t.CartasAcertadas.includes(t.listaCartasBack[r])||(t.listaCartasBack[r]=t.urlBack);t.cartasLevantadas=0}},1e3)})()}reinicio(){this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/memorion"])})}empezar(){var t;for(let r=0;r<this.totalParejas;r++){for(this.listaCartasBack.push(this.urlBack),this.listaCartasBack.push(this.urlBack),t=this.getRandom(1,898);this.listaNumRandon.includes(t);)t=this.getRandom(1,898);this.listaNumRandon.push(t),this.servicio.getOne(t).subscribe(i=>{console.log(i.sprites.front_default),this.listaCartas.push(i.sprites.front_default),this.listaCartas.push(i.sprites.front_default),this.barajar(this.listaCartas)})}this.mostrar=!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(G6),c.Y36(hr),c.Y36(I4))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-memorion"]],viewQuery:function(t,r){if(1&t&&c.Gf(lee,5),2&t){let i;c.iGM(i=c.CRH())&&(r.deleteSwal=i.first)}},decls:6,vars:4,consts:[["class","opcionesInicio",4,"ngIf"],[1,"contenedorPrincipal"],["class","cajaImagen",4,"ngFor","ngForOf"],[4,"ngIf"],["title","VICTORIA","icon","success",3,"text","confirm"],["ResultadoFinal",""],[1,"opcionesInicio"],["for",""],["type","number",3,"ngModel","ngModelChange"],[3,"click"],[1,"cajaImagen"],["alt","",1,"carta",3,"name","src","click"]],template:function(t,r){1&t&&(c.YNc(0,uee,8,1,"div",0),c.TgZ(1,"div",1),c.YNc(2,hee,2,2,"div",2),c.qZA(),c.YNc(3,dee,2,1,"h4",3),c.TgZ(4,"swal",4,5),c.NdJ("confirm",function(){return r.reinicio()}),c.qZA()),2&t&&(c.Q6J("ngIf",0==r.mostrar),c.xp6(2),c.Q6J("ngForOf",r.listaCartasBack),c.xp6(1),c.Q6J("ngIf",r.mostrar),c.xp6(1),c.MGl("text","Numero de intentos ",r.contador,""))},directives:[Jn,vr,P4,Ad,Il,y0,Ed],styles:[".contenedorPrincipal[_ngcontent-%COMP%]{display:inline-flex;flex-wrap:wrap;justify-content:center;padding-left:50px}.carta[_ngcontent-%COMP%]{width:100%}.cajaImagen[_ngcontent-%COMP%]{display:flex;padding:5px;width:15%}h4[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{border:.5px solid black;color:#fff;background-color:#1976d2;font-weight:800;margin:5px;padding:15px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;color:#000}label[_ngcontent-%COMP%]{font-size:1.25em;color:#000}.opcionesInicio[_ngcontent-%COMP%]{text-align:center}"]}),n})(),pee=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:61,vars:0,consts:[[1,"cards-wrapper"],[1,"card-grid-space"],["href","/Juegos-Pokemon/sopaLetras",1,"card",2,"--bg-img","url('https://source.unsplash.com/600x400/?pokemon')"],[1,"date"],[1,"tags"],[1,"tag"],["href","/Juegos-Pokemon/memorion",1,"card",2,"--bg-img","url('https://source.unsplash.com/600x400/?Pokemon')"],["href","/Juegos-Pokemon/cartas",1,"card",2,"--bg-img","url('https://source.unsplash.com/600x400/?PokemonArt')"],["href","/Juegos-Pokemon/test",1,"card",2,"--bg-img","url('https://source.unsplash.com/600x400/?Pokemon?Card')"],["href","/Juegos-Pokemon/CuatroEnRaya",1,"card",2,"--bg-img","url('https://source.unsplash.com/600x400/?Pokeball')"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0),c.TgZ(1,"div",1),c.TgZ(2,"a",2),c.TgZ(3,"div"),c.TgZ(4,"h1"),c._uU(5,"Sopa de Letras"),c.qZA(),c.TgZ(6,"p"),c._uU(7,"Elige cuantas palabras vas a buscar y el tama\xf1o de la sopa de letras. "),c.qZA(),c.TgZ(8,"div",3),c._uU(9,"12/1/22"),c.qZA(),c.TgZ(10,"div",4),c.TgZ(11,"div",5),c._uU(12,"Sopa de letras"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(13,"div",1),c.TgZ(14,"a",6),c.TgZ(15,"div"),c.TgZ(16,"h1"),c._uU(17,"Memorion"),c.qZA(),c.TgZ(18,"p"),c._uU(19,"Elige la cantidad de parejas que quieres jugar y localizalas en el menor numero de intentos posible."),c.qZA(),c.TgZ(20,"div",3),c._uU(21,"13/01/22"),c.qZA(),c.TgZ(22,"div",4),c.TgZ(23,"div",5),c._uU(24,"Cartas"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(25,"div",1),c.TgZ(26,"a",7),c.TgZ(27,"div"),c.TgZ(28,"h1"),c._uU(29,"Cartas Pokemon"),c.qZA(),c.TgZ(30,"p"),c._uU(31,"Enfrente a la IA en un juego de cartas de azar. Tendras que seleccionar un pokemon y ganar al rival."),c.qZA(),c.TgZ(32,"div",3),c._uU(33,"22/12/21"),c.qZA(),c.TgZ(34,"div",4),c.TgZ(35,"div",5),c._uU(36,"Cartas"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(37,"div",1),c.TgZ(38,"a",8),c.TgZ(39,"div"),c.TgZ(40,"h1"),c._uU(41,"Test Pokemon"),c.qZA(),c.TgZ(42,"p"),c._uU(43,"Aparecera un Pokemon aletario, tendras que adivinar su nombre tipo peso y altura."),c.qZA(),c.TgZ(44,"div",3),c._uU(45,"19/21/21"),c.qZA(),c.TgZ(46,"div",4),c.TgZ(47,"div",5),c._uU(48,"Test"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(49,"div",1),c.TgZ(50,"a",9),c.TgZ(51,"div"),c.TgZ(52,"h1"),c._uU(53,"Cuatro en raya"),c.qZA(),c.TgZ(54,"p"),c._uU(55,"Enfrente a la IA y desbloquea todas las pokeball segun ganas."),c.qZA(),c.TgZ(56,"div",3),c._uU(57,"30/01/22"),c.qZA(),c.TgZ(58,"div",4),c.TgZ(59,"div",5),c._uU(60,"Juegos Cl\xe1sicos"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA())},styles:['@import"https://fonts.googleapis.com/css?family=Heebo:400,700|Open+Sans:400,700";[_ngcontent-%COMP%]:root{--color: #3c3163;--transition-time: .5s}*[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%]{margin:0;min-height:100vh;font-family:Open Sans;background:#fafafa}a[_ngcontent-%COMP%]{color:inherit}.cards-wrapper[_ngcontent-%COMP%]{display:grid;justify-content:center;align-items:center;grid-template-columns:1fr 1fr 1fr;grid-gap:3rem;padding:3rem;margin:0 auto;width:max-content}.card[_ngcontent-%COMP%]{font-family:Heebo;--bg-filter-opacity: .5;background-image:linear-gradient(rgba(0,0,0,var(--bg-filter-opacity)),rgba(0,0,0,var(--bg-filter-opacity))),var(--bg-img);height:20em;width:15em;font-size:1.5em;color:#fff;border-radius:1em;padding:1em;display:flex;align-items:flex-end;background-size:cover;background-position:center;box-shadow:0 0 5em -1em #000;transition:all,var(--transition-time);position:relative;overflow:hidden;border:10px solid #ccc;text-decoration:none}.card[_ngcontent-%COMP%]:hover{transform:rotate(0)}.card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.5em;line-height:1.2em}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75em;font-family:Open Sans;margin-top:.5em;line-height:2em}.card[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:flex}.card[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{font-size:.75em;background:rgba(255,255,255,.5);border-radius:.3rem;padding:0 .5em;margin-right:.5em;line-height:1.5em;transition:all,var(--transition-time)}.card[_ngcontent-%COMP%]:hover   .tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{background:var(--color);color:#fff}.card[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{position:absolute;top:0;right:0;font-size:.75em;padding:1em;line-height:1em;opacity:.8}.card[_ngcontent-%COMP%]:before, .card[_ngcontent-%COMP%]:after{content:"";transform:scale(0);transform-origin:top left;border-radius:50%;position:absolute;left:-50%;top:-50%;z-index:-5;transition:all,var(--transition-time);transition-timing-function:ease-in-out}.card[_ngcontent-%COMP%]:before{background:#ddd;width:250%;height:250%}.card[_ngcontent-%COMP%]:after{background:white;width:200%;height:200%}.card[_ngcontent-%COMP%]:hover{color:var(--color)}.card[_ngcontent-%COMP%]:hover:before, .card[_ngcontent-%COMP%]:hover:after{transform:scale(1)}.card-grid-space[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{font-size:3em;margin-bottom:1.2rem;margin-left:1rem}.info[_ngcontent-%COMP%]{font-size:1.2em;display:flex;padding:1em 3em;height:3em}.info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:3em;margin-right:.5em}.info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1em;font-weight:400}@media screen and (max-width: 1285px){.cards-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media screen and (max-width: 900px){.cards-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr}.info[_ngcontent-%COMP%]{justify-content:center}.card-grid-space[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{margin-left:0;text-align:center}}@media screen and (max-width: 500px){.cards-wrapper[_ngcontent-%COMP%]{padding:4rem 2rem}.card[_ngcontent-%COMP%]{max-width:calc(100vw - 4rem)}}@media screen and (max-width: 450px){.info[_ngcontent-%COMP%]{display:block;text-align:center}.info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}}']}),n})(),gb=(()=>{class n{constructor(t){this.loginServicio=t}register(t,r){var i=this;return(0,Ee.Z)(function*(){try{return yield i.loginServicio.createUserWithEmailAndPassword(t,r)}catch(a){return console.log("error en el login: "+a),null}})()}login(t,r){var i=this;return(0,Ee.Z)(function*(){try{return yield i.loginServicio.signInWithEmailAndPassword(t,r)}catch(a){return console.log("error en el login: "+a),null}})()}loginGoogle(t,r){var i=this;return(0,Ee.Z)(function*(){try{return yield i.loginServicio.signInWithPopup(new gI.Z.auth.GoogleAuthProvider)}catch(a){return console.log("error en el login google: "+a),null}})()}getUserLogged(){return this.loginServicio.authState}logout(){this.loginServicio.signOut()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Jy))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mee=["error"];function gee(n,e){1&n&&(c.TgZ(0,"div",6),c.TgZ(1,"b"),c._uU(2," LOGIN"),c.qZA(),c.qZA())}function vee(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",7),c.TgZ(1,"label",8),c._uU(2,"Email"),c.qZA(),c.TgZ(3,"form",9),c.NdJ("ngSubmit",function(){return c.CHM(t),c.oxw().logIn()}),c._UZ(4,"input",10),c.TgZ(5,"label",8),c._uU(6,"Password"),c.qZA(),c._UZ(7,"input",11),c.TgZ(8,"button",12),c._uU(9,"LogIn"),c.qZA(),c.TgZ(10,"button",13),c.NdJ("click",function(){return c.CHM(t),c.oxw().formularioRegistrarse()}),c._uU(11,"Si no tienes cuenta haz click aqui"),c.qZA(),c.qZA(),c.qZA()}if(2&n){const t=c.oxw();c.xp6(3),c.Q6J("formGroup",t.formulario),c.xp6(5),c.Q6J("disabled",!t.formulario.valid)}}function _ee(n,e){1&n&&(c.TgZ(0,"div",6),c.TgZ(1,"b"),c._uU(2," REGISTRATE"),c.qZA(),c.qZA())}function yee(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",7),c.TgZ(1,"label",8),c._uU(2,"Email"),c.qZA(),c.TgZ(3,"form",9),c.NdJ("ngSubmit",function(){return c.CHM(t),c.oxw().Ingresar()}),c._UZ(4,"input",14),c.TgZ(5,"label",8),c._uU(6,"Password"),c.qZA(),c._UZ(7,"input",15),c.TgZ(8,"button",16),c._uU(9,"Registrarse"),c.qZA(),c.TgZ(10,"button",13),c.NdJ("click",function(){return c.CHM(t),c.oxw().formularioRegistrarse()}),c._uU(11,"Si ya tienes cuenta haz click aqui"),c.qZA(),c.qZA(),c.qZA()}if(2&n){const t=c.oxw();c.xp6(3),c.Q6J("formGroup",t.formularioRegistrarseform),c.xp6(5),c.Q6J("disabled",!t.formularioRegistrarseform.valid)}}let Cee=(()=>{class n{constructor(t,r,i){this.loginService=t,this.router=r,this.baseDatos=i,this.usuario={email:"",password:"",memorion:0,cartas:0,testFallos:0,testAciertos:0,SopaLetras:0},this.collecionBaseDatos="Records Pokemon",this.mostrar=!0,this.formulario=new w1({email:new us("",zr.required),password:new us("",zr.required)}),this.formularioRegistrarseform=new w1({emailRegistrarse:new us("",zr.required),passwordRegistrarse:new us("",zr.required)})}ngOnInit(){}Ingresar(){this.usuario.email=this.formularioRegistrarseform.value.emailRegistrarse,this.usuario.password=this.formularioRegistrarseform.value.passwordRegistrarse,this.loginService.register(this.usuario.email,this.usuario.password).then(t=>{this.baseDatos.crear(this.collecionBaseDatos,this.usuario),localStorage.setItem("PokemonUsuarioLogueado",this.usuario.email),this.formularioRegistrarseform.reset(),this.router.navigate(["/home"])})}logIn(){this.loginService.login(this.formulario.value.email,this.formulario.value.password).then(t=>{console.log("Bienvenido ",t),t?(localStorage.setItem("PokemonUsuarioLogueado",this.formulario.value.email),this.formulario.reset(),this.router.navigate(["/home"])):this.deleteSwal.fire()}).catch(t=>{console.log(t)})}IngresarGoogle(){this.loginService.loginGoogle(this.usuario.email,this.usuario.password).then(t=>{})}limpiarCampos(){this.usuario={email:"",password:"",memorion:0,cartas:0,testFallos:0,testAciertos:0,SopaLetras:0}}formularioRegistrarse(){this.mostrar=1!=this.mostrar}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gb),c.Y36(hr),c.Y36(I4))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],viewQuery:function(t,r){if(1&t&&c.Gf(mee,5),2&t){let i;c.iGM(i=c.CRH())&&(r.deleteSwal=i.first)}},decls:8,vars:4,consts:[[1,"contenedorPrincipal"],[1,"card","text-center"],["class","card-header",4,"ngIf"],["class","login-block",4,"ngIf"],["title","Error","icon","error","text","Datos incorrectos, si no tenes cuenta registrate!"],["error",""],[1,"card-header"],[1,"login-block"],[2,"float","left"],[3,"formGroup","ngSubmit"],["type","email","placeholder","Email","formControlName","email",1,"form-control","m-2"],["type","password","placeholder","Password","formControlName","password",1,"form-control","m-2"],["mat-raised-button","","color","warn","type","submit",1,"botonEntrar",3,"disabled"],["mat-raised-button","",1,"botonCambio",3,"click"],["type","email","placeholder","Email","formControlName","emailRegistrarse",1,"form-control","m-2"],["type","password","placeholder","Password","formControlName","passwordRegistrarse",1,"form-control","m-2"],["mat-raised-button","","color","secondary","type","submit",1,"botonEntrar",3,"disabled"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.YNc(2,gee,3,0,"div",2),c.YNc(3,vee,12,2,"div",3),c.YNc(4,_ee,3,0,"div",2),c.YNc(5,yee,12,2,"div",3),c.qZA(),c.qZA(),c._UZ(6,"swal",4,5)),2&t&&(c.xp6(2),c.Q6J("ngIf",1==r.mostrar),c.xp6(1),c.Q6J("ngIf",1==r.mostrar),c.xp6(1),c.Q6J("ngIf",0==r.mostrar),c.xp6(1),c.Q6J("ngIf",0==r.mostrar))},directives:[Jn,P4,R6,D6,Ol,Il,y0,w0,O4],styles:[".contenedorPrincipal[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;padding:15px;border-radius:red solid 1px}.card[_ngcontent-%COMP%]   text-center[_ngcontent-%COMP%]{padding:15px;margin:5px;display:flex;flex-direction:column;text-align:center}.login-block[_ngcontent-%COMP%]{width:320px;padding:20px;background:#fff;border-radius:5px;border-top:5px solid #ff656c;margin:0 auto}.login-block[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#000;font-size:18px;text-transform:uppercase;margin-top:0;margin-bottom:20px}.login-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:42px;box-sizing:border-box;border-radius:5px;border:1px solid #ccc;margin-bottom:20px;font-size:14px;font-family:Montserrat;padding:0 20px 0 50px;outline:none}.login-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:40px;box-sizing:border-box;border-radius:5px;color:#fff;font-weight:700;text-transform:uppercase;font-size:14px;font-family:Montserrat;outline:none;cursor:pointer}.login-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ff7b81;border:1px solid #e15960}.botonEntrar[_ngcontent-%COMP%]{border:1px solid #e15960}.botonCambio[_ngcontent-%COMP%]{border:1px solid #1976d2;background:#1976d2}"]}),n})();function bee(n,e){if(1&n&&(c.TgZ(0,"h2"),c._uU(1),c.qZA()),2&n){const t=c.oxw(3);c.xp6(1),c.hij(" Hola ",t.usuario.displayName,"")}}function wee(n,e){if(1&n&&(c.TgZ(0,"h2"),c._uU(1),c.qZA()),2&n){const t=c.oxw(3);c.xp6(1),c.hij(" Hola ",t.usuario.email,"")}}function Mee(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",3),c.YNc(1,bee,2,1,"h2",5),c.YNc(2,wee,2,1,"ng-template",null,6,c.W1O),c.TgZ(4,"p"),c._uU(5),c.qZA(),c.TgZ(6,"button",7),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).logout()}),c._uU(7,"Logout"),c.qZA(),c.qZA()}if(2&n){const t=c.MAs(3),r=c.oxw(2);c.xp6(1),c.Q6J("ngIf",null!=r.usuario.displayName)("ngIfElse",t),c.xp6(4),c.hij("Cuenta creada en ",r.usuario.metadata.creationTime,"")}}function Eee(n,e){if(1&n&&(c.TgZ(0,"div"),c.TgZ(1,"p"),c._uU(2,"Memorion de 6 parejas "),c.TgZ(3,"strong"),c._uU(4),c.qZA(),c._uU(5," intentos"),c.qZA(),c.qZA()),2&n){const t=c.oxw(2);c.xp6(4),c.Oqu(t.records.memorion)}}function Aee(n,e){if(1&n&&(c.TgZ(0,"div"),c.TgZ(1,"p"),c._uU(2,"Sopa de letras 4 palabras 400 letras "),c.TgZ(3,"strong"),c._uU(4),c.qZA(),c._uU(5," segundos"),c.qZA(),c.qZA()),2&n){const t=c.oxw(2);c.xp6(4),c.hij(" ",t.records.SopaLetras,"")}}function See(n,e){if(1&n&&(c.TgZ(0,"div"),c.TgZ(1,"p"),c._uU(2,"Victorias 4 en raya "),c.TgZ(3,"strong"),c._uU(4),c.qZA(),c.qZA(),c.qZA()),2&n){const t=c.oxw(2);c.xp6(4),c.Oqu(t.records.CuatroRaya)}}function xee(n,e){if(1&n&&(c.TgZ(0,"div",1),c.YNc(1,Mee,8,3,"div",2),c.TgZ(2,"div",3),c.TgZ(3,"h3"),c._uU(4,"Records"),c.qZA(),c.YNc(5,Eee,6,1,"div",4),c.YNc(6,Aee,6,1,"div",4),c.TgZ(7,"div"),c.TgZ(8,"p"),c._uU(9,"Aciertos en test pokemon "),c.TgZ(10,"strong"),c._uU(11),c.qZA(),c.qZA(),c.TgZ(12,"p"),c._uU(13,"Fallos en test pokemon "),c.TgZ(14,"strong"),c._uU(15),c.qZA(),c.qZA(),c.qZA(),c.YNc(16,See,5,1,"div",4),c.qZA(),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.usuario),c.xp6(4),c.Q6J("ngIf",0!=t.records.memorion),c.xp6(1),c.Q6J("ngIf",0!=t.records.SopaLetras),c.xp6(5),c.Oqu(t.records.testAciertos),c.xp6(4),c.hij("",t.records.testFallos," "),c.xp6(1),c.Q6J("ngIf",t.records.CuatroRaya)}}function Dee(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",1),c.TgZ(1,"div"),c.TgZ(2,"h1"),c._uU(3,"Loegueate para ver tu perfil"),c.qZA(),c.TgZ(4,"button",7),c.NdJ("click",function(){return c.CHM(t),c.oxw().irLogin()}),c._uU(5,"Ir al Login"),c.qZA(),c.qZA(),c.qZA()}}let Tee=(()=>{class n{constructor(t,r,i){this.database=t,this.login=r,this.router=i,this.records={},this.collecionBaseDatos="Records Pokemon",this.logeado=""}ngOnInit(){let t;this.logeado=localStorage.getItem("PokemonUsuarioLogueado"),this.obtenerUsuarioLogeado(),this.database.obtenerTodos(this.collecionBaseDatos).subscribe(r=>{t=r.map(i=>{let a=i.payload.doc.data();if(console.log(a.email),console.log(localStorage.getItem("PokemonUsuarioLogueado")),a.email==localStorage.getItem("PokemonUsuarioLogueado"))return this.records=a,a}),console.log(this.records)})}obtenerUsuarioLogeado(){this.login.getUserLogged().subscribe(t=>{this.usuario=t,console.log(this.usuario)})}logout(){this.login.logout(),localStorage.setItem("PokeBolaPokeJuego",""),localStorage.setItem("PokemonUsuarioLogueado",""),this.router.navigate(["/login"])}irLogin(){this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(I4),c.Y36(gb),c.Y36(hr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-perfil"]],decls:2,vars:2,consts:[["class","contenedorPrincipal",4,"ngIf"],[1,"contenedorPrincipal"],["class","rank",4,"ngIf"],[1,"rank"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["sinNombre",""],["mat-raised-button","","color","warn",3,"click"]],template:function(t,r){1&t&&(c.YNc(0,xee,17,6,"div",0),c.YNc(1,Dee,6,0,"div",0)),2&t&&(c.Q6J("ngIf",""!=r.logeado),c.xp6(1),c.Q6J("ngIf",""==r.logeado))},directives:[Jn,O4],styles:[".contenedorPrincipal[_ngcontent-%COMP%]{flex-wrap:wrap;padding:15px;display:flex;justify-content:center;align-items:center;text-align:center;min-height:50vh}.rank[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;width:50%;padding:20px;background:#fff;border-radius:5px;border-top:5px solid #ff656c;border-bottom:5px solid #ff656c;margin:0 auto}.rank[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:red;font-family:Verdana,Geneva,Tahoma,sans-serif;size:2em}"]}),n})();function Iee(n,e){if(1&n&&(c.TgZ(0,"ul"),c.TgZ(1,"li"),c.TgZ(2,"a",5),c._uU(3),c.qZA(),c._uU(4),c.qZA(),c.qZA()),2&n){const t=e.$implicit;c.xp6(2),c.MGl("href","/Juegos-Pokemon/",t.id,"",c.LSH),c.xp6(1),c.hij("",t.email[0]," "),c.xp6(1),c.hij(" ",t.memorion," turnos")}}function kee(n,e){if(1&n&&(c.TgZ(0,"ul"),c.TgZ(1,"li"),c.TgZ(2,"a",5),c._uU(3),c.qZA(),c._uU(4),c.qZA(),c.qZA()),2&n){const t=e.$implicit;c.xp6(2),c.MGl("href","/Juegos-Pokemon/",t.id,"",c.LSH),c.xp6(1),c.hij("",t.email[0]," "),c.xp6(1),c.hij(" ",t.SopaLetras," seg")}}function Nee(n,e){if(1&n&&(c.TgZ(0,"ul"),c.TgZ(1,"li"),c.TgZ(2,"a",5),c._uU(3),c.qZA(),c._uU(4),c.qZA(),c.qZA()),2&n){const t=e.$implicit;c.xp6(2),c.MGl("href","/Juegos-Pokemon/",t.id,"",c.LSH),c.xp6(1),c.hij("",t.email[0]," "),c.xp6(1),c.hij(" ",t.testAciertos,"")}}function Lee(n,e){if(1&n&&(c.TgZ(0,"ul"),c.TgZ(1,"li"),c.TgZ(2,"a",5),c._uU(3),c.qZA(),c._uU(4),c.qZA(),c.qZA()),2&n){const t=e.$implicit;c.xp6(2),c.MGl("href","/Juegos-Pokemon/",t.id,"",c.LSH),c.xp6(1),c.Oqu(t.email[0]),c.xp6(1),c.hij(" ",t.testFallos," ")}}function Ree(n,e){if(1&n&&(c.TgZ(0,"ul"),c.TgZ(1,"li"),c.TgZ(2,"a",5),c._uU(3),c.qZA(),c._uU(4),c.qZA(),c.qZA()),2&n){const t=e.$implicit;c.xp6(2),c.MGl("href","/Juegos-Pokemon/",t.id,"",c.LSH),c.xp6(1),c.Oqu(t.email[0]),c.xp6(1),c.hij(" ",t.CuatroRaya," ")}}function Oee(n,e){if(1&n&&(c.TgZ(0,"div",2),c.TgZ(1,"div",3),c.TgZ(2,"h3"),c._uU(3,"Memorion 6 parejas"),c.qZA(),c.YNc(4,Iee,5,3,"ul",4),c.qZA(),c.TgZ(5,"div",3),c.TgZ(6,"h3"),c._uU(7,"Sopa de letras 4 plalabras 400 letras"),c.qZA(),c.YNc(8,kee,5,3,"ul",4),c.qZA(),c.TgZ(9,"div",3),c.TgZ(10,"h3"),c._uU(11,"Test aciertos"),c.qZA(),c.YNc(12,Nee,5,3,"ul",4),c.qZA(),c.TgZ(13,"div",3),c.TgZ(14,"h3"),c._uU(15,"Test fallos"),c.qZA(),c.YNc(16,Lee,5,3,"ul",4),c.qZA(),c.TgZ(17,"div",3),c.TgZ(18,"h3"),c._uU(19,"Victorias 4 en raya"),c.qZA(),c.YNc(20,Ree,5,3,"ul",4),c.qZA(),c.qZA()),2&n){const t=c.oxw();c.xp6(4),c.Q6J("ngForOf",t.usuariosMemorion),c.xp6(4),c.Q6J("ngForOf",t.usuariosSopa),c.xp6(4),c.Q6J("ngForOf",t.usuariosAciertos),c.xp6(4),c.Q6J("ngForOf",t.usuariosfallos),c.xp6(4),c.Q6J("ngForOf",t.usuariosCuatroRaya)}}function Pee(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",6),c.TgZ(1,"div"),c.TgZ(2,"h1"),c._uU(3,"Loegueate para ver tu perfil"),c.qZA(),c.TgZ(4,"button",7),c.NdJ("click",function(){return c.CHM(t),c.oxw().irLogin()}),c._uU(5,"Ir al Login"),c.qZA(),c.qZA(),c.qZA()}}let zee=(()=>{class n{constructor(t,r){this.baseDatos=t,this.router=r,this.collecionBaseDatos="Records Pokemon",this.usuariosfallos=[],this.usuariosAciertos=[],this.usuariosMemorion=[],this.usuariosSopa=[],this.usuariosCuatroRaya=[]}ngOnInit(){var t=[];this.logeado=localStorage.getItem("PokemonUsuarioLogueado"),this.baseDatos.obtenerTodos(this.collecionBaseDatos).subscribe(r=>{console.log("usuariosRef: ",r),t=r.map(i=>{let a=i.payload.doc.data();return a.email=a.email.split("@"),a}),this.usuariosMemorion=t.filter(i=>i.memorion>0),this.usuariosMemorion.sort((i,a)=>i.memorion>a.memorion?1:i.memorion<a.memorion?-1:0)}),this.baseDatos.obtenerTodos(this.collecionBaseDatos).subscribe(r=>{console.log("usuariosRef: ",r),t=r.map(i=>{let a=i.payload.doc.data();return a.email=a.email.split("@"),a}),this.usuariosAciertos=t.sort((i,a)=>i.testAciertos<a.testAciertos?1:i.testAciertos>a.testAciertos?-1:0)}),this.baseDatos.obtenerTodos(this.collecionBaseDatos).subscribe(r=>{console.log("usuariosRef: ",r),t=r.map(i=>{let a=i.payload.doc.data();return a.email=a.email.split("@"),a}),this.usuariosfallos=t.sort((i,a)=>i.testFallos<a.testFallos?1:i.testFallos>a.testFallos?-1:0)}),this.baseDatos.obtenerTodos(this.collecionBaseDatos).subscribe(r=>{console.log("usuariosRef: ",r),t=r.map(i=>{let a=i.payload.doc.data();return a.email=a.email.split("@"),a}),this.usuariosSopa=t.filter(i=>i.SopaLetras>0),this.usuariosSopa.sort((i,a)=>i.SopaLetras>a.SopaLetras?1:i.SopaLetras<a.SopaLetras?-1:0)}),this.baseDatos.obtenerTodos(this.collecionBaseDatos).subscribe(r=>{console.log("usuariosRef: ",r),t=r.map(i=>{let a=i.payload.doc.data();return a.email=a.email.split("@"),a}),this.usuariosCuatroRaya=t.filter(i=>i.CuatroRaya>0),this.usuariosCuatroRaya.sort((i,a)=>i.CuatroRaya<a.CuatroRaya?1:i.CuatroRaya>a.CuatroRaya?-1:0)})}irLogin(){this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(I4),c.Y36(hr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-records"]],decls:2,vars:2,consts:[["class","contenedorPrincipal",4,"ngIf"],["class","contenedorLogin",4,"ngIf"],[1,"contenedorPrincipal"],[1,"rank"],[4,"ngFor","ngForOf"],[3,"href"],[1,"contenedorLogin"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,r){1&t&&(c.YNc(0,Oee,21,5,"div",0),c.YNc(1,Pee,6,0,"div",1)),2&t&&(c.Q6J("ngIf",""!=r.logeado),c.xp6(1),c.Q6J("ngIf",""==r.logeado))},directives:[Jn,vr,O4],styles:[".contenedorPrincipal[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;padding:15px}.rank[_ngcontent-%COMP%]{margin:5px;display:flex;flex-direction:column;text-align:center;width:320px;padding:20px;background:#fff;border-radius:5px;border-top:5px solid #ff656c;border-bottom:5px solid #ff656c;margin:5 auto}.rank[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:red;font-family:Verdana,Geneva,Tahoma,sans-serif;size:2em}li[_ngcontent-%COMP%]{list-style-image:url(medalla.27a0b70aef001fd6.png);list-style-position:inside}.contenedorLogin[_ngcontent-%COMP%]{flex-wrap:wrap;padding:15px;display:flex;justify-content:center;align-items:center;text-align:center;min-height:50vh}"]}),n})();function Fee(n,e){if(1&n&&(c.TgZ(0,"div",1),c.TgZ(1,"h2"),c.TgZ(2,"strong"),c._uU(3),c.qZA(),c.qZA(),c.TgZ(4,"div"),c.TgZ(5,"p"),c._UZ(6,"fa-icon",2),c._uU(7," Memorion de 6 parejas "),c.TgZ(8,"strong"),c._uU(9),c.qZA(),c._uU(10," intentos"),c.qZA(),c.qZA(),c.TgZ(11,"div"),c.TgZ(12,"p"),c._UZ(13,"fa-icon",2),c._uU(14,"Sopa de letras 4 palabras 400 letras "),c.TgZ(15,"strong"),c._uU(16),c.qZA(),c._uU(17," segundos"),c.qZA(),c.qZA(),c.TgZ(18,"div"),c.TgZ(19,"p"),c._UZ(20,"fa-icon",2),c._uU(21,"Aciertos en test pokemon "),c.TgZ(22,"strong"),c._uU(23),c.qZA(),c.qZA(),c.TgZ(24,"p"),c._UZ(25,"fa-icon",2),c._uU(26,"Fallos en test pokemon "),c.TgZ(27,"strong"),c._uU(28),c.qZA(),c.qZA(),c.TgZ(29,"p"),c._UZ(30,"fa-icon",2),c._uU(31,"Victorias en cuatro en raya "),c.TgZ(32,"strong"),c._uU(33),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&n){const t=c.oxw();c.xp6(3),c.Oqu(t.usuario.email),c.xp6(3),c.Q6J("icon",t.iconoEstrella),c.xp6(3),c.Oqu(t.usuario.memorion),c.xp6(4),c.Q6J("icon",t.iconoEstrella),c.xp6(3),c.hij(" ",t.usuario.SopaLetras,""),c.xp6(4),c.Q6J("icon",t.iconoEstrella),c.xp6(3),c.Oqu(t.usuario.testAciertos),c.xp6(2),c.Q6J("icon",t.iconoEstrella),c.xp6(3),c.hij("",t.usuario.testFallos," "),c.xp6(2),c.Q6J("icon",t.iconoEstrella),c.xp6(3),c.hij("",t.usuario.CuatroRaya," ")}}let Vee=(()=>{class n{constructor(t,r){this.database=t,this.route=r,this.collecionBaseDatos="Records Pokemon",this.idUsuario="",this.iconoEstrella=IA}ngOnInit(){this.route.paramMap.subscribe(t=>{this.idUsuario=t.get("id"),this.buscarBaseDatos()})}buscarBaseDatos(){this.database.obtenerTodos(this.collecionBaseDatos).subscribe(t=>{t.map(i=>{i.payload.doc.id==this.idUsuario&&(this.usuario=i.payload.doc.data(),console.log(this.usuario))})})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(I4),c.Y36(Ma))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-otro-perfil"]],decls:1,vars:1,consts:[["class","rank",4,"ngIf"],[1,"rank"],[1,"iconoClase",3,"icon"]],template:function(t,r){1&t&&c.YNc(0,Fee,34,11,"div",0),2&t&&c.Q6J("ngIf",r.usuario)},directives:[Jn,IS],styles:[".rank[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;width:50%;padding:20px;background:#fff;border-radius:5px;border-top:5px solid #ff656c;border-bottom:5px solid #ff656c;margin:0 auto}.rank[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:red;font-family:Verdana,Geneva,Tahoma,sans-serif;size:2em}"]}),n})();const Hee=["ResultadoFinal"];function Bee(n,e){if(1&n&&(c.TgZ(0,"div",6),c.TgZ(1,"p",7),c._uU(2),c.qZA(),c.qZA()),2&n){const t=c.oxw();c.xp6(2),c.hij(" Victorias ",t.logeado.CuatroRaya," ")}}function Uee(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"div",8),c.TgZ(2,"img",9),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw().ponerficha(a)}),c.qZA(),c.qZA(),c.qZA()}if(2&n){const t=e.$implicit;c.xp6(2),c.s9C("id",t)}}function jee(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",6),c.TgZ(1,"button",10),c.NdJ("click",function(){return c.CHM(t),c.oxw().mostrarBolas()}),c._uU(2," Elegir bola"),c.qZA(),c.qZA()}}function Zee(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",14),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).elegirBola(2)}),c._uU(1," Seleccionar"),c.qZA()}}function qee(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",14),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).elegirBola(3)}),c._uU(1,"Seleccionar"),c.qZA()}}function Gee(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",14),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).elegirBola(4)}),c._uU(1,"Seleccionar"),c.qZA()}}function Wee(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",14),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).elegirBola(5)}),c._uU(1,"Seleccionar"),c.qZA()}}function $ee(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",11),c.TgZ(1,"div",12),c._UZ(2,"img",13),c.TgZ(3,"p"),c.TgZ(4,"strong"),c._uU(5,"Pokeball"),c.qZA(),c.qZA(),c.TgZ(6,"p"),c._uU(7,"0 Victoria"),c.qZA(),c.TgZ(8,"button",14),c.NdJ("click",function(){return c.CHM(t),c.oxw().elegirBola(1)}),c._uU(9,"Seleccionar"),c.qZA(),c.qZA(),c.TgZ(10,"div",12),c._UZ(11,"img",15),c.TgZ(12,"p"),c.TgZ(13,"strong"),c._uU(14,"Superball"),c.qZA(),c.qZA(),c.TgZ(15,"p"),c._uU(16,"1 Victoria"),c.qZA(),c.YNc(17,Zee,2,0,"button",16),c.qZA(),c.TgZ(18,"div",12),c._UZ(19,"img",17),c.TgZ(20,"p"),c.TgZ(21,"strong"),c._uU(22,"Ultraball"),c.qZA(),c.qZA(),c.TgZ(23,"p"),c._uU(24,"5 Victorias"),c.qZA(),c.YNc(25,qee,2,0,"button",16),c.qZA(),c.TgZ(26,"div",12),c._UZ(27,"img",18),c.TgZ(28,"p"),c.TgZ(29,"strong"),c._uU(30,"Premierball"),c.qZA(),c.qZA(),c.TgZ(31,"p"),c._uU(32,"10 Victorias"),c.qZA(),c.YNc(33,Gee,2,0,"button",16),c.qZA(),c.TgZ(34,"div",12),c._UZ(35,"img",19),c.TgZ(36,"p"),c.TgZ(37,"strong"),c._uU(38,"Masterball"),c.qZA(),c.qZA(),c.TgZ(39,"p"),c._uU(40,"20 Victorias"),c.qZA(),c.YNc(41,Wee,2,0,"button",16),c.qZA(),c.qZA()}if(2&n){const t=c.oxw();c.xp6(17),c.Q6J("ngIf",t.logeado.CuatroRaya>0),c.xp6(8),c.Q6J("ngIf",t.logeado.CuatroRaya>4),c.xp6(8),c.Q6J("ngIf",t.logeado.CuatroRaya>9),c.xp6(8),c.Q6J("ngIf",t.logeado.CuatroRaya>10)}}const Kee=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"test",component:CL},{path:"cartas",component:tee},{path:"sopaLetras",component:cee},{path:"memorion",component:fee},{path:"home",component:pee},{path:"login",component:Cee},{path:"perfil",component:Tee},{path:"CuatroEnRaya",component:(()=>{class n{constructor(t,r){this.baseDatos=t,this.router=r,this.collecionBaseDatos="Records Pokemon",this.logeado={},this.cantidadCajas=[],this.casillasConFichasPuestas=[],this.casillasConFichasPuestasMaquina=[],this.casillasConFichasPuestasUsuario=[],this.ensenar=!1,this.imagenTuPokeBall="",this.nadieGana=!0,this.bloquearBoton=!1}ngOnInit(){for(let r=0;r<72;r++)this.cantidadCajas.push(r);this.baseDatos.obtenerTodos(this.collecionBaseDatos).subscribe(r=>{r.map(i=>{let a=i.payload.doc.data();if(a.email==localStorage.getItem("PokemonUsuarioLogueado"))return a.id=i.payload.doc.id,this.logeado=a,a}),console.log(this.logeado)}),this.imagenTuPokeBall=null==localStorage.getItem("PokeBolaPokeJuego")||""==localStorage.getItem("PokeBolaPokeJuego")?"https://aux3.iconspalace.com/uploads/645019229296460368.png":localStorage.getItem("PokeBolaPokeJuego")}ponerficha(t){this.bloquearBoton=!0,this.queFilaToca(t,!0),this.turnoMaquina()}turnoMaquina(){let t=!1;if(1==this.nadieGana){for(let r=0;r<this.casillasConFichasPuestasUsuario.length;r++)this.casillasConFichasPuestasUsuario.includes(this.casillasConFichasPuestasUsuario[r]+1)&&0==this.casillasConFichasPuestas.includes(this.casillasConFichasPuestasUsuario[r]+2)&&this.cantidadCajas.includes(this.casillasConFichasPuestasUsuario[r]+2)&&(t=!0,this.queFilaToca(this.casillasConFichasPuestasUsuario[r]+2,!1),r=this.casillasConFichasPuestasUsuario.length),this.casillasConFichasPuestasUsuario.includes(this.casillasConFichasPuestasUsuario[r]-1)&&0==this.casillasConFichasPuestas.includes(this.casillasConFichasPuestasUsuario[r]-2)&&0==t&&this.cantidadCajas.includes(this.casillasConFichasPuestasUsuario[r]-2)&&(t=!0,this.queFilaToca(this.casillasConFichasPuestasUsuario[r]-2,!1),r=this.casillasConFichasPuestasUsuario.length),this.casillasConFichasPuestasUsuario.includes(this.casillasConFichasPuestasUsuario[r]-9)&&0==this.casillasConFichasPuestas.includes(this.casillasConFichasPuestasUsuario[r]-18)&&0==t&&this.cantidadCajas.includes(this.casillasConFichasPuestasUsuario[r]-18)&&(t=!0,this.queFilaToca(this.casillasConFichasPuestasUsuario[r],!1),r=this.casillasConFichasPuestasUsuario.length);0==t&&this.queFilaToca(this.aleatorio(0,8),!1)}}aleatorio(t,r){return Math.floor(Math.random()*(r-t+1)+t)}queFilaToca(t,r){switch(t%9){case 0:this.dondePonerFicha(0,r);break;case 1:this.dondePonerFicha(1,r);break;case 2:this.dondePonerFicha(2,r);break;case 3:this.dondePonerFicha(3,r);break;case 4:this.dondePonerFicha(4,r);break;case 5:this.dondePonerFicha(5,r);break;case 6:this.dondePonerFicha(6,r);break;case 7:this.dondePonerFicha(7,r);break;case 8:this.dondePonerFicha(8,r)}}dondePonerFicha(t,r){for(let i=this.cantidadCajas.length-1;i>-1;i--)if(0==this.casillasConFichasPuestas.includes(i)&&i%9==t){console.log(i);let a=document.getElementById(i+"");this.casillasConFichasPuestas.push(i),1==r?(a.src=this.imagenTuPokeBall,this.casillasConFichasPuestasUsuario.push(i),this.comprobarVictoria(r)):(a.src="https://www.shareicon.net/data/256x256/2016/10/18/844174_game_512x512.png",this.casillasConFichasPuestasMaquina.push(i),this.comprobarVictoria(r)),i=0}}comprobarVictoria(t){let r;r=1==t?this.casillasConFichasPuestasUsuario:this.casillasConFichasPuestasMaquina;for(let i=0;i<r.length;i++)r.includes(r[i]+1)&&(r[i]+1)%9!=0&&(r[i]+1)%9!=8&&r.includes(r[i]+2)&&(r[i]+2)%9!=0&&(r[i]+2)%9!=8&&r.includes(r[i]+3)&&this.actualizarVictorias(t),r.includes(r[i]+9)&&r.includes(r[i]+18)&&r.includes(r[i]+27)&&this.actualizarVictorias(t),r.includes(r[i]-8)&&(r[i]-8)%9!=0&&(r[i]-8)%9!=8&&r.includes(r[i]-16)&&(r[i]-16)%9!=0&&(r[i]-16)%9!=8&&r.includes(r[i]-24)&&this.actualizarVictorias(t),r.includes(r[i]-10)&&(r[i]-10)%9!=0&&(r[i]-10)%9!=8&&r.includes(r[i]-20)&&(r[i]-20)%9!=0&&(r[i]-20)%9!=8&&r.includes(r[i]-20)&&this.actualizarVictorias(t)}actualizarVictorias(t){1==t?(this.nadieGana=!1,null==this.logeado.CuatroRaya?(this.logeado.CuatroRaya=1,this.baseDatos.actualizar(this.collecionBaseDatos,this.logeado,this.logeado.id)):(this.logeado.CuatroRaya=this.logeado.CuatroRaya+1,this.baseDatos.actualizar(this.collecionBaseDatos,this.logeado,this.logeado.id)),this.deleteSwal.fire()):(this.deleteSwal.title="DERROTA",this.deleteSwal.icon="error",this.deleteSwal.text="Intentalo de nuevo",this.deleteSwal.fire())}mostrarBolas(){this.ensenar=0==this.ensenar}elegirBola(t){0==this.bloquearBoton&&(1==t&&(this.imagenTuPokeBall="https://aux3.iconspalace.com/uploads/645019229296460368.png"),2==t&&this.logeado.CuatroRaya>0&&(this.imagenTuPokeBall="https://aux.iconspalace.com/uploads/21241959701031495453.png"),3==t&&this.logeado.CuatroRaya>4&&(this.imagenTuPokeBall="https://aux.iconspalace.com/uploads/1239819779318352436.png"),4==t&&this.logeado.CuatroRaya>9&&(this.imagenTuPokeBall="https://aux.iconspalace.com/uploads/1135170936575256273.png"),5==t&&this.logeado.CuatroRaya>19&&(this.imagenTuPokeBall="https://aux.iconspalace.com/uploads/1256021885372237969.png"),localStorage.setItem("PokeBolaPokeJuego",this.imagenTuPokeBall),this.ensenar=!1)}reinicio(){this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/CuatroEnRaya"])})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(I4),c.Y36(hr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-cuatro-raya"]],viewQuery:function(t,r){if(1&t&&c.Gf(Hee,5),2&t){let i;c.iGM(i=c.CRH())&&(r.deleteSwal=i.first)}},decls:7,vars:4,consts:[["class","resultados",4,"ngIf"],[1,"wrapper"],[4,"ngFor","ngForOf"],["class","imagenBolas",4,"ngIf"],["title","VICTORIA","icon","success","text","\xa1\xa1Has ganado!!",3,"confirm"],["ResultadoFinal",""],[1,"resultados"],[1,"aciertos"],[1,"box"],["src","https://img.icons8.com/emoji/256/white-circle-emoji.png","alt","",1,"fichas",3,"id","click"],["mat-raised-button","","color","warn",3,"click"],[1,"imagenBolas"],[1,"itemBolas"],["src","https://aux3.iconspalace.com/uploads/645019229296460368.png","alt","",1,"PokeballGrande"],["mat-raised-button","","color","Primary",3,"click"],["src","https://aux.iconspalace.com/uploads/21241959701031495453.png","alt","",1,"PokeballGrande"],["mat-raised-button","","color","Primary",3,"click",4,"ngIf"],["src","https://aux.iconspalace.com/uploads/1239819779318352436.png","alt","",1,"PokeballGrande"],["src","https://aux.iconspalace.com/uploads/1135170936575256273.png","alt","",1,"PokeballGrande"],["src","https://aux.iconspalace.com/uploads/1256021885372237969.png","alt","",1,"PokeballGrande"]],template:function(t,r){1&t&&(c.YNc(0,Bee,3,1,"div",0),c.TgZ(1,"div",1),c.YNc(2,Uee,3,1,"div",2),c.qZA(),c.YNc(3,jee,3,0,"div",0),c.YNc(4,$ee,42,4,"div",3),c.TgZ(5,"swal",4,5),c.NdJ("confirm",function(){return r.reinicio()}),c.qZA()),2&t&&(c.Q6J("ngIf",r.logeado.CuatroRaya),c.xp6(2),c.Q6J("ngForOf",r.cantidadCajas),c.xp6(1),c.Q6J("ngIf",r.logeado.CuatroRaya),c.xp6(1),c.Q6J("ngIf",r.ensenar))},directives:[Jn,vr,P4,O4],styles:['.wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr,1fr 1fr 1fr 1fr 1fr 1fr 1fr;grid-template-rows:1fr 1fr 1fr 1fr 1fr 1fr;grid-gap:2px 2px;gap:2px 2px;grid-template-areas:". . . . . . . . ." ". . . . . . . . ." ". . . . . . . . ." ". . . . . . . . ." ". . . . . . . . ." ". . . . . . . . .";padding:40px;margin-left:100px;margin-right:100px}.box[_ngcontent-%COMP%]{border:solid blue 1px;background-color:#00f;text-align:center;box-shadow:11px 8px 18px 2px #000000b8}.fichas[_ngcontent-%COMP%]{width:50%}.imagenBolas[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;padding:50px}.PokeballGrande[_ngcontent-%COMP%]{width:50%}.PokeballPequena[_ngcontent-%COMP%]{width:200%}.resultados[_ngcontent-%COMP%]{display:flex;justify-content:center}.itemBolas[_ngcontent-%COMP%]{text-align:center}.aciertos[_ngcontent-%COMP%]{padding:5px;font-size:1.5em}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}button[_ngcontent-%COMP%]{background-color:transparent;color:#1b1b20}button[_ngcontent-%COMP%]:hover{background-color:transparent;box-shadow:none;color:#e6e6e6}button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;transition:opacity .3s,border .3s}button[_ngcontent-%COMP%]:hover:before{opacity:0}button[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent;border:3px solid #e6e6e6;opacity:0;z-index:-1;transform:scaleX(1.1) scaleY(1.3);transition:transform .3s,opacity .3s}button[_ngcontent-%COMP%]:hover:after{opacity:1;transform:scaleX(1) scaleY(1)}']}),n})()},{path:"records",component:zee},{path:":id",component:Vee}];let Yee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yh.forRoot(Kee)],Yh]}),n})();const Qee=["*",[["mat-toolbar-row"]]],Jee=["*","mat-toolbar-row"],Xee=MA(class{constructor(n){this._elementRef=n}});let ete=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),tte=(()=>{class n extends Xee{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(R1),c.Y36(se))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,ete,5),2&t){let a;c.iGM(a=c.CRH())&&(r._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&c.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:Jee,decls:2,vars:0,template:function(t,r){1&t&&(c.F$t(Qee),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),nte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ps],Ps]}),n})();function rte(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"a",16),c._UZ(2,"img",17),c.qZA(),c.TgZ(3,"button",18),c.NdJ("click",function(){return c.CHM(t),c.oxw().irPerfil()}),c._uU(4),c.qZA(),c.qZA()}if(2&n){const t=c.oxw();c.xp6(4),c.hij(" ",t.nombre[0],"")}}function ite(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",18),c.NdJ("click",function(){return c.CHM(t),c.oxw().irLogin()}),c._uU(1," Login"),c.qZA()}}let ste=(()=>{class n{constructor(t,r){this.servicioLogin=t,this.router=r,this.logeado="",this.userLogged=this.servicioLogin.getUserLogged()}ngOnInit(){this.logeado=localStorage.getItem("PokemonUsuarioLogueado"),this.userLogged.subscribe(t=>{var r;this.nombre=null===(r=null==t?void 0:t.email)||void 0===r?void 0:r.split("@")})}irLogin(){this.router.navigate(["/login"])}irPerfil(){this.router.navigate(["/perfil"])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gb),c.Y36(hr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-navbar"]],decls:20,vars:4,consts:[["role","banner",1,"toolbar"],["rel","noopener","href","/Juegos-Pokemon/home","title","Home"],["width","40","alt","Logo","src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAw1BMVEXjGhr7+/vf39/9///iAADfAAD7///////jGxvc3NzjFxfjAADjExPe6OjiCQn1rKz09PTd7u796Ojp6enf5OTd8fH/9vb97e3ylZXu7u7jlZXrbGzyk5P6zMzraGjznJztenrwi4v81tb709Ptc3PjjY3zpaXlPT3pVlb3wsLnTU3vg4PlRkbjXl7ioKDjbGziMjL94ODhuLjiJSX2tbXhvr7jNTXisrHgf3/hysriqan3u7rjWFjjkpHhvb3y3Nz80dHZZ4NpAAALEklEQVR4nO2di3LaOBSGg6VjG8WYQgxkS0iApNyThkKTptBu3v+p1gZj62KDuMiYHX0zu9MJweWvzk3Skbi60mg0Go1Go9FoNBqNRqPRaDQajUaj0Wg0Go1Go9FoNBqNhoM4LmAMIRhj1yHn/kynw/GVkf6gfVsetj673cfWsHzbHry5AO7lq7SJP2CjcXlatZCPGRL8uVD9fLi3/eF0ruxzf8yDcQBm42Hd8pWhgkDw0/r0/dfkOlB5gfi22X+Y+uoSxFEyLbNW+fg68h3zwizWhbe7QN42dRtujErN+P3sXtJIYnhu1eXk+VhfjKJRqhRf+tg99yeXwg8u46m0vLXGm6Jh+CI/lhif++PvhAC5kx8+ahhX1IrtvGsEuK1vDS2pGMVQ43fs5jd9OPDUQIcJDC3Vp/IxwjmNqwRG00P1BRL/CSV6tXcnl6YKs7m1r/+xEr+EEo1SqZ2/1EGg3ThKHyPRqPy0cb680YXhEQaaINErPefKUmFZP3YAeYlG7SU/lkrg1jp+AAWJlQ8nJzWOA4sT6eMkel4/F5bqut2TWOhG4j+xRKOSB2d0X4+OoZzEG0pi7fvZQyrunybG0BINitqvM4+iAoE+RVrit7OOoqtEIB1tzizRmakQyLli8Yy+6EBViUDOFY3auSIqgUdFAgsFxk6NSv88qf+UiZ6HsVN/skHOUcBBR51A3k69jzPYqTuyFAoU7PR35tGGuCcuZXjYQQyKm4wVwlCtwAKb931XfM3WFXFbpROusG5Yhdm6InEOXDPcC3YQs61QM7BRYRCNmp2dncKz2ji6gR1E72dmg0iUVWss/CBWmllJVJvradhBNIoZKSR2FmEmQBjEb9lIhIeshpArbPyUcZ2FQIIPDDPrDoUV27e+Y7jCxih9zWIQDxpCXxPqLnrtZkC7t5jKqWQW3lYSM2jDIW59b30mqvaW10GrkBsQdA7h+3lDZiOVV5jBIO4fSE1ruMTgsm0zxAV4ety5WcXHGsNQ37Oxby40rfkrJE7RCYZBd9d+Dh9rKm3Vg+je7zeEqNuH9GIr2DTe/g9mcQrVz4X3q0hN626LPh8bO9vXQgQzrU3UVqdktoe+gtmYwM4nwnjrxpWQEn+rHUQ83sNI0aMrs0YGo62rrpxCxVnfhj32mdBiu4VG4G2bO6KZPqtcWiSOfD2DhsAG9iBBYLzqo+WUu7N0iULS936oNNM9jNTkBLp+ku+1GvV6Y7q4nQD34mu6ofKOaHjXClMitGSN1JwyGlxYtlZ9pus+WtR4sNnXJ+mP4nN+ZanOTAmWrdhQfUZbIjxzvXwIWWWmnwSe0qxDcMTSizozdZ9ljRTRmykOlBPKM1RvUqnEhnLKs0VHVJj04VbSSM05xOPjQDfxwyPUo7NlajkoOGJppswRZd3QbFBO5pDUStbPJ/HDnX5anOYVVpTlC+JW5awU0eUxTGOB4Rw4+gGixxp6yU/np8FG5Y+qpO/05QSa3XhobJhHbzKt7sP9YPlUrkYaUTv+VUIaic8XQo33V5UjygYaRFkRRHMRhIZ9gGAGDEFo3fwyFXNTpp5CqFG35obvpBT6qTB6S7y0ataXcSnjwl3odH5hEP8FkDyIYqhRtZYhuelLe2FUBJnVGZ3+bLgPJVqjnYMohJram6IZlGTZXacC6SbM+BUAF/+guZZoUvGUuMnhVFDYVBRMYSozhvRHdkbhO9BScJ3Nmp1FqH+Qf5P+BjGY/lIUTLGFduBXnCai/oGhvB5CpgKIXly7KHqKfx//NZMeWwqorP8fUFM1Cya3nbs1txseInoB5fJ8Pp8lGOkswXHCXVZfffyjl5ubfz8+fv798eP9/f1lxVeaPz7fvn37rirl43B6Fx+UDAGaWCDBa6OjE2QMgXr4Yjy+rot3cn19nZsTGRs3ZAvQiE0RmIMe0kNxm6HCp0QReB1rUCbbLWrYZEN0n+g34ctI5ZxdMTjM4Ch5MhApzPpznQ6Qs9JL9sNBGEvLyZHmM4g0qLpz1Ti/EDdUOE1I+H62WL84vGCFftkSVmZJmw1hnY1u82OlhM3saVBioqqtJY6Tn/DXCvvUG1yulEhBUcYns06nE1Rs6yqtnMKcarFzJpvKuy1IhLkZWjAlsDkdLhbD4fuPGL98e/8dsKrXVnxVVLUR2woq612kLNJMOFuEsPePMVJ/BmrGDQ3RI0ue55UoaqrmFtDYMXESLTLqYTQLzEZbsKe2Fli3qXwPySvOwvwwuYI4gcKp1AwYEZLwHlQYQ6jRvoJo/Rc90EaassEsKOyrmuPL7f+iDv2hB9G0HXXvV1HE/2/ciBY3qKmInbIeK6zTVGxFdR6W66RBDWYpO16+MlF90et0ekMr6k+w6HMGzlvy8wWFhrLVxKbkaiJdpNELpuGScDxQFhNiYZE4hGLHibKNi/R1dxYmAQRpIXVbibbn1McLyzTqNp+II7uqP2YldhI7g0zrif21FDfPbiFKfmeGTQH++/riVSAm6s5YgamdOkKgUddwAnKL3qtqmqmrXBhX6VY9ZFqPTXY3f1PEiYiBRl37nruU3iF94qo0gOawEdYpCDUWI2B/wU5NReLGjMp+b+ld7oL1xpUdQSfGpF1eLBbl9kToxriC1B4IMdCo7BSW7/kyq1eCsxBnPTlJuEkAL9PDtOCGqiqa1QeRPypjPoK8t7j9QuqDBTcsqlzX2acDGslLhC2nbbmTiL4bKm1sS6sc0yTKmRNMtjS2CW6ouDkRp7a9JEmcvsqcGoTm1lbhzIrSNYTs0+Ud7PvueqIDD1stn9/irqju9E6pjlMIWma2T1Zh9ri9g9bjI6mq/d8NmyVQaY3V53SNBMPdrmZ2Ps6oP94lOdGPJVqtASR+KgLQ3lnKC0aqbOswYq8u4RUmemxj4G4o85O/fVvdeeJCiKRZHO5KaQnZrrGweLLjhVD/T6/jT6lTM3yXdxYHSQ87m+eX29XW4m4c0Fl8NpDUzYNiX2Im+1Sp05wdoGglNPHG1kSFfCDN5iyw9CzxePia1Mtmi4Mc4ImHIZx1Vn4kKCSDw/gh3FHn7I7k75sTD0Q4JKuwhZ1D9a0fG7ghVHrQgiO17fyUCEOYZc+GH2wysFPu1oiswsyaqD1UHfzNH9ndqBBKTF2qPxmcF6rab0qDqI6n3BCe4b4v5y3TW5QyOYjPsdeSzd6wFWnG1+9sSDsBchKBzBqiVzzT/dcK7+FhbbSkem0mDXXRhrtVcHC2rilH0ZVmrI3WMrt4J0nilgO8Rwhkb/dsn/cC01PfsbuCEXjuS2i3HcM+EPaW3Wyr0SQc58TXYjFOWLk/u8Bg46F1yrxIL695pVEOBAZJo3e6Ao6OMqXiay4EXgWb8Md970OywNrP/FysfwV9yV6iPQRW/uRlAFe4/nzxpN/+UDKWZ7+NnYVA8+h76iiBtXepi1+yBcOx38ISRdGS95zLL9M59pt0NnmwVHq5zt8ArrDdYMvzUI3hFz55tR9vuQoxHBju6odotMI7WrzaxyhHOSIJAtCRukyPFbh2wVLtbz/n+lYAtLvSdz+uBQYu6FW832+XoC8Aw2i+x7cD+i7o1Uo/vzuXoi/AAac53PUFlqHAL6Va6W/bvrhvsSTu6n7LYG87XV2w3X3z8XV0jXOZ/3bji+yP59O6uHUfXF+KUH06b/fxhX7R6oagaXY2aveG02qBuiWhOm2Vx4NZYjftBeI4qxYabM/eJoPBpD+buaveGud/oY6CEOKsIZfpdBqNRqPRaDQajUaj0Wg0Go1Go9FoNBqNRqPRaDQajUZzfv4Da1ne8xhLZPIAAAAASUVORK5CYII="],[1,"spacer"],["rel","noopener","href","/Juegos-Pokemon/cartas","title","Cartas"],["width","30","src","https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/bd7273e4-235c-411d-a390-34d3d27365a2/ddmf2it-8f5a4080-00cf-4786-b676-ab988ffadf21.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcL2JkNzI3M2U0LTIzNWMtNDExZC1hMzkwLTM0ZDNkMjczNjVhMlwvZGRtZjJpdC04ZjVhNDA4MC0wMGNmLTQ3ODYtYjY3Ni1hYjk4OGZmYWRmMjEucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.jF5fn28rY4u_otcExArKxkOKpiRpvE9wwCW89DMsGpQ","alt",""],["a","","rel","noopener","href","/Juegos-Pokemon/test","title","Test"],["width","30","src","https://image.flaticon.com/icons/png/128/1205/1205526.png?ga=GA1.2.1582778897.1638835200","alt",""],["rel","noopener","href","/Juegos-Pokemon/sopaLetras","title","Sopa de letras"],["width","30","src","https://www.anypuzzle.com/puzzles/word/Word%20Square/example-small.png","alt",""],["rel","noopener","href","/Juegos-Pokemon/memorion","title","Memorion"],["width","30","src","https://apprecs.org/ios/images/app-icons/256/4b/1108701003.jpg","alt",""],["rel","noopener","href","/Juegos-Pokemon/CuatroEnRaya","title","Cuatro en raya"],["width","30","src","https://d1nxzqpcg2bym0.cloudfront.net/google_play/info.game.connect4/199fde00-bb63-11e8-9057-67ab025ca8c2/128x128","alt",""],[4,"ngIf","ngIfElse"],["sinSension",""],["rel","noopener","href","/Juegos-Pokemon/records","title","Records"],["width","30","src","https://www.shareicon.net/data/256x256/2016/07/06/791653_podium_512x512.png","alt",""],["mat-raised-button","","color","warn",3,"click"]],template:function(t,r){if(1&t&&(c.TgZ(0,"mat-toolbar",0),c.TgZ(1,"a",1),c._UZ(2,"img",2),c.qZA(),c.TgZ(3,"span"),c._uU(4,"Pokemon Juegos"),c.qZA(),c._UZ(5,"div",3),c.TgZ(6,"a",4),c._UZ(7,"img",5),c.qZA(),c.TgZ(8,"a",6),c._UZ(9,"img",7),c.qZA(),c.TgZ(10,"a",8),c._UZ(11,"img",9),c.qZA(),c.TgZ(12,"a",10),c._UZ(13,"img",11),c.qZA(),c.TgZ(14,"a",12),c._UZ(15,"img",13),c.qZA(),c.YNc(16,rte,5,1,"div",14),c.ALo(17,"async"),c.YNc(18,ite,2,0,"ng-template",null,15,c.W1O),c.qZA()),2&t){const i=c.MAs(19);c.xp6(16),c.Q6J("ngIf",c.lcZ(17,2,r.userLogged)&&""!=r.logeado)("ngIfElse",i)}},directives:[tte,Jn,O4],pipes:[B4],styles:['@charset "UTF-8";[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}p[_ngcontent-%COMP%]{margin:0}.spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 8px}.toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover{opacity:.8}.content[_ngcontent-%COMP%]{display:flex;margin:82px auto 32px;padding:0 16px;max-width:960px;flex-direction:column;align-items:center}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:16px}.card[_ngcontent-%COMP%]{all:unset;border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child){margin-right:0}.card.card-small[_ngcontent-%COMP%]{height:16px;width:168px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card){cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover{transform:translateY(-3px);box-shadow:0 4px 17px #00000059}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#696767}.card.highlight-card[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;border:none;width:auto;min-width:30%;position:relative}.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}svg#rocket-smoke[_ngcontent-%COMP%]{height:calc(100vh - 95px);position:absolute;top:10px;right:180px;z-index:-10}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#125699}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.terminal[_ngcontent-%COMP%]:before{content:"\\2022\\2022\\2022";position:absolute;top:0;left:0;height:4px;background:#3a3a3a;color:#c2c3c4;width:100%;font-size:2rem;line-height:0;padding:14px 0;text-indent:4px}.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;color:#fff;padding:0 1rem 1rem;margin:0}.circle-link[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:40px;margin:8px;background-color:#fff;border:1px solid #eeeeee;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:1s ease-out}.circle-link[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 3px 15px #0003}footer[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;line-height:20px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.github-star-badge[_ngcontent-%COMP%]{color:#24292e;display:flex;align-items:center;font-size:12px;padding:3px 10px;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);margin-left:4px;font-weight:600}.github-star-badge[_ngcontent-%COMP%]:hover{background-image:linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);border-color:#1b1f2359;background-position:-.5em}.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:4px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}button[_ngcontent-%COMP%]{width:25;text-align:center}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}']}),n})(),ote=(()=>{class n{constructor(){this.title="Juegos Pokemon"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[["role","main",1,"content"]],template:function(t,r){1&t&&(c._UZ(0,"app-navbar"),c._UZ(1,"br"),c._UZ(2,"br"),c._UZ(3,"br"),c.TgZ(4,"div",0),c._UZ(5,"router-outlet"),c.qZA())},directives:[ste,Al],styles:[""]}),n})(),fte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ps],Ps]}),n})();var pte=R(1144);const mte=["addListener","removeListener"],gte=["addEventListener","removeEventListener"],vte=["on","off"];function _b(n,e,t,r){if((0,Ys.m)(t)&&(r=t,t=void 0),r)return _b(n,e,t).pipe(ss(r));const[i,a]=function(n){return(0,Ys.m)(n.addEventListener)&&(0,Ys.m)(n.removeEventListener)}(n)?gte.map(h=>f=>n[h](e,f,t)):function(n){return(0,Ys.m)(n.addListener)&&(0,Ys.m)(n.removeListener)}(n)?mte.map(OS(n,e)):function(n){return(0,Ys.m)(n.on)&&(0,Ys.m)(n.off)}(n)?vte.map(OS(n,e)):[];if(!i&&(0,pte.z)(n))return(0,Rn.z)(h=>_b(h,e,t))((0,Gr.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new jn.y(h=>{const f=(...v)=>h.next(1<v.length?v:v[0]);return i(f),()=>a(f)})}function OS(n,e){return t=>r=>n[t](e,r)}var PS=R(4408);const c5={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=c5;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new So.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=c5;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=c5;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var zS=R(7565);new class extends zS.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const a=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<a&&(e=t.shift()));if(this._active=!1,r){for(;++i<a&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends PS.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=c5.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(c5.cancelAnimationFrame(t),e._scheduled=void 0)}});let yb,Ete=1;const L9={};function FS(n){return n in L9&&(delete L9[n],!0)}const Ate={setImmediate(n){const e=Ete++;return L9[e]=!0,yb||(yb=Promise.resolve()),yb.then(()=>FS(e)&&n()),e},clearImmediate(n){FS(n)}},{setImmediate:Ste,clearImmediate:xte}=Ate,R9={setImmediate(...n){const{delegate:e}=R9;return((null==e?void 0:e.setImmediate)||Ste)(...n)},clearImmediate(n){const{delegate:e}=R9;return((null==e?void 0:e.clearImmediate)||xte)(n)},delegate:void 0};new class extends zS.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const a=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<a&&(e=t.shift()));if(this._active=!1,r){for(;++i<a&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends PS.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=R9.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(R9.clearImmediate(t),e._scheduled=void 0)}});var Nte=R(3532);function VS(n,e=Bd.P){return function(n){return(0,xr.e)((e,t)=>{let r=!1,i=null,a=null,h=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,r){r=!1;const b=i;i=null,t.next(b)}h&&t.complete()},v=()=>{a=null,h&&t.complete()};e.subscribe(new xn.Q(t,b=>{r=!0,i=b,a||(0,Gr.Xf)(n()).subscribe(a=new xn.Q(t,f,v))},()=>{h=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>function(n=0,e,t=Bd.P){let r=-1;return null!=e&&((0,Nte.K)(e)?t=e:r=e),new jn.y(i=>{let a=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let h=0;return t.schedule(function(){i.closed||(i.next(h++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e))}let Pte=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new pn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new jn.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(VS(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):tt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Zn(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=ah(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>_b(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(R1),c.LFG(se,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HS=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new pn.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(VS(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(R1),c.LFG(c.R0b),c.LFG(se,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),US=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Wf,rC,BS],Wf,BS]}),n})();class Cb{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class bb extends Cb{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class jS extends Cb{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Fte extends Cb{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class wb{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof bb?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof jS?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Fte?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Vte extends wb{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=h=>{const f=h.element,v=this._document.createComment("dom-portal");f.parentNode.insertBefore(v,f),this.outletElement.appendChild(f),this._attachedPortal=h,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(f,v)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let ZS=(()=>{class n extends wb{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=a=>{const h=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),h.parentNode.insertBefore(f,h),this._getRootNode().appendChild(h),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(h,f)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),h=r.createComponent(a,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=t,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(se))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),qS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const GS=LI();class Hte{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ii(-this._previousScrollPosition.left),e.style.top=ii(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",h=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),GS&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),GS&&(r.scrollBehavior=a,i.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Bte{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class WS{enable(){}disable(){}attach(){}}function Mb(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function $S(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Ute{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Mb(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let jte=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new WS,this.close=h=>new Bte(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new Hte(this._viewportRuler,this._document),this.reposition=h=>new Ute(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Pte),c.LFG(HS),c.LFG(c.R0b),c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KS{constructor(e){if(this.scrollStrategy=new WS,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Zte{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class qte{constructor(e,t,r,i,a,h,f,v,b){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=h,this._document=f,this._location=v,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new pn.x,this._attachments=new pn.x,this._detachments=new pn.x,this._locationChanges=So.w0.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._keydownEvents=new pn.x,this._outsidePointerEvents=new pn.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,fi.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ii(this._config.width),e.height=ii(this._config.height),e.minWidth=ii(this._config.minWidth),e.minHeight=ii(this._config.minHeight),e.maxWidth=ii(this._config.maxWidth),e.maxHeight=ii(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=fE(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(k4((0,EM.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}let Eb=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||oC()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),oC()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se),c.LFG(R1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YS="cdk-overlay-connected-position-bounding-box",Gte=/([A-Za-z%]+)$/;class Wte{constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new pn.x,this._resizeSubscription=So.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(YS),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=[];let a;for(let h of this._preferredPositions){let f=this._getOriginPoint(e,h),v=this._getOverlayPoint(f,t,h),b=this._getOverlayFit(v,t,r,h);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,f);this._canFitWithFlexibleDimensions(b,v,r)?i.push({position:h,origin:f,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(f,h)}):(!a||a.overlayFit.visibleArea<b.visibleArea)&&(a={overlayFit:b,overlayPoint:v,originPoint:f,position:h,overlayRect:t})}if(i.length){let h=null,f=-1;for(const v of i){const b=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);b>f&&(f=b,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&qu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(YS),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,i;if("center"==t.originX)r=e.left+e.width/2;else{const a=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==t.originX?a:h}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:i}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=JS(t);let{x:h,y:f}=e,v=this._getOffset(i,"x"),b=this._getOffset(i,"y");v&&(h+=v),b&&(f+=b);let z=0-f,H=f+a.height-r.height,X=this._subtractOverflows(a.width,0-h,h+a.width-r.width),ve=this._subtractOverflows(a.height,z,H),xe=X*ve;return{visibleArea:xe,isCompletelyWithinViewport:a.width*a.height===xe,fitsInViewportVertically:ve===a.height,fitsInViewportHorizontally:X==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,h=QS(this._overlayRef.getConfig().minHeight),f=QS(this._overlayRef.getConfig().minWidth),b=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=h&&h<=i)&&b}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=JS(t),a=this._viewportRect,h=Math.max(e.x+i.width-a.width,0),f=Math.max(e.y+i.height-a.height,0),v=Math.max(a.top-r.top-e.y,0),b=Math.max(a.left-r.left-e.x,0);let x=0,T=0;return x=i.width<=a.width?b||-h:e.x<this._viewportMargin?a.left-r.left-e.x:0,T=i.height<=a.height?v||-f:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x,y:T},{x:e.x+x,y:e.y+T}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Zte(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,h,f,x,T,z;if("top"===t.overlayY)h=e.y,a=r.height-h+this._viewportMargin;else if("bottom"===t.overlayY)f=r.height-e.y+2*this._viewportMargin,a=r.height-f+this._viewportMargin;else{const H=Math.min(r.bottom-e.y+r.top,e.y),X=this._lastBoundingBoxSize.height;a=2*H,h=e.y-H,a>X&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.y-X/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)z=r.width-e.x+this._viewportMargin,x=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)T=e.x,x=r.right-e.x;else{const H=Math.min(r.right-e.x+r.left,e.x),X=this._lastBoundingBoxSize.width;x=2*H,T=e.x-H,x>X&&!this._isInitialRender&&!this._growAfterOpen&&(T=e.x-X/2)}return{top:h,left:T,bottom:f,right:z,width:x,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;i.height=ii(r.height),i.top=ii(r.top),i.bottom=ii(r.bottom),i.width=ii(r.width),i.left=ii(r.left),i.right=ii(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=ii(a)),h&&(i.maxWidth=ii(h))}this._lastBoundingBoxSize=r,qu(this._boundingBox.style,i)}_resetBoundingBoxStyles(){qu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){qu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(i){const x=this._viewportRuler.getViewportScrollPosition();qu(r,this._getExactOverlayY(t,e,x)),qu(r,this._getExactOverlayX(t,e,x))}else r.position="static";let f="",v=this._getOffset(t,"x"),b=this._getOffset(t,"y");v&&(f+=`translateX(${v}px) `),b&&(f+=`translateY(${b}px)`),r.transform=f.trim(),h.maxHeight&&(i?r.maxHeight=ii(h.maxHeight):a&&(r.maxHeight="")),h.maxWidth&&(i?r.maxWidth=ii(h.maxWidth):a&&(r.maxWidth="")),qu(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r));let h=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return a.y-=h,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=ii(a.y),i}_getExactOverlayX(e,t,r){let h,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),h=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===h?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=ii(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:$S(e,r),isOriginOutsideView:Mb(e,r),isOverlayClipped:$S(t,r),isOverlayOutsideView:Mb(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&fE(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function qu(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function QS(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Gte);return t&&"px"!==t?null:parseFloat(e)}return n||null}function JS(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const XS="cdk-global-overlay-wrapper";class $te{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(XS),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:h,maxHeight:f}=r,v=!("100%"!==i&&"100vw"!==i||h&&"100%"!==h&&"100vw"!==h),b=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=v?"0":this._leftOffset,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,v?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(XS),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Kte=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new $te}flexibleConnectedTo(t){return new Wte(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(HS),c.LFG(se),c.LFG(R1),c.LFG(Eb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ex=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yte=(()=>{class n extends ex{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let a=i.length-1;a>-1;a--)if(i[a]._keydownEvents.observers.length>0){i[a]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qte=(()=>{class n extends ex{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=Fu(i)},this._clickListener=i=>{const a=Fu(i),h="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let v=f.length-1;v>-1;v--){const b=f[v];if(!(b._outsidePointerEvents.observers.length<1)&&b.hasAttached()){if(b.overlayElement.contains(a)||b.overlayElement.contains(h))break;b._outsidePointerEvents.next(i)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se),c.LFG(R1))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jte=0,O9=(()=>{class n{constructor(t,r,i,a,h,f,v,b,x,T,z){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=h,this._injector=f,this._ngZone=v,this._document=b,this._directionality=x,this._location=T,this._outsideClickDispatcher=z}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),h=new KS(t);return h.direction=h.direction||this._directionality.value,new qte(a,r,i,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Jte++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new Vte(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(jte),c.LFG(Eb),c.LFG(c._Vd),c.LFG(Kte),c.LFG(Yte),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(se),c.LFG(tC),c.LFG(Ge),c.LFG(Qte))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const tne={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[O9],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let nne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[O9,tne],imports:[[Wf,qS,US],US]}),n})();function rne(n,e){}class Ab{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const ine={dialogContainer:SE("dialogContainer",[lC("void, exit",N4({opacity:0,transform:"scale(0.7)"})),lC("enter",N4({transform:"none"})),uC("* => enter",cC("150ms cubic-bezier(0, 0, 0.2, 1)",N4({transform:"none",opacity:1}))),uC("* => void, * => exit",cC("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",N4({opacity:0})))])};let sne=(()=>{class n extends wb{constructor(t,r,i,a,h,f,v,b){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=h,this._interactivityChecker=f,this._ngZone=v,this._focusMonitor=b,this._animationStateChanged=new c.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=x=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(x)),this._ariaLabelledBy=h.ariaLabelledBy||null,this._document=a}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=sC(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=sC())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=sC();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(sk),c.Y36(c.sBO),c.Y36(se,8),c.Y36(Ab),c.Y36(gE),c.Y36(c.R0b),c.Y36(wE))},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,r){if(1&t&&c.Gf(ZS,7),2&t){let i;c.iGM(i=c.CRH())&&(r._portalOutlet=i.first)}},features:[c.qOj]}),n})(),one=(()=>{class n extends sne{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&c.WFA("@dialogContainer.start",function(a){return r._onAnimationStart(a)})("@dialogContainer.done",function(a){return r._onAnimationDone(a)}),2&t&&(c.Ikx("id",r._id),c.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),c.d8E("@dialogContainer",r._state))},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&c.YNc(0,rne,0,0,"ng-template",0)},directives:[ZS],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[ine.dialogContainer]}}),n})(),ane=0;class cne{constructor(e,t,r="mat-dialog-"+ane++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new pn.x,this._afterClosed=new pn.x,this._beforeClosed=new pn.x,this._state=0,t._id=r,t._animationStateChanged.pipe(Zn(i=>"opened"===i.state),(0,fi.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Zn(i=>"closed"===i.state),(0,fi.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Zn(i=>27===i.keyCode&&!this.disableClose&&!function(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i))).subscribe(i=>{i.preventDefault(),tx(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():tx(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Zn(t=>"closing"===t.state),(0,fi.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function tx(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const lne=new c.OlP("MatDialogData"),une=new c.OlP("mat-dialog-default-options"),nx=new c.OlP("mat-dialog-scroll-strategy"),dne={provide:nx,deps:[O9],useFactory:function(n){return()=>n.scrollStrategies.block()}};let fne=(()=>{class n{constructor(t,r,i,a,h,f,v,b,x,T){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=h,this._dialogRefConstructor=v,this._dialogContainerType=b,this._dialogDataToken=x,this._animationMode=T,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new pn.x,this._afterOpenedAtThisLevel=new pn.x,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=$s(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Vi(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){if(r=function(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new Ab),r.id&&this.getDialogById(r.id),this._dialogAnimatingOpen)return this._lastDialogRef;const i=this._createOverlay(r),a=this._attachDialogContainer(i,r);if("NoopAnimations"!==this._animationMode){const f=a._animationStateChanged.subscribe(v=>{"opening"===v.state&&(this._dialogAnimatingOpen=!0),"opened"===v.state&&(this._dialogAnimatingOpen=!1,f.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new So.w0),this._animationStateSubscriptions.add(f)}const h=this._attachDialogContent(t,a,i,r);return this._lastDialogRef=h,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.afterClosed().subscribe(()=>this._removeOpenDialog(h)),this.afterOpened.next(h),a._initializeWithAttachedContent(),h}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new KS({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const a=c.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:Ab,useValue:r}]}),h=new bb(this._dialogContainerType,r.viewContainerRef,a,r.componentFactoryResolver);return t.attach(h).instance}_attachDialogContent(t,r,i,a){const h=new this._dialogRefConstructor(i,r,a.id);if(t instanceof c.Rgc)r.attachTemplatePortal(new jS(t,null,{$implicit:a.data,dialogRef:h}));else{const f=this._createInjector(a,h,r),v=r.attachComponentPortal(new bb(t,a.viewContainerRef,f));h.componentInstance=v.instance}return h.updateSize(a.width,a.height).updatePosition(a.position),h}_createInjector(t,r,i){const a=t&&t.viewContainerRef&&t.viewContainerRef.injector,h=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!a||!a.get(tC,null,c.XFs.Optional))&&h.push({provide:tC,useValue:{value:t.direction,change:tt()}}),c.zs3.create({parent:a||this._injector,providers:h})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,a)=>{i?a.setAttribute("aria-hidden",i):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let a=r[i];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n}),n})(),pne=(()=>{class n extends fne{constructor(t,r,i,a,h,f,v,b){super(t,r,a,f,v,h,cne,one,lne,b)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(O9),c.LFG(c.zs3),c.LFG(Ge,8),c.LFG(une,8),c.LFG(nx),c.LFG(n,12),c.LFG(Eb),c.LFG(Qf,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),gne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[pne,dne],imports:[[nne,qS,Ps],Ps]}),n})();const Sb_firebase={projectId:"juegos-pokemon",appId:"1:937542495158:web:4f1344c16d86aca604af17",storageBucket:"juegos-pokemon.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAiPGkDuen87YG-KR6kN0TG-yiGNEa-co8",authDomain:"juegos-pokemon.firebaseapp.com",messagingSenderId:"937542495158"};let vne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ps],Ps]}),n})(),_ne=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[_ne]}),n})(),xb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[F2,Ps,yne],Ps]}),n})(),rx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[rC]]}),n})(),Ene=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ZN],imports:[[rx,xb,Ps],rx,xb]}),n})();R(4074);class sx{constructor(){return(0,Un.vb)("auth")}}class Ib{constructor(e){return e}}const ox="firestore",kb=new c.OlP("angularfire2.firestore-instances");function Ine(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ib(r)}}const kne={provide:class{constructor(){return(0,Un.vb)(ox)}},deps:[[new c.FiY,kb]]},Nne={provide:Ib,useFactory:function(n,e){const t=(0,Un.JM)(ox,n,e);return t&&new Ib(t)},deps:[[new c.FiY,kb],sh]};let Lne=(()=>{class n{constructor(){(0,Pu.KN)("angularfire",Un.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Nne,kne]}),n})();function Rne(n,...e){return{ngModule:Lne,providers:[{provide:kb,useFactory:Ine(n),multi:!0,deps:[c.R0b,c.zs3,Un.HU,DM,[new c.FiY,sx],[new c.FiY,Ym],...e]}]}}const One=(0,Un.u3)(gD,!0);let Pne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[ote]}),n.\u0275inj=c.cJS({providers:[],imports:[[ua,Yee,Hd,Pg,Rd,BX,FN,fte,rL,gne,JQ.forRoot(),zo.hO.initializeApp(Sb_firebase),nte,vne,Ene,xb,MT(()=>ET(Sb_firebase)),Rne(()=>One())]]}),n})();(0,c.G48)(),la().bootstrapModule(Pne).catch(n=>console.error(n))},5867:(ht,Te,R)=>{"use strict";R.d(Te,{Mq:()=>c.getApp,C6:()=>c.getApps,ZF:()=>c.initializeApp,KN:()=>c.registerVersion});var c=R(9681);(0,c.registerVersion)("firebase","9.6.3","app")},127:(ht,Te,R)=>{"use strict";R.d(Te,{Z:()=>c.Z});var c=R(3942);c.Z.registerVersion("firebase","9.6.3","app-compat")},5881:(ht,Te,R)=>{"use strict";R.r(Te);var c=R(5861),B=R(3942),L=R(4074),he=R(2090),se=(R(9681),R(1877),R(4859));function pe(){return window}function W(){return(W=(0,c.Z)(function*(ue,te,J){var De;const{BuildInfo:Ye}=pe();(0,L.ap)(te.sessionId,"AuthEvent did not contain a session ID");const Rt=yield re(te.sessionId),$t={};return(0,L.aq)()?$t.ibi=Ye.packageName:(0,L.ar)()?$t.apn=Ye.packageName:(0,L.as)(ue,"operation-not-supported-in-this-environment"),Ye.displayName&&($t.appDisplayName=Ye.displayName),$t.sessionId=Rt,(0,L.at)(ue,J,te.type,void 0,null!==(De=te.eventId)&&void 0!==De?De:void 0,$t)})).apply(this,arguments)}function Ve(){return(Ve=(0,c.Z)(function*(ue){const{BuildInfo:te}=pe(),J={};(0,L.aq)()?J.iosBundleId=te.packageName:(0,L.ar)()?J.androidPackageName=te.packageName:(0,L.as)(ue,"operation-not-supported-in-this-environment"),yield(0,L.au)(ue,J)})).apply(this,arguments)}function Be(){return(Be=(0,c.Z)(function*(ue,te,J){const{cordova:De}=pe();let Ye=()=>{};try{yield new Promise((Rt,$t)=>{let It=null;function _n(){var Qt;Rt();const Ur=null===(Qt=De.plugins.browsertab)||void 0===Qt?void 0:Qt.close;"function"==typeof Ur&&Ur(),"function"==typeof(null==J?void 0:J.close)&&J.close()}function fn(){It||(It=window.setTimeout(()=>{$t((0,L.av)(ue,"redirect-cancelled-by-user"))},2e3))}function yn(){"visible"===(null==document?void 0:document.visibilityState)&&fn()}te.addPassiveListener(_n),document.addEventListener("resume",fn,!1),(0,L.ar)()&&document.addEventListener("visibilitychange",yn,!1),Ye=()=>{te.removePassiveListener(_n),document.removeEventListener("resume",fn,!1),document.removeEventListener("visibilitychange",yn,!1),It&&window.clearTimeout(It)}})}finally{Ye()}})).apply(this,arguments)}function re(ue){return me.apply(this,arguments)}function me(){return(me=(0,c.Z)(function*(ue){const te=Me(ue),J=yield crypto.subtle.digest("SHA-256",te);return Array.from(new Uint8Array(J)).map(Ye=>Ye.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Me(ue){if((0,L.ap)(/[0-9a-zA-Z]+/.test(ue),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ue);const te=new ArrayBuffer(ue.length),J=new Uint8Array(te);for(let De=0;De<ue.length;De++)J[De]=ue.charCodeAt(De);return J}class Ge extends L.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(te=>{this.resolveInialized=te})}addPassiveListener(te){this.passiveListeners.add(te)}removePassiveListener(te){this.passiveListeners.delete(te)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(te){return this.resolveInialized(),this.passiveListeners.forEach(J=>J(te)),super.onEvent(te)}initialized(){var te=this;return(0,c.Z)(function*(){yield te.initPromise})()}}function le(ue){return it.apply(this,arguments)}function it(){return(it=(0,c.Z)(function*(ue){const te=yield G()._get(ne(ue));return te&&(yield G()._remove(ne(ue))),te})).apply(this,arguments)}function U(){const ue=[],te="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let J=0;J<20;J++){const De=Math.floor(Math.random()*te.length);ue.push(te.charAt(De))}return ue.join("")}function G(){return(0,L.ax)(L.b)}function ne(ue){return(0,L.ay)("authEvent",ue.config.apiKey,ue.name)}function He(ue){if(!(null==ue?void 0:ue.includes("?")))return{};const[te,...J]=ue.split("?");return(0,he.zd)(J.join("?"))}function lt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,L.av)("no-auth-event")}}function Et(){var ue;return(null===(ue=null==self?void 0:self.location)||void 0===ue?void 0:ue.protocol)||null}function An(ue=(0,he.z$)()){return!("file:"!==Et()&&"ionic:"!==Et()||!ue.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ji(){try{const ue=self.localStorage,te=L.aG();if(ue)return ue.setItem(te,"1"),ue.removeItem(te),!function(ue=(0,he.z$)()){return(0,he.w1)()&&11===(null==document?void 0:document.documentMode)||function(ue=(0,he.z$)()){return/Edge\/\d+/.test(ue)}(ue)}()||(0,he.hl)()}catch(ue){return bi()&&(0,he.hl)()}return!1}function bi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yn(){return("http:"===Et()||"https:"===Et()||(0,he.ru)()||An())&&!((0,he.b$)()||(0,he.UG)())&&Ji()&&!bi()}function Pi(){return An()&&"undefined"!=typeof document}function gt(){return(gt=(0,c.Z)(function*(){return!!Pi()&&new Promise(ue=>{const te=setTimeout(()=>{ue(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(te),ue(!0)})})})).apply(this,arguments)}const Wt={LOCAL:"local",NONE:"none",SESSION:"session"},pr=L.aw,cr="persistence";function bt(ue){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,c.Z)(function*(ue){yield ue._initializationPromise;const te=lr(),J=L.ay(cr,ue.config.apiKey,ue.name);(null==te?void 0:te.sessionStorage)&&te.sessionStorage.setItem(J,ue._getPersistence())})).apply(this,arguments)}function lr(){return"undefined"!=typeof window?window:null}const rn=L.aw;class Ke{constructor(){this.browserResolver=L.ax(L.k),this.cordovaResolver=L.ax(class{constructor(){this._redirectPersistence=L.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=L.aA}_initialize(te){var J=this;return(0,c.Z)(function*(){const De=te._key();let Ye=J.eventManagers.get(De);return Ye||(Ye=new Ge(te),J.eventManagers.set(De,Ye),J.attachCallbackListeners(te,Ye)),Ye})()}_openPopup(te){(0,L.as)(te,"operation-not-supported-in-this-environment")}_openRedirect(te,J,De,Ye){var Rt=this;return(0,c.Z)(function*(){!function(ue){var te,J,De,Ye,Rt,$t,It,_n,fn,yn;const Qt=pe();(0,L.aw)("function"==typeof(null===(te=null==Qt?void 0:Qt.universalLinks)||void 0===te?void 0:te.subscribe),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,L.aw)(void 0!==(null===(J=null==Qt?void 0:Qt.BuildInfo)||void 0===J?void 0:J.packageName),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,L.aw)("function"==typeof(null===(Rt=null===(Ye=null===(De=null==Qt?void 0:Qt.cordova)||void 0===De?void 0:De.plugins)||void 0===Ye?void 0:Ye.browsertab)||void 0===Rt?void 0:Rt.openUrl),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aw)("function"==typeof(null===(_n=null===(It=null===($t=null==Qt?void 0:Qt.cordova)||void 0===$t?void 0:$t.plugins)||void 0===It?void 0:It.browsertab)||void 0===_n?void 0:_n.isAvailable),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aw)("function"==typeof(null===(yn=null===(fn=null==Qt?void 0:Qt.cordova)||void 0===fn?void 0:fn.InAppBrowser)||void 0===yn?void 0:yn.open),ue,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(te);const $t=yield Rt._initialize(te);yield $t.initialized(),$t.resetRedirect(),(0,L.aB)(),yield Rt._originValidation(te);const It=function(ue,te,J=null){return{type:te,eventId:J,urlResponse:null,sessionId:U(),postBody:null,tenantId:ue.tenantId,error:(0,L.av)(ue,"no-auth-event")}}(te,De,Ye);yield function(ue,te){return G()._set(ne(ue),te)}(te,It);const _n=yield function(ue,te,J){return W.apply(this,arguments)}(te,It,J),fn=yield function(ue){const{cordova:te}=pe();return new Promise(J=>{te.plugins.browsertab.isAvailable(De=>{let Ye=null;De?te.plugins.browsertab.openUrl(ue):Ye=te.InAppBrowser.open(ue,(0,L.ao)()?"_blank":"_system","location=yes"),J(Ye)})})}(_n);return function(ue,te,J){return Be.apply(this,arguments)}(te,$t,fn)})()}_isIframeWebStorageSupported(te,J){throw new Error("Method not implemented.")}_originValidation(te){const J=te._key();return this.originValidationPromises[J]||(this.originValidationPromises[J]=function(ue){return Ve.apply(this,arguments)}(te)),this.originValidationPromises[J]}attachCallbackListeners(te,J){const{universalLinks:De,handleOpenURL:Ye,BuildInfo:Rt}=pe(),$t=setTimeout((0,c.Z)(function*(){yield le(te),J.onEvent(lt())}),500),It=function(){var yn=(0,c.Z)(function*(Qt){clearTimeout($t);const Ur=yield le(te);let es=null;Ur&&(null==Qt?void 0:Qt.url)&&(es=function(ue,te){var J,De;const Ye=function(ue){const te=He(ue),J=te.link?decodeURIComponent(te.link):void 0,De=He(J).link,Ye=te.deep_link_id?decodeURIComponent(te.deep_link_id):void 0;return He(Ye).link||Ye||De||J||ue}(te);if(Ye.includes("/__/auth/callback")){const Rt=He(Ye),$t=Rt.firebaseError?function(ue){try{return JSON.parse(ue)}catch(te){return null}}(decodeURIComponent(Rt.firebaseError)):null,It=null===(De=null===(J=null==$t?void 0:$t.code)||void 0===J?void 0:J.split("auth/"))||void 0===De?void 0:De[1],_n=It?(0,L.av)(It):null;return _n?{type:ue.type,eventId:ue.eventId,tenantId:ue.tenantId,error:_n,urlResponse:null,sessionId:null,postBody:null}:{type:ue.type,eventId:ue.eventId,tenantId:ue.tenantId,sessionId:ue.sessionId,urlResponse:Ye,postBody:null}}return null}(Ur,Qt.url)),J.onEvent(es||lt())});return function(Ur){return yn.apply(this,arguments)}}();void 0!==De&&"function"==typeof De.subscribe&&De.subscribe(null,It);const _n=Ye,fn=`${Rt.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var yn=(0,c.Z)(function*(Qt){if(Qt.toLowerCase().startsWith(fn)&&It({url:Qt}),"function"==typeof _n)try{_n(Qt)}catch(Ur){console.error(Ur)}});return function(Qt){return yn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=L.a,this._completeRedirectFn=L.aA}_initialize(te){var J=this;return(0,c.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._initialize(te)})()}_openPopup(te,J,De,Ye){var Rt=this;return(0,c.Z)(function*(){return yield Rt.selectUnderlyingResolver(),Rt.assertedUnderlyingResolver._openPopup(te,J,De,Ye)})()}_openRedirect(te,J,De,Ye){var Rt=this;return(0,c.Z)(function*(){return yield Rt.selectUnderlyingResolver(),Rt.assertedUnderlyingResolver._openRedirect(te,J,De,Ye)})()}_isIframeWebStorageSupported(te,J){this.assertedUnderlyingResolver._isIframeWebStorageSupported(te,J)}_originValidation(te){return this.assertedUnderlyingResolver._originValidation(te)}get _shouldInitProactively(){return Pi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var te=this;return(0,c.Z)(function*(){if(te.underlyingResolver)return;const J=yield function(){return gt.apply(this,arguments)}();te.underlyingResolver=J?te.cordovaResolver:te.browserResolver})()}}function at(ue){return ue.unwrap()}function Xi(ue){return sn(ue)}function sn(ue){const{_tokenResponse:te}=ue instanceof he.ZR?ue.customData:ue;if(!te)return null;if(!(ue instanceof he.ZR)&&"temporaryProof"in te&&"phoneNumber"in te)return L.P.credentialFromResult(ue);const J=te.providerId;if(!J||J===L.o.PASSWORD)return null;let De;switch(J){case L.o.GOOGLE:De=L.N;break;case L.o.FACEBOOK:De=L.M;break;case L.o.GITHUB:De=L.Q;break;case L.o.TWITTER:De=L.V;break;default:const{oauthIdToken:Ye,oauthAccessToken:Rt,oauthTokenSecret:$t,pendingToken:It,nonce:_n}=te;return Rt||$t||Ye||It?It?J.startsWith("saml.")?L.aJ._create(J,It):L.I._fromParams({providerId:J,signInMethod:J,pendingToken:It,idToken:Ye,accessToken:Rt}):new L.T(J).credential({idToken:Ye,accessToken:Rt,rawNonce:_n}):null}return ue instanceof he.ZR?De.credentialFromError(ue):De.credentialFromResult(ue)}function on(ue,te){return te.catch(J=>{throw J instanceof he.ZR&&function(ue,te){var J;const De=null===(J=te.customData)||void 0===J?void 0:J._tokenResponse;if("auth/multi-factor-auth-required"===te.code)te.resolver=new j(ue,L.am(ue,te));else if(De){const Ye=sn(te),Rt=te;Ye&&(Rt.credential=Ye,Rt.tenantId=De.tenantId||void 0,Rt.email=De.email||void 0,Rt.phoneNumber=De.phoneNumber||void 0)}}(ue,J),J}).then(J=>{const Ye=J.user;return{operationType:J.operationType,credential:Xi(J),additionalUserInfo:L.ak(J),user:ee.getOrCreate(Ye)}})}function zs(ue,te){return Q.apply(this,arguments)}function Q(){return(Q=(0,c.Z)(function*(ue,te){const J=yield te;return{verificationId:J.verificationId,confirm:De=>on(ue,J.confirm(De))}})).apply(this,arguments)}class j{constructor(te,J){this.resolver=J,this.auth=te.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(te){return on(at(this.auth),this.resolver.resolveSignIn(te))}}class ee{constructor(te){this._delegate=te,this.multiFactor=L.an(te)}static getOrCreate(te){return ee.USER_MAP.has(te)||ee.USER_MAP.set(te,new ee(te)),ee.USER_MAP.get(te)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(te){return this._delegate.getIdTokenResult(te)}getIdToken(te){return this._delegate.getIdToken(te)}linkAndRetrieveDataWithCredential(te){return this.linkWithCredential(te)}linkWithCredential(te){var J=this;return(0,c.Z)(function*(){return on(J.auth,L.Y(J._delegate,te))})()}linkWithPhoneNumber(te,J){var De=this;return(0,c.Z)(function*(){return zs(De.auth,L.l(De._delegate,te,J))})()}linkWithPopup(te){var J=this;return(0,c.Z)(function*(){return on(J.auth,L.d(J._delegate,te,Ke))})()}linkWithRedirect(te){var J=this;return(0,c.Z)(function*(){return yield bt(L.aC(J.auth)),L.g(J._delegate,te,Ke)})()}reauthenticateAndRetrieveDataWithCredential(te){return this.reauthenticateWithCredential(te)}reauthenticateWithCredential(te){var J=this;return(0,c.Z)(function*(){return on(J.auth,L.Z(J._delegate,te))})()}reauthenticateWithPhoneNumber(te,J){return zs(this.auth,L.r(this._delegate,te,J))}reauthenticateWithPopup(te){return on(this.auth,L.e(this._delegate,te,Ke))}reauthenticateWithRedirect(te){var J=this;return(0,c.Z)(function*(){return yield bt(L.aC(J.auth)),L.h(J._delegate,te,Ke)})()}sendEmailVerification(te){return L.aa(this._delegate,te)}unlink(te){var J=this;return(0,c.Z)(function*(){return yield L.aj(J._delegate,te),J})()}updateEmail(te){return L.af(this._delegate,te)}updatePassword(te){return L.ag(this._delegate,te)}updatePhoneNumber(te){return L.u(this._delegate,te)}updateProfile(te){return L.ae(this._delegate,te)}verifyBeforeUpdateEmail(te,J){return L.ab(this._delegate,te,J)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ee.USER_MAP=new WeakMap;const Se=L.aw;let ce=(()=>{class ue{constructor(J,De){if(this.app=J,De.isInitialized())return this._delegate=De.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ye}=J.options;Se(Ye,"invalid-api-key",{appName:J.name}),Se(Ye,"invalid-api-key",{appName:J.name});const Rt="undefined"!=typeof window?Ke:void 0;this._delegate=De.initialize({options:{persistence:dt(Ye,J.name),popupRedirectResolver:Rt}}),this._delegate._updateErrorMap(L.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ee.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(J){this._delegate.languageCode=J}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(J){this._delegate.tenantId=J}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(J,De){L.E(this._delegate,J,De)}applyActionCode(J){return L.a1(this._delegate,J)}checkActionCode(J){return L.a2(this._delegate,J)}confirmPasswordReset(J,De){return L.a0(this._delegate,J,De)}createUserWithEmailAndPassword(J,De){var Ye=this;return(0,c.Z)(function*(){return on(Ye._delegate,L.a4(Ye._delegate,J,De))})()}fetchProvidersForEmail(J){return this.fetchSignInMethodsForEmail(J)}fetchSignInMethodsForEmail(J){return L.a9(this._delegate,J)}isSignInWithEmailLink(J){return L.a7(this._delegate,J)}getRedirectResult(){var J=this;return(0,c.Z)(function*(){Se(Yn(),J._delegate,"operation-not-supported-in-this-environment");const De=yield L.j(J._delegate,Ke);return De?on(J._delegate,Promise.resolve(De)):{credential:null,user:null}})()}addFrameworkForLogging(J){!function(ue,te){(0,L.aC)(ue)._logFramework(te)}(this._delegate,J)}onAuthStateChanged(J,De,Ye){const{next:Rt,error:$t,complete:It}=rt(J,De,Ye);return this._delegate.onAuthStateChanged(Rt,$t,It)}onIdTokenChanged(J,De,Ye){const{next:Rt,error:$t,complete:It}=rt(J,De,Ye);return this._delegate.onIdTokenChanged(Rt,$t,It)}sendSignInLinkToEmail(J,De){return L.a6(this._delegate,J,De)}sendPasswordResetEmail(J,De){return L.$(this._delegate,J,De||void 0)}setPersistence(J){var De=this;return(0,c.Z)(function*(){let Ye;switch(function(ue,te){pr(Object.values(Wt).includes(te),ue,"invalid-persistence-type"),(0,he.b$)()?pr(te!==Wt.SESSION,ue,"unsupported-persistence-type"):(0,he.UG)()?pr(te===Wt.NONE,ue,"unsupported-persistence-type"):bi()?pr(te===Wt.NONE||te===Wt.LOCAL&&(0,he.hl)(),ue,"unsupported-persistence-type"):pr(te===Wt.NONE||Ji(),ue,"unsupported-persistence-type")}(De._delegate,J),J){case Wt.SESSION:Ye=L.a;break;case Wt.LOCAL:Ye=(yield L.ax(L.i)._isAvailable())?L.i:L.b;break;case Wt.NONE:Ye=L.K;break;default:return L.as("argument-error",{appName:De._delegate.name})}return De._delegate.setPersistence(Ye)})()}signInAndRetrieveDataWithCredential(J){return this.signInWithCredential(J)}signInAnonymously(){return on(this._delegate,L.W(this._delegate))}signInWithCredential(J){return on(this._delegate,L.X(this._delegate,J))}signInWithCustomToken(J){return on(this._delegate,L._(this._delegate,J))}signInWithEmailAndPassword(J,De){return on(this._delegate,L.a5(this._delegate,J,De))}signInWithEmailLink(J,De){return on(this._delegate,L.a8(this._delegate,J,De))}signInWithPhoneNumber(J,De){return zs(this._delegate,L.s(this._delegate,J,De))}signInWithPopup(J){var De=this;return(0,c.Z)(function*(){return Se(Yn(),De._delegate,"operation-not-supported-in-this-environment"),on(De._delegate,L.c(De._delegate,J,Ke))})()}signInWithRedirect(J){var De=this;return(0,c.Z)(function*(){return Se(Yn(),De._delegate,"operation-not-supported-in-this-environment"),yield bt(De._delegate),L.f(De._delegate,J,Ke)})()}updateCurrentUser(J){return this._delegate.updateCurrentUser(J)}verifyPasswordResetCode(J){return L.a3(this._delegate,J)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ue.Persistence=Wt,ue})();function rt(ue,te,J){let De=ue;"function"!=typeof ue&&({next:De,error:te,complete:J}=ue);const Ye=De;return{next:$t=>Ye($t&&ee.getOrCreate($t)),error:te,complete:J}}function dt(ue,te){const J=function(ue,te){const J=lr();if(!(null==J?void 0:J.sessionStorage))return[];const De=L.ay(cr,ue,te);switch(J.sessionStorage.getItem(De)){case Wt.NONE:return[L.K];case Wt.LOCAL:return[L.i,L.a];case Wt.SESSION:return[L.a];default:return[]}}(ue,te);if("undefined"!=typeof self&&!J.includes(L.i)&&J.push(L.i),"undefined"!=typeof window)for(const De of[L.b,L.a])J.includes(De)||J.push(De);return J.includes(L.K)||J.push(L.K),J}class qt{constructor(){this.providerId="phone",this._delegate=new L.P(at(B.Z.auth()))}static credential(te,J){return L.P.credential(te,J)}verifyPhoneNumber(te,J){return this._delegate.verifyPhoneNumber(te,J)}unwrap(){return this._delegate}}qt.PHONE_SIGN_IN_METHOD=L.P.PHONE_SIGN_IN_METHOD,qt.PROVIDER_ID=L.P.PROVIDER_ID;const Tn=L.aw;var ue;(ue=B.Z).INTERNAL.registerComponent(new se.wA("auth-compat",te=>{const J=te.getProvider("app-compat").getImmediate(),De=te.getProvider("auth");return new ce(J,De)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:L.A.EMAIL_SIGNIN,PASSWORD_RESET:L.A.PASSWORD_RESET,RECOVER_EMAIL:L.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:L.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:L.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:L.A.VERIFY_EMAIL}},EmailAuthProvider:L.L,FacebookAuthProvider:L.M,GithubAuthProvider:L.Q,GoogleAuthProvider:L.N,OAuthProvider:L.T,SAMLAuthProvider:L.U,PhoneAuthProvider:qt,PhoneMultiFactorGenerator:L.m,RecaptchaVerifier:class{constructor(te,J,De=B.Z.app()){var Ye;Tn(null===(Ye=De.options)||void 0===Ye?void 0:Ye.apiKey,"invalid-api-key",{appName:De.name}),this._delegate=new L.R(te,J,De.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:L.V,Auth:ce,AuthCredential:L.G,Error:he.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ue.registerVersion("@firebase/auth-compat","0.2.5")},2940:function(ht,Te){!function(R){"use strict";function c(ge){return Array.prototype.slice.call(ge)}function B(ge){return new Promise(function(re,me){ge.onsuccess=function(){re(ge.result)},ge.onerror=function(){me(ge.error)}})}function L(ge,re,me){var Me,Ce=new Promise(function(Ge,Ne){B(Me=ge[re].apply(ge,me)).then(Ge,Ne)});return Ce.request=Me,Ce}function he(ge,re,me){var Me=L(ge,re,me);return Me.then(function(Ce){if(Ce)return new $(Ce,Me.request)})}function fe(ge,re,me){me.forEach(function(Me){Object.defineProperty(ge.prototype,Me,{get:function(){return this[re][Me]},set:function(Ce){this[re][Me]=Ce}})})}function we(ge,re,me,Me){Me.forEach(function(Ce){Ce in me.prototype&&(ge.prototype[Ce]=function(){return L(this[re],Ce,arguments)})})}function se(ge,re,me,Me){Me.forEach(function(Ce){Ce in me.prototype&&(ge.prototype[Ce]=function(){return this[re][Ce].apply(this[re],arguments)})})}function pe(ge,re,me,Me){Me.forEach(function(Ce){Ce in me.prototype&&(ge.prototype[Ce]=function(){return he(this[re],Ce,arguments)})})}function ye(ge){this._index=ge}function $(ge,re){this._cursor=ge,this._request=re}function W(ge){this._store=ge}function oe(ge){this._tx=ge,this.complete=new Promise(function(re,me){ge.oncomplete=function(){re()},ge.onerror=function(){me(ge.error)},ge.onabort=function(){me(ge.error)}})}function Ve(ge,re,me){this._db=ge,this.oldVersion=re,this.transaction=new oe(me)}function ke(ge){this._db=ge}fe(ye,"_index",["name","keyPath","multiEntry","unique"]),we(ye,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),pe(ye,"_index",IDBIndex,["openCursor","openKeyCursor"]),fe($,"_cursor",["direction","key","primaryKey","value"]),we($,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ge){ge in IDBCursor.prototype&&($.prototype[ge]=function(){var re=this,me=arguments;return Promise.resolve().then(function(){return re._cursor[ge].apply(re._cursor,me),B(re._request).then(function(Me){if(Me)return new $(Me,re._request)})})})}),W.prototype.createIndex=function(){return new ye(this._store.createIndex.apply(this._store,arguments))},W.prototype.index=function(){return new ye(this._store.index.apply(this._store,arguments))},fe(W,"_store",["name","keyPath","indexNames","autoIncrement"]),we(W,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),pe(W,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),se(W,"_store",IDBObjectStore,["deleteIndex"]),oe.prototype.objectStore=function(){return new W(this._tx.objectStore.apply(this._tx,arguments))},fe(oe,"_tx",["objectStoreNames","mode"]),se(oe,"_tx",IDBTransaction,["abort"]),Ve.prototype.createObjectStore=function(){return new W(this._db.createObjectStore.apply(this._db,arguments))},fe(Ve,"_db",["name","version","objectStoreNames"]),se(Ve,"_db",IDBDatabase,["deleteObjectStore","close"]),ke.prototype.transaction=function(){return new oe(this._db.transaction.apply(this._db,arguments))},fe(ke,"_db",["name","version","objectStoreNames"]),se(ke,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ge){[W,ye].forEach(function(re){ge in re.prototype&&(re.prototype[ge.replace("open","iterate")]=function(){var me=c(arguments),Me=me[me.length-1],Ce=this._store||this._index,Ge=Ce[ge].apply(Ce,me.slice(0,-1));Ge.onsuccess=function(){Me(Ge.result)}})})}),[ye,W].forEach(function(ge){ge.prototype.getAll||(ge.prototype.getAll=function(re,me){var Me=this,Ce=[];return new Promise(function(Ge){Me.iterateCursor(re,function(Ne){Ne?(Ce.push(Ne.value),void 0===me||Ce.length!=me?Ne.continue():Ge(Ce)):Ge(Ce)})})})}),R.openDb=function(ge,re,me){var Me=L(indexedDB,"open",[ge,re]),Ce=Me.request;return Ce&&(Ce.onupgradeneeded=function(Ge){me&&me(new Ve(Ce.result,Ge.oldVersion,Ce.transaction))}),Me.then(function(Ge){return new ke(Ge)})},R.deleteDb=function(ge){return L(indexedDB,"deleteDatabase",[ge])},Object.defineProperty(R,"__esModule",{value:!0})}(Te)},8306:(ht,Te,R)=>{"use strict";R.d(Te,{y:()=>$});var c=R(930),B=R(727),L=R(8822),he=R(4671);var se=R(2416),pe=R(576),ye=R(2806);let $=(()=>{class ke{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const ge=new ke;return ge.source=this,ge.operator=Be,ge}subscribe(Be,ge,re){const me=function(ke){return ke&&ke instanceof c.Lv||function(ke){return ke&&(0,pe.m)(ke.next)&&(0,pe.m)(ke.error)&&(0,pe.m)(ke.complete)}(ke)&&(0,B.Nn)(ke)}(Be)?Be:new c.Hp(Be,ge,re);return(0,ye.x)(()=>{const{operator:Me,source:Ce}=this;me.add(Me?Me.call(me,Ce):Ce?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(Be){try{return this._subscribe(Be)}catch(ge){Be.error(ge)}}forEach(Be,ge){return new(ge=W(ge))((re,me)=>{let Me;Me=this.subscribe(Ce=>{try{Be(Ce)}catch(Ge){me(Ge),null==Me||Me.unsubscribe()}},me,re)})}_subscribe(Be){var ge;return null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(Be)}[L.L](){return this}pipe(...Be){return function(ke){return 0===ke.length?he.y:1===ke.length?ke[0]:function(Be){return ke.reduce((ge,re)=>re(ge),Be)}}(Be)(this)}toPromise(Be){return new(Be=W(Be))((ge,re)=>{let me;this.subscribe(Me=>me=Me,Me=>re(Me),()=>ge(me))})}}return ke.create=Ze=>new ke(Ze),ke})();function W(ke){var Ze;return null!==(Ze=null!=ke?ke:se.v.Promise)&&void 0!==Ze?Ze:Promise}},7579:(ht,Te,R)=>{"use strict";R.d(Te,{x:()=>se});var c=R(8306),B=R(727);const he=(0,R(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=R(8737),we=R(2806);let se=(()=>{class ye extends c.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const oe=new pe(this,this);return oe.operator=W,oe}_throwIfClosed(){if(this.closed)throw new he}next(W){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const oe=this.observers.slice();for(const Ve of oe)Ve.next(W)}})}error(W){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:oe}=this;for(;oe.length;)oe.shift().error(W)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:oe,isStopped:Ve,observers:ke}=this;return oe||Ve?B.Lc:(ke.push(W),new B.w0(()=>(0,fe.P)(ke,W)))}_checkFinalizedStatuses(W){const{hasError:oe,thrownError:Ve,isStopped:ke}=this;oe?W.error(Ve):ke&&W.complete()}asObservable(){const W=new c.y;return W.source=this,W}}return ye.create=($,W)=>new pe($,W),ye})();class pe extends se{constructor($,W){super(),this.destination=$,this.source=W}next($){var W,oe;null===(oe=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===oe||oe.call(W,$)}error($){var W,oe;null===(oe=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===oe||oe.call(W,$)}complete(){var $,W;null===(W=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===W||W.call($)}_subscribe($){var W,oe;return null!==(oe=null===(W=this.source)||void 0===W?void 0:W.subscribe($))&&void 0!==oe?oe:B.Lc}}},930:(ht,Te,R)=>{"use strict";R.d(Te,{Hp:()=>Ve,Lv:()=>oe});var c=R(576),B=R(727),L=R(2416),he=R(7849),fe=R(5032);const we=ye("C",void 0,void 0);function ye(re,me,Me){return{kind:re,value:me,error:Me}}var $=R(3410),W=R(2806);class oe extends B.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,B.Nn)(me)&&me.add(this)):this.destination=ge}static create(me,Me,Ce){return new Ve(me,Me,Ce)}next(me){this.isStopped?Be(ye("N",me,void 0),this):this._next(me)}error(me){this.isStopped?Be(ye("E",void 0,me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?Be(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ve extends oe{constructor(me,Me,Ce){let Ge;if(super(),(0,c.m)(me))Ge=me;else if(me){let Ne;({next:Ge,error:Me,complete:Ce}=me),this&&L.v.useDeprecatedNextContext?(Ne=Object.create(me),Ne.unsubscribe=()=>this.unsubscribe()):Ne=me,Ge=null==Ge?void 0:Ge.bind(Ne),Me=null==Me?void 0:Me.bind(Ne),Ce=null==Ce?void 0:Ce.bind(Ne)}this.destination={next:Ge?ke(Ge):fe.Z,error:ke(null!=Me?Me:Ze),complete:Ce?ke(Ce):fe.Z}}}function ke(re,me){return(...Me)=>{try{re(...Me)}catch(Ce){L.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Ce):(0,he.h)(Ce)}}}function Ze(re){throw re}function Be(re,me){const{onStoppedNotification:Me}=L.v;Me&&$.z.setTimeout(()=>Me(re,me))}const ge={closed:!0,next:fe.Z,error:Ze,complete:fe.Z}},727:(ht,Te,R)=>{"use strict";R.d(Te,{Lc:()=>we,w0:()=>fe,Nn:()=>se});var c=R(576);const L=(0,R(3888).d)(ye=>function(W){ye(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((oe,Ve)=>`${Ve+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var he=R(8737);class fe{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const ke of W)ke.remove(this);else W.remove(this);const{initialTeardown:oe}=this;if((0,c.m)(oe))try{oe()}catch(ke){$=ke instanceof L?ke.errors:[ke]}const{_teardowns:Ve}=this;if(Ve){this._teardowns=null;for(const ke of Ve)try{pe(ke)}catch(Ze){$=null!=$?$:[],Ze instanceof L?$=[...$,...Ze.errors]:$.push(Ze)}}if($)throw new L($)}}add($){var W;if($&&$!==this)if(this.closed)pe($);else{if($ instanceof fe){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._teardowns=null!==(W=this._teardowns)&&void 0!==W?W:[]).push($)}}_hasParent($){const{_parentage:W}=this;return W===$||Array.isArray(W)&&W.includes($)}_addParent($){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push($),W):W?[W,$]:$}_removeParent($){const{_parentage:W}=this;W===$?this._parentage=null:Array.isArray(W)&&(0,he.P)(W,$)}remove($){const{_teardowns:W}=this;W&&(0,he.P)(W,$),$ instanceof fe&&$._removeParent(this)}}fe.EMPTY=(()=>{const ye=new fe;return ye.closed=!0,ye})();const we=fe.EMPTY;function se(ye){return ye instanceof fe||ye&&"closed"in ye&&(0,c.m)(ye.remove)&&(0,c.m)(ye.add)&&(0,c.m)(ye.unsubscribe)}function pe(ye){(0,c.m)(ye)?ye():ye.unsubscribe()}},2416:(ht,Te,R)=>{"use strict";R.d(Te,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,Te,R)=>{"use strict";R.d(Te,{E:()=>B});const B=new(R(8306).y)(fe=>fe.complete())},8996:(ht,Te,R)=>{"use strict";R.d(Te,{D:()=>Ge});var c=R(8421),B=R(5363),L=R(9468),we=R(8306),pe=R(2202),ye=R(576),$=R(9672);function oe(Ne,We){if(!Ne)throw new Error("Iterable cannot be null");return new we.y(le=>{(0,$.f)(le,We,()=>{const it=Ne[Symbol.asyncIterator]();(0,$.f)(le,We,()=>{it.next().then(F=>{F.done?le.complete():le.next(F.value)})},0,!0)})})}var Ve=R(3670),ke=R(8239),Ze=R(1144),Be=R(6495),ge=R(2206),re=R(4532),me=R(3260);function Ge(Ne,We){return We?function(Ne,We){if(null!=Ne){if((0,Ve.c)(Ne))return function(Ne,We){return(0,c.Xf)(Ne).pipe((0,L.R)(We),(0,B.Q)(We))}(Ne,We);if((0,Ze.z)(Ne))return function(Ne,We){return new we.y(le=>{let it=0;return We.schedule(function(){it===Ne.length?le.complete():(le.next(Ne[it++]),le.closed||this.schedule())})})}(Ne,We);if((0,ke.t)(Ne))return function(Ne,We){return(0,c.Xf)(Ne).pipe((0,L.R)(We),(0,B.Q)(We))}(Ne,We);if((0,ge.D)(Ne))return oe(Ne,We);if((0,Be.T)(Ne))return function(Ne,We){return new we.y(le=>{let it;return(0,$.f)(le,We,()=>{it=Ne[pe.h](),(0,$.f)(le,We,()=>{let F,U;try{({value:F,done:U}=it.next())}catch(G){return void le.error(G)}U?le.complete():le.next(F)},0,!0)}),()=>(0,ye.m)(null==it?void 0:it.return)&&it.return()})}(Ne,We);if((0,me.L)(Ne))return function(Ne,We){return oe((0,me.Q)(Ne),We)}(Ne,We)}throw(0,re.z)(Ne)}(Ne,We):(0,c.Xf)(Ne)}},8421:(ht,Te,R)=>{"use strict";R.d(Te,{Xf:()=>Ve});var c=R(5987),B=R(1144),L=R(8239),he=R(8306),fe=R(3670),we=R(2206),se=R(4532),pe=R(6495),ye=R(3260),$=R(576),W=R(7849),oe=R(8822);function Ve(Ce){if(Ce instanceof he.y)return Ce;if(null!=Ce){if((0,fe.c)(Ce))return function(Ce){return new he.y(Ge=>{const Ne=Ce[oe.L]();if((0,$.m)(Ne.subscribe))return Ne.subscribe(Ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,B.z)(Ce))return function(Ce){return new he.y(Ge=>{for(let Ne=0;Ne<Ce.length&&!Ge.closed;Ne++)Ge.next(Ce[Ne]);Ge.complete()})}(Ce);if((0,L.t)(Ce))return function(Ce){return new he.y(Ge=>{Ce.then(Ne=>{Ge.closed||(Ge.next(Ne),Ge.complete())},Ne=>Ge.error(Ne)).then(null,W.h)})}(Ce);if((0,we.D)(Ce))return re(Ce);if((0,pe.T)(Ce))return function(Ce){return new he.y(Ge=>{for(const Ne of Ce)if(Ge.next(Ne),Ge.closed)return;Ge.complete()})}(Ce);if((0,ye.L)(Ce))return function(Ce){return re((0,ye.Q)(Ce))}(Ce)}throw(0,se.z)(Ce)}function re(Ce){return new he.y(Ge=>{(function(Ce,Ge){var Ne,We,le,it;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ne=(0,c.KL)(Ce);!(We=yield Ne.next()).done;)if(Ge.next(We.value),Ge.closed)return}catch(F){le={error:F}}finally{try{We&&!We.done&&(it=Ne.return)&&(yield it.call(Ne))}finally{if(le)throw le.error}}Ge.complete()})})(Ce,Ge).catch(Ne=>Ge.error(Ne))})}},6451:(ht,Te,R)=>{"use strict";R.d(Te,{T:()=>we});var c=R(8189),B=R(8421),L=R(515),he=R(3269),fe=R(8996);function we(...se){const pe=(0,he.yG)(se),ye=(0,he._6)(se,1/0),$=se;return $.length?1===$.length?(0,B.Xf)($[0]):(0,c.J)(ye)((0,fe.D)($,pe)):L.E}},5403:(ht,Te,R)=>{"use strict";R.d(Te,{Q:()=>B});var c=R(930);class B extends c.Lv{constructor(he,fe,we,se,pe){super(he),this.onFinalize=pe,this._next=fe?function(ye){try{fe(ye)}catch($){he.error($)}}:super._next,this._error=se?function(ye){try{se(ye)}catch($){he.error($)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(ye){he.error(ye)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}},4004:(ht,Te,R)=>{"use strict";R.d(Te,{U:()=>L});var c=R(4482),B=R(5403);function L(he,fe){return(0,c.e)((we,se)=>{let pe=0;we.subscribe(new B.Q(se,ye=>{se.next(he.call(fe,ye,pe++))}))})}},8189:(ht,Te,R)=>{"use strict";R.d(Te,{J:()=>L});var c=R(5577),B=R(4671);function L(he=1/0){return(0,c.z)(B.y,he)}},5577:(ht,Te,R)=>{"use strict";R.d(Te,{z:()=>pe});var c=R(4004),B=R(8421),L=R(4482),fe=(R(9672),R(5403)),se=R(576);function pe(ye,$,W=1/0){return(0,se.m)($)?pe((oe,Ve)=>(0,c.U)((ke,Ze)=>$(oe,ke,Ve,Ze))((0,B.Xf)(ye(oe,Ve))),W):("number"==typeof $&&(W=$),(0,L.e)((oe,Ve)=>function(ye,$,W,oe,Ve,ke,Ze,Be){const ge=[];let re=0,me=0,Me=!1;const Ce=()=>{Me&&!ge.length&&!re&&$.complete()},Ge=We=>re<oe?Ne(We):ge.push(We),Ne=We=>{re++;let le=!1;(0,B.Xf)(W(We,me++)).subscribe(new fe.Q($,it=>{$.next(it)},()=>{le=!0},void 0,()=>{if(le)try{for(re--;ge.length&&re<oe;){const it=ge.shift();Ne(it)}Ce()}catch(it){$.error(it)}}))};return ye.subscribe(new fe.Q($,Ge,()=>{Me=!0,Ce()})),()=>{}}(oe,Ve,ye,W)))}},5363:(ht,Te,R)=>{"use strict";R.d(Te,{Q:()=>he});var c=R(9672),B=R(4482),L=R(5403);function he(fe,we=0){return(0,B.e)((se,pe)=>{se.subscribe(new L.Q(pe,ye=>(0,c.f)(pe,fe,()=>pe.next(ye),we),()=>(0,c.f)(pe,fe,()=>pe.complete(),we),ye=>(0,c.f)(pe,fe,()=>pe.error(ye),we)))})}},3099:(ht,Te,R)=>{"use strict";R.d(Te,{B:()=>we});var c=R(8996),B=R(5698),L=R(7579),he=R(930),fe=R(4482);function we(pe={}){const{connector:ye=(()=>new L.x),resetOnError:$=!0,resetOnComplete:W=!0,resetOnRefCountZero:oe=!0}=pe;return Ve=>{let ke=null,Ze=null,Be=null,ge=0,re=!1,me=!1;const Me=()=>{null==Ze||Ze.unsubscribe(),Ze=null},Ce=()=>{Me(),ke=Be=null,re=me=!1},Ge=()=>{const Ne=ke;Ce(),null==Ne||Ne.unsubscribe()};return(0,fe.e)((Ne,We)=>{ge++,!me&&!re&&Me();const le=Be=null!=Be?Be:ye();We.add(()=>{ge--,0===ge&&!me&&!re&&(Ze=se(Ge,oe))}),le.subscribe(We),ke||(ke=new he.Hp({next:it=>le.next(it),error:it=>{me=!0,Me(),Ze=se(Ce,$,it),le.error(it)},complete:()=>{re=!0,Me(),Ze=se(Ce,W),le.complete()}}),(0,c.D)(Ne).subscribe(ke))})(Ve)}}function se(pe,ye,...$){return!0===ye?(pe(),null):!1===ye?null:ye(...$).pipe((0,B.q)(1)).subscribe(()=>pe())}},9468:(ht,Te,R)=>{"use strict";R.d(Te,{R:()=>B});var c=R(4482);function B(L,he=0){return(0,c.e)((fe,we)=>{we.add(L.schedule(()=>fe.subscribe(we),he))})}},5698:(ht,Te,R)=>{"use strict";R.d(Te,{q:()=>he});var c=R(515),B=R(4482),L=R(5403);function he(fe){return fe<=0?()=>c.E:(0,B.e)((we,se)=>{let pe=0;we.subscribe(new L.Q(se,ye=>{++pe<=fe&&(se.next(ye),fe<=pe&&se.complete())}))})}},8505:(ht,Te,R)=>{"use strict";R.d(Te,{b:()=>fe});var c=R(576),B=R(4482),L=R(5403),he=R(4671);function fe(we,se,pe){const ye=(0,c.m)(we)||se||pe?{next:we,error:se,complete:pe}:we;return ye?(0,B.e)(($,W)=>{var oe;null===(oe=ye.subscribe)||void 0===oe||oe.call(ye);let Ve=!0;$.subscribe(new L.Q(W,ke=>{var Ze;null===(Ze=ye.next)||void 0===Ze||Ze.call(ye,ke),W.next(ke)},()=>{var ke;Ve=!1,null===(ke=ye.complete)||void 0===ke||ke.call(ye),W.complete()},ke=>{var Ze;Ve=!1,null===(Ze=ye.error)||void 0===Ze||Ze.call(ye,ke),W.error(ke)},()=>{var ke,Ze;Ve&&(null===(ke=ye.unsubscribe)||void 0===ke||ke.call(ye)),null===(Ze=ye.finalize)||void 0===Ze||Ze.call(ye)}))}):he.y}},4408:(ht,Te,R)=>{"use strict";R.d(Te,{o:()=>fe});var c=R(727);class B extends c.w0{constructor(se,pe){super()}schedule(se,pe=0){return this}}const L={setInterval(...we){const{delegate:se}=L;return((null==se?void 0:se.setInterval)||setInterval)(...we)},clearInterval(we){const{delegate:se}=L;return((null==se?void 0:se.clearInterval)||clearInterval)(we)},delegate:void 0};var he=R(8737);class fe extends B{constructor(se,pe){super(se,pe),this.scheduler=se,this.work=pe,this.pending=!1}schedule(se,pe=0){if(this.closed)return this;this.state=se;const ye=this.id,$=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId($,ye,pe)),this.pending=!0,this.delay=pe,this.id=this.id||this.requestAsyncId($,this.id,pe),this}requestAsyncId(se,pe,ye=0){return L.setInterval(se.flush.bind(se,this),ye)}recycleAsyncId(se,pe,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return pe;L.clearInterval(pe)}execute(se,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(se,pe);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,pe){let $,ye=!1;try{this.work(se)}catch(W){ye=!0,$=W||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:se,scheduler:pe}=this,{actions:ye}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(ye,this),null!=se&&(this.id=this.recycleAsyncId(pe,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,Te,R)=>{"use strict";R.d(Te,{v:()=>L});var c=R(6063);class B{constructor(fe,we=B.now){this.schedulerActionCtor=fe,this.now=we}schedule(fe,we=0,se){return new this.schedulerActionCtor(this,fe).schedule(se,we)}}B.now=c.l.now;class L extends B{constructor(fe,we=B.now){super(fe,we),this.actions=[],this._active=!1,this._scheduled=void 0}flush(fe){const{actions:we}=this;if(this._active)return void we.push(fe);let se;this._active=!0;do{if(se=fe.execute(fe.state,fe.delay))break}while(fe=we.shift());if(this._active=!1,se){for(;fe=we.shift();)fe.unsubscribe();throw se}}}},4986:(ht,Te,R)=>{"use strict";R.d(Te,{z:()=>L,P:()=>he});var c=R(4408);const L=new(R(7565).v)(c.o),he=L},6063:(ht,Te,R)=>{"use strict";R.d(Te,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(ht,Te,R)=>{"use strict";R.d(Te,{z:()=>c});const c={setTimeout(...B){const{delegate:L}=c;return((null==L?void 0:L.setTimeout)||setTimeout)(...B)},clearTimeout(B){const{delegate:L}=c;return((null==L?void 0:L.clearTimeout)||clearTimeout)(B)},delegate:void 0}},2202:(ht,Te,R)=>{"use strict";R.d(Te,{h:()=>B});const B="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},8822:(ht,Te,R)=>{"use strict";R.d(Te,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ht,Te,R)=>{"use strict";R.d(Te,{jO:()=>he,yG:()=>fe,_6:()=>we});var c=R(576),B=R(3532);function L(se){return se[se.length-1]}function he(se){return(0,c.m)(L(se))?se.pop():void 0}function fe(se){return(0,B.K)(L(se))?se.pop():void 0}function we(se,pe){return"number"==typeof L(se)?se.pop():pe}},8737:(ht,Te,R)=>{"use strict";function c(B,L){if(B){const he=B.indexOf(L);0<=he&&B.splice(he,1)}}R.d(Te,{P:()=>c})},3888:(ht,Te,R)=>{"use strict";function c(B){const he=B(fe=>{Error.call(fe),fe.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}R.d(Te,{d:()=>c})},2806:(ht,Te,R)=>{"use strict";R.d(Te,{x:()=>L,O:()=>he});var c=R(2416);let B=null;function L(fe){if(c.v.useDeprecatedSynchronousErrorHandling){const we=!B;if(we&&(B={errorThrown:!1,error:null}),fe(),we){const{errorThrown:se,error:pe}=B;if(B=null,se)throw pe}}else fe()}function he(fe){c.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=fe)}},9672:(ht,Te,R)=>{"use strict";function c(B,L,he,fe=0,we=!1){const se=L.schedule(function(){he(),we?B.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(B.add(se),!we)return se}R.d(Te,{f:()=>c})},4671:(ht,Te,R)=>{"use strict";function c(B){return B}R.d(Te,{y:()=>c})},1144:(ht,Te,R)=>{"use strict";R.d(Te,{z:()=>c});const c=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(ht,Te,R)=>{"use strict";R.d(Te,{D:()=>B});var c=R(576);function B(L){return Symbol.asyncIterator&&(0,c.m)(null==L?void 0:L[Symbol.asyncIterator])}},576:(ht,Te,R)=>{"use strict";function c(B){return"function"==typeof B}R.d(Te,{m:()=>c})},3670:(ht,Te,R)=>{"use strict";R.d(Te,{c:()=>L});var c=R(8822),B=R(576);function L(he){return(0,B.m)(he[c.L])}},6495:(ht,Te,R)=>{"use strict";R.d(Te,{T:()=>L});var c=R(2202),B=R(576);function L(he){return(0,B.m)(null==he?void 0:he[c.h])}},8239:(ht,Te,R)=>{"use strict";R.d(Te,{t:()=>B});var c=R(576);function B(L){return(0,c.m)(null==L?void 0:L.then)}},3260:(ht,Te,R)=>{"use strict";R.d(Te,{Q:()=>L,L:()=>he});var c=R(5987),B=R(576);function L(fe){return(0,c.FC)(this,arguments,function*(){const se=fe.getReader();try{for(;;){const{value:pe,done:ye}=yield(0,c.qq)(se.read());if(ye)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(pe)}}finally{se.releaseLock()}})}function he(fe){return(0,B.m)(null==fe?void 0:fe.getReader)}},3532:(ht,Te,R)=>{"use strict";R.d(Te,{K:()=>B});var c=R(576);function B(L){return L&&(0,c.m)(L.schedule)}},4482:(ht,Te,R)=>{"use strict";R.d(Te,{A:()=>B,e:()=>L});var c=R(576);function B(he){return(0,c.m)(null==he?void 0:he.lift)}function L(he){return fe=>{if(B(fe))return fe.lift(function(we){try{return he(we,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,Te,R)=>{"use strict";function c(){}R.d(Te,{Z:()=>c})},7849:(ht,Te,R)=>{"use strict";R.d(Te,{h:()=>L});var c=R(2416),B=R(3410);function L(he){B.z.setTimeout(()=>{const{onUnhandledError:fe}=c.v;if(!fe)throw he;fe(he)})}},4532:(ht,Te,R)=>{"use strict";function c(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Te,{z:()=>c})},5987:(ht,Te,R)=>{"use strict";function pe(F,U,G,ne){return new(G||(G=Promise))(function(Y,He){function yt(lt){try{qe(ne.next(lt))}catch(Mt){He(Mt)}}function nn(lt){try{qe(ne.throw(lt))}catch(Mt){He(Mt)}}function qe(lt){lt.done?Y(lt.value):function(Y){return Y instanceof G?Y:new G(function(He){He(Y)})}(lt.value).then(yt,nn)}qe((ne=ne.apply(F,U||[])).next())})}function ge(F){return this instanceof ge?(this.v=F,this):new ge(F)}function re(F,U,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,ne=G.apply(F,U||[]),Y=[];return de={},He("next"),He("throw"),He("return"),de[Symbol.asyncIterator]=function(){return this},de;function He(Lt){ne[Lt]&&(de[Lt]=function(zn){return new Promise(function(tr,Et){Y.push([Lt,zn,tr,Et])>1||yt(Lt,zn)})})}function yt(Lt,zn){try{!function(Lt){Lt.value instanceof ge?Promise.resolve(Lt.value.v).then(qe,lt):Mt(Y[0][2],Lt)}(ne[Lt](zn))}catch(tr){Mt(Y[0][3],tr)}}function qe(Lt){yt("next",Lt)}function lt(Lt){yt("throw",Lt)}function Mt(Lt,zn){Lt(zn),Y.shift(),Y.length&&yt(Y[0][0],Y[0][1])}}function Me(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G,U=F[Symbol.asyncIterator];return U?U.call(F):(F=function(F){var U="function"==typeof Symbol&&Symbol.iterator,G=U&&F[U],ne=0;if(G)return G.call(F);if(F&&"number"==typeof F.length)return{next:function(){return F&&ne>=F.length&&(F=void 0),{value:F&&F[ne++],done:!F}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}(F),G={},ne("next"),ne("throw"),ne("return"),G[Symbol.asyncIterator]=function(){return this},G);function ne(Y){G[Y]=F[Y]&&function(He){return new Promise(function(yt,nn){!function(Y,He,yt,nn){Promise.resolve(nn).then(function(qe){Y({value:qe,done:yt})},He)}(yt,nn,(He=F[Y](He)).done,He.value)})}}}R.d(Te,{mG:()=>pe,qq:()=>ge,FC:()=>re,KL:()=>Me})},655:(ht,Te,R)=>{"use strict";function he(F,U){var G={};for(var ne in F)Object.prototype.hasOwnProperty.call(F,ne)&&U.indexOf(ne)<0&&(G[ne]=F[ne]);if(null!=F&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(ne=Object.getOwnPropertySymbols(F);de<ne.length;de++)U.indexOf(ne[de])<0&&Object.prototype.propertyIsEnumerable.call(F,ne[de])&&(G[ne[de]]=F[ne[de]])}return G}function pe(F,U,G,ne){return new(G||(G=Promise))(function(Y,He){function yt(lt){try{qe(ne.next(lt))}catch(Mt){He(Mt)}}function nn(lt){try{qe(ne.throw(lt))}catch(Mt){He(Mt)}}function qe(lt){lt.done?Y(lt.value):function(Y){return Y instanceof G?Y:new G(function(He){He(Y)})}(lt.value).then(yt,nn)}qe((ne=ne.apply(F,U||[])).next())})}R.d(Te,{_T:()=>he,mG:()=>pe})},5e3:(ht,Te,R)=>{"use strict";R.d(Te,{deG:()=>J1,tb:()=>Va,AFp:()=>or,ip1:()=>ff,CZH:()=>m4,hGG:()=>xm,z2F:()=>y4,sBO:()=>vm,Sil:()=>gf,_Vd:()=>Rc,EJc:()=>pf,SBq:()=>Oc,qLn:()=>h0,vpe:()=>Zo,tBr:()=>Xn,XFs:()=>gt,OlP:()=>On,zs3:()=>Ds,ZZ4:()=>E4,aQg:()=>G3,soG:()=>P3,YKP:()=>a4,h0i:()=>o4,PXZ:()=>dm,R0b:()=>$i,FiY:()=>dn,Lbi:()=>A2,g9A:()=>ps,Qsj:()=>S3,FYo:()=>F8,JOm:()=>Aa,q3G:()=>ir,tp0:()=>Si,Rgc:()=>lu,dDg:()=>F3,q4F:()=>Lp,GfV:()=>$n,s_b:()=>I3,ifc:()=>Ke,eFA:()=>V3,G48:()=>gm,Gpc:()=>W,f3M:()=>Pe,X6Q:()=>C4,_c5:()=>y_,VLi:()=>_4,c2e:()=>Zc,zSh:()=>l7,wAp:()=>Dt,vHH:()=>Ze,EiD:()=>a0,mCW:()=>g,qzn:()=>Ea,JVY:()=>r2,pB0:()=>c6,eBb:()=>El,L6k:()=>s0,LAX:()=>a6,cg1:()=>M8,kL8:()=>E8,yhl:()=>lc,dqk:()=>sn,sIi:()=>W6,CqO:()=>F7,QGY:()=>r8,F4k:()=>i8,RDi:()=>cl,AaK:()=>pe,z3N:()=>ko,qOj:()=>b7,TTD:()=>ea,_Bn:()=>O8,xp6:()=>id,uIk:()=>A0,ekj:()=>Ec,Suo:()=>Ns,Xpm:()=>qn,lG2:()=>Rt,Yz7:()=>Et,cJS:()=>An,oAB:()=>J,Yjl:()=>$t,Y36:()=>L0,_UZ:()=>t3,GkF:()=>n3,qZA:()=>O0,TgZ:()=>n8,EpF:()=>z7,n5z:()=>ga,Ikx:()=>Jl,LFG:()=>q,$8M:()=>fi,$Z:()=>t8,NdJ:()=>s8,CRH:()=>Qp,oxw:()=>H7,ALo:()=>cu,lcZ:()=>Hp,Hsn:()=>c3,F$t:()=>a3,Q6J:()=>e3,s9C:()=>l3,MGl:()=>u3,hYB:()=>bc,FAE:()=>h3,DdM:()=>ou,iGM:()=>Q8,MAs:()=>qd,CHM:()=>Zs,oJD:()=>Ss,LSH:()=>u6,kYT:()=>De,WFA:()=>z0,d8E:()=>Dc,YNc:()=>$6,W1O:()=>Xp,_uU:()=>_2,Oqu:()=>Bo,hij:()=>xc,AsE:()=>Kl,Gf:()=>Yp});var c=R(7579),B=R(727),L=R(8306),he=R(6451),fe=R(3099);function we(s){for(let o in s)if(s[o]===we)return o;throw Error("Could not find renamed property on target object.")}function se(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ye(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=we({__forward_ref__:we});function W(s){return s.__forward_ref__=W,s.toString=function(){return pe(this())},s}function oe(s){return Ve(s)?s():s}function Ve(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===W}class Ze extends Error{constructor(o,l){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,l)),this.code=o}}function re(s){return"string"==typeof s?s:null==s?"":String(s)}function me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():re(s)}function Ne(s,o){const l=o?` in ${o}`:"";throw new Ze("201",`No provider for ${me(s)} found${l}`)}function lt(s,o){null==s&&function(s,o,l,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function Et(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function An(s){return{providers:s.providers||[],imports:s.imports||[]}}function Oi(s){return Kn(s,bi)||Kn(s,Pi)}function Kn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ji(s){return s&&(s.hasOwnProperty(Yn)||s.hasOwnProperty(oi))?s[Yn]:null}const bi=we({\u0275prov:we}),Yn=we({\u0275inj:we}),Pi=we({ngInjectableDef:we}),oi=we({ngInjectorDef:we});var gt=(()=>((gt=gt||{})[gt.Default=0]="Default",gt[gt.Host=1]="Host",gt[gt.Self=2]="Self",gt[gt.SkipSelf=4]="SkipSelf",gt[gt.Optional=8]="Optional",gt))();let Wt;function cr(s){const o=Wt;return Wt=s,o}function mt(s,o,l){const u=Oi(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&gt.Optional?null:void 0!==o?o:void Ne(pe(s),"Injector")}function Bt(s){return{toString:s}.toString()}var Ut=(()=>((Ut=Ut||{})[Ut.OnPush=0]="OnPush",Ut[Ut.Default=1]="Default",Ut))(),Ke=(()=>{return(s=Ke||(Ke={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ke;var s})();const at="undefined"!=typeof globalThis&&globalThis,co="undefined"!=typeof window&&window,Xi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,sn=at||"undefined"!=typeof global&&global||co||Xi,Q={},j=[],ee=we({\u0275cmp:we}),Se=we({\u0275dir:we}),ce=we({\u0275pipe:we}),rt=we({\u0275mod:we}),dt=we({\u0275fac:we}),qt=we({__NG_ELEMENT_ID__:we});let Tn=0;function qn(s){return Bt(()=>{const l={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Ut.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||j,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ke.Emulated,id:"c",styles:s.styles||j,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,p=s.features,_=s.pipes;return u.id+=Tn++,u.inputs=Ye(s.inputs,l),u.outputs=Ye(s.outputs),p&&p.forEach(C=>C(u)),u.directiveDefs=d?()=>("function"==typeof d?d():d).map(jt):null,u.pipeDefs=_?()=>("function"==typeof _?_():_).map(ue):null,u})}function jt(s){return It(s)||function(s){return s[Se]||null}(s)}function ue(s){return function(s){return s[ce]||null}(s)}const te={};function J(s){return Bt(()=>{const o={type:s.type,bootstrap:s.bootstrap||j,declarations:s.declarations||j,imports:s.imports||j,exports:s.exports||j,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(te[s.id]=s.type),o})}function De(s,o){return Bt(()=>{const l=yn(s,!0);l.declarations=o.declarations||j,l.imports=o.imports||j,l.exports=o.exports||j})}function Ye(s,o){if(null==s)return Q;const l={};for(const u in s)if(s.hasOwnProperty(u)){let d=s[u],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),l[d]=u,o&&(o[d]=p)}return l}const Rt=qn;function $t(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function It(s){return s[ee]||null}function yn(s,o){const l=s[rt]||null;if(!l&&!0===o)throw new Error(`Type ${pe(s)} does not have '\u0275mod' property.`);return l}function _s(s){return Array.isArray(s)&&"object"==typeof s[1]}function Mi(s){return Array.isArray(s)&&!0===s[1]}function V4(s){return 0!=(8&s.flags)}function ts(s){return 2==(2&s.flags)}function L2(s){return 1==(1&s.flags)}function li(s){return null!==s.template}function Jo(s){return 0!=(512&s[2])}function Bs(s,o){return s.hasOwnProperty(dt)?s[dt]:null}class z2{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function ea(){return ol}function ol(s){return s.type.prototype.ngOnChanges&&(s.setInput=F2),Ya}function Ya(){const s=fo(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===Q)s.previous=o;else for(let u in o)l[u]=o[u];s.current=null,this.ngOnChanges(o)}}function F2(s,o,l,u){const d=fo(s)||function(s,o){return s[Qa]=o}(s,{previous:Q,current:null}),p=d.current||(d.current={}),_=d.previous,C=this.declaredInputs[l],M=_[C];p[C]=new z2(M&&M.currentValue,o,_===Q),s[u]=o}ea.ngInherit=!0;const Qa="__ngSimpleChanges__";function fo(s){return s[Qa]||null}let po;function cl(s){po=s}function j1(){return void 0!==po?po:"undefined"!=typeof document?document:void 0}function an(s){return!!s.listen}const Xa={createRenderer:(s,o)=>j1()};function Nn(s){for(;Array.isArray(s);)s=s[0];return s}function Us(s,o){return Nn(o[s])}function Sr(s,o){return Nn(o[s.index])}function Cs(s,o){return s.data[o]}function js(s,o){return s[o]}function cn(s,o){const l=o[s];return _s(l)?l:l[0]}function na(s){return 4==(4&s[2])}function ra(s){return 128==(128&s[2])}function hi(s,o){return null==o?null:s[o]}function sa(s){s[18]=0}function oa(s,o){s[5]+=o;let l=s,u=s[3];for(;null!==u&&(1===o&&1===l[5]||-1===o&&0===l[5]);)u[5]+=o,l=u,u=u[3]}const vt={lFrame:G2(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function t1(){return vt.bindingsEnabled}function Le(){return vt.lFrame.lView}function Kt(){return vt.lFrame.tView}function Zs(s){return vt.lFrame.contextLView=s,s[8]}function Fn(){let s=B2();for(;null!==s&&64===s.type;)s=s.parent;return s}function B2(){return vt.lFrame.currentTNode}function qr(s,o){const l=vt.lFrame;l.currentTNode=s,l.isParent=o}function n1(){return vt.lFrame.isParent}function r1(){vt.lFrame.isParent=!1}function q1(){return vt.isInCheckNoChangesMode}function s1(s){vt.isInCheckNoChangesMode=s}function ur(){const s=vt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function bs(){return vt.lFrame.bindingIndex}function ca(){return vt.lFrame.bindingIndex++}function Ei(s){const o=vt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Z2(s,o){const l=vt.lFrame;l.bindingIndex=l.bindingRootIndex=s,o1(o)}function o1(s){vt.lFrame.currentDirectiveIndex=s}function la(s){const o=vt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function W1(){return vt.lFrame.currentQueryIndex}function ua(s){vt.lFrame.currentQueryIndex=s}function ul(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function hl(s,o,l){if(l&gt.SkipSelf){let d=o,p=s;for(;!(d=d.parent,null!==d||l&gt.Host||(d=ul(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;o=d,s=p}const u=vt.lFrame=a1();return u.currentTNode=o,u.lView=s,!0}function $1(s){const o=a1(),l=s[1];vt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function a1(){const s=vt.lFrame,o=null===s?null:s.child;return null===o?G2(s):o}function G2(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function qs(){const s=vt.lFrame;return vt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const W2=qs;function $2(){const s=qs();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ln(){return vt.lFrame.selectedIndex}function Gs(s){vt.lFrame.selectedIndex=s}function Vn(){const s=vt.lFrame;return Cs(s.tView,s.selectedIndex)}function Ws(s,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:C,ngAfterViewInit:M,ngAfterViewChecked:D,ngOnDestroy:k}=p;_&&(s.contentHooks||(s.contentHooks=[])).push(-l,_),C&&((s.contentHooks||(s.contentHooks=[])).push(l,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,C)),M&&(s.viewHooks||(s.viewHooks=[])).push(-l,M),D&&((s.viewHooks||(s.viewHooks=[])).push(l,D),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,D)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(l,k)}}function is(s,o,l){Z4(s,o,3,l)}function c1(s,o,l,u){(3&s[2])===l&&Z4(s,o,l,u)}function fl(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Z4(s,o,l,u){const p=null!=u?u:-1,_=o.length-1;let C=0;for(let M=void 0!==u?65535&s[18]:0;M<_;M++)if("number"==typeof o[M+1]){if(C=o[M],null!=u&&C>=u)break}else o[M]<0&&(s[18]+=65536),(C<p||-1==p)&&(pl(s,l,o,M),s[18]=(4294901760&s[18])+M+2),M++}function pl(s,o,l,u){const d=l[u]<0,p=l[u+1],C=s[d?-l[u]:l[u]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(C)}finally{}}}else try{p.call(C)}finally{}}class Co{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function bn(s,o,l){const u=an(s);let d=0;for(;d<l.length;){const p=l[d];if("number"==typeof p){if(0!==p)break;d++;const _=l[d++],C=l[d++],M=l[d++];u?s.setAttribute(o,C,M,_):o.setAttributeNS(_,C,M)}else{const _=p,C=l[++d];tt(_)?u&&s.setProperty(o,_,C):u?s.setAttribute(o,_,C):o.setAttribute(_,C),d++}}return d}function ha(s){return 3===s||4===s||6===s}function tt(s){return 64===s.charCodeAt(0)}function pn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const d=o[u];"number"==typeof d?l=d:0===l||di(s,l,d,null,-1===l||2===l?o[++u]:null)}}return s}function di(s,o,l,u,d){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const C=s[p++];if("number"==typeof C){if(C===o){_=-1;break}if(C>o){_=p-1;break}}}for(;p<s.length;){const C=s[p];if("number"==typeof C)break;if(C===l){if(null===u)return void(null!==d&&(s[p+1]=d));if(u===s[p+1])return void(s[p+2]=d)}p++,null!==u&&p++,null!==d&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,l),null!==u&&s.splice(p++,0,u),null!==d&&s.splice(p++,0,d)}function jn(s){return-1!==s}function wo(s){return 32767&s}function da(s,o){let l=function(s){return s>>16}(s),u=o;for(;l>0;)u=u[15],l--;return u}let Mo=!0;function u1(s){const o=Mo;return Mo=s,o}let gl=0;function ss(s,o){const l=xn(s,o);if(-1!==l)return l;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,h1(u.data,s),h1(o,null),h1(u.blueprint,null));const d=Ao(s,o),p=s.injectorIndex;if(jn(d)){const _=wo(d),C=da(d,o),M=C[1].data;for(let D=0;D<8;D++)o[p+D]=C[_+D]|M[_+D]}return o[p+8]=d,p}function h1(s,o){s.push(0,0,0,0,0,0,0,0,o)}function xn(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ao(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,u=null,d=o;for(;null!==d;){const p=d[1],_=p.type;if(u=2===_?p.declTNode:1===_?d[6]:null,null===u)return-1;if(l++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function fa(s,o,l){!function(s,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(qt)&&(u=l[qt]),null==u&&(u=l[qt]=gl++);const d=255&u;o.data[s+(d>>5)]|=1<<d}(s,o,l)}function Ai(s,o,l){if(l&gt.Optional)return s;Ne(o,"NodeInjector")}function d1(s,o,l,u){if(l&gt.Optional&&void 0===u&&(u=null),0==(l&(gt.Self|gt.Host))){const d=s[9],p=cr(void 0);try{return d?d.get(o,u,l&gt.Optional):mt(o,u,l&gt.Optional)}finally{cr(p)}}return Ai(u,o,l)}function pa(s,o,l,u=gt.Default,d){if(null!==s){const p=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(qt)?s[qt]:void 0;return"number"==typeof o?o>=0?255&o:J2:o}(l);if("function"==typeof p){if(!hl(o,s,u))return u&gt.Host?Ai(d,l,u):d1(o,l,u,d);try{const _=p(u);if(null!=_||u&gt.Optional)return _;Ne(l)}finally{W2()}}else if("number"==typeof p){let _=null,C=xn(s,o),M=-1,D=u&gt.Host?o[16][6]:null;for((-1===C||u&gt.SkipSelf)&&(M=-1===C?Ao(s,o):o[C+8],-1!==M&&xr(u,!1)?(_=o[1],C=wo(M),o=da(M,o)):C=-1);-1!==C;){const k=o[1];if(So(p,C,k.data)){const P=Q1(C,o,l,_,u,D);if(P!==os)return P}M=o[C+8],-1!==M&&xr(u,o[1].data[C+8]===D)&&So(p,C,o)?(_=k,C=wo(M),o=da(M,o)):C=-1}}}return d1(o,l,u,d)}const os={};function J2(){return new xo(Fn(),Le())}function Q1(s,o,l,u,d,p){const _=o[1],C=_.data[s+8],k=Gr(C,_,l,null==u?ts(C)&&Mo:u!=_&&0!=(3&C.type),d&gt.Host&&p===C);return null!==k?$s(o,_,k,C):os}function Gr(s,o,l,u,d){const p=s.providerIndexes,_=o.data,C=1048575&p,M=s.directiveStart,k=p>>20,K=d?C+k:s.directiveEnd;for(let ie=u?C:C+k;ie<K;ie++){const Ae=_[ie];if(ie<M&&l===Ae||ie>=M&&Ae.type===l)return ie}if(d){const ie=_[M];if(ie&&li(ie)&&ie.type===l)return M}return null}function $s(s,o,l,u){let d=s[l];const p=o.data;if(function(s){return s instanceof Co}(d)){const _=d;_.resolving&&function(s,o){throw new Ze("200",`Circular dependency in DI detected for ${s}`)}(me(p[l]));const C=u1(_.canSeeViewProviders);_.resolving=!0;const M=_.injectImpl?cr(_.injectImpl):null;hl(s,u,gt.Default);try{d=s[l]=_.factory(void 0,p,s,u),o.firstCreatePass&&l>=u.directiveStart&&function(s,o,l){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(u){const _=ol(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,_)}d&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,d),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],o)}finally{null!==M&&cr(M),u1(C),_.resolving=!1,W2()}}return d}function So(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function xr(s,o){return!(s&gt.Self||s&gt.Host&&o)}class xo{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return pa(this._tNode,this._lView,o,u,l)}}function ga(s){return Bt(()=>{const o=s.prototype.constructor,l=o[dt]||_r(o),u=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==u;){const p=d[dt]||_r(d);if(p&&p!==l)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function _r(s){return Ve(s)?()=>{const o=_r(oe(s));return o&&o()}:Bs(s)}function fi(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const u=l.length;let d=0;for(;d<u;){const p=l[d];if(ha(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<u&&"string"==typeof l[d];)d++;else{if(p===o)return l[d+1];d+=2}}}return null}(Fn(),s)}const Ks="__parameters__";function Rn(s,o,l){return Bt(()=>{const u=function(s){return function(...l){if(s){const u=s(...l);for(const d in u)this[d]=u[d]}}}(o);function d(...p){if(this instanceof d)return u.apply(this,p),this;const _=new d(...p);return C.annotation=_,C;function C(M,D,k){const P=M.hasOwnProperty(Ks)?M[Ks]:Object.defineProperty(M,Ks,{value:[]})[Ks];for(;P.length<=k;)P.push(null);return(P[k]=P[k]||[]).push(_),M}}return l&&(d.prototype=Object.create(l.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class On{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Et({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const J1=new On("AnalyzeForEntryComponents");function pi(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let u=s[l];Array.isArray(u)?(o===s&&(o=s.slice(0,l)),pi(u,o)):o!==s&&o.push(u)}return o}function mi(s,o){s.forEach(l=>Array.isArray(l)?mi(l,o):o(l))}function p1(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function m1(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ws(s,o){const l=[];for(let u=0;u<s;u++)l.push(o);return l}function Dr(s,o,l){let u=Ms(s,o);return u>=0?s[1|u]=l:(u=~u,function(s,o,l,u){let d=s.length;if(d==o)s.push(l,u);else if(1===d)s.push(u,s[0]),s[0]=l;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=l,s[o+1]=u}}(s,u,o,l)),u}function Bi(s,o){const l=Ms(s,o);if(l>=0)return s[1|l]}function Ms(s,o){return function(s,o,l){let u=0,d=s.length>>l;for(;d!==u;){const p=u+(d-u>>1),_=s[p<<l];if(o===_)return p<<l;_>o?d=p:u=p+1}return~(d<<l)}(s,o,1)}const gi={},t2="__NG_DI_FLAG__",ya="ngTempTokenPath",bl=/\n/gm,wl="__source",E=we({provide:String,useValue:we});let S;function N(s){const o=S;return S=s,o}function V(s,o=gt.Default){if(void 0===S)throw new Error("inject() must be called from an injection context");return null===S?mt(s,void 0,o):S.get(s,o&gt.Optional?null:void 0,o)}function q(s,o=gt.Default){return(Wt||V)(oe(s),o)}const Pe=q;function Qe(s){const o=[];for(let l=0;l<s.length;l++){const u=oe(s[l]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let d,p=gt.Default;for(let _=0;_<u.length;_++){const C=u[_],M=Yt(C);"number"==typeof M?-1===M?d=C.token:p|=M:d=C}o.push(q(d,p))}else o.push(q(u))}return o}function nt(s,o){return s[t2]=o,s.prototype[t2]=o,s}function Yt(s){return s[t2]}const Xn=nt(Rn("Inject",s=>({token:s})),-1),dn=nt(Rn("Optional"),8),Si=nt(Rn("SkipSelf"),4);let ls,oc;function _1(s){var o;return(null===(o=function(){if(void 0===ls&&(ls=null,sn.trustedTypes))try{ls=sn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return ls}())||void 0===o?void 0:o.createHTML(s))||s}function ac(s){var o;return(null===(o=function(){if(void 0===oc&&(oc=null,sn.trustedTypes))try{oc=sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return oc}())||void 0===o?void 0:o.createHTML(s))||s}class Io{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class t0 extends Io{getTypeName(){return"HTML"}}class n0 extends Io{getTypeName(){return"Style"}}class Eh extends Io{getTypeName(){return"Script"}}class cc extends Io{getTypeName(){return"URL"}}class r0 extends Io{getTypeName(){return"ResourceURL"}}function ko(s){return s instanceof Io?s.changingThisBreaksApplicationSecurity:s}function Ea(s,o){const l=lc(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function lc(s){return s instanceof Io&&s.getTypeName()||null}function r2(s){return new t0(s)}function s0(s){return new n0(s)}function El(s){return new Eh(s)}function a6(s){return new cc(s)}function c6(s){return new r0(s)}class Ah{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(_1(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Sh{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const u=this.inertDocument.createElement("body");l.appendChild(u)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=_1(o),l;const u=this.inertDocument.createElement("body");return u.innerHTML=_1(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const l=o.attributes;for(let d=l.length-1;0<d;d--){const _=l.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Dh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,m=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function g(s){return(s=String(s)).match(Dh)||s.match(m)?s:"unsafe:"+s}function I(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function O(...s){const o={};for(const l of s)for(const u in l)l.hasOwnProperty(u)&&(o[u]=!0);return o}const ae=I("area,br,col,hr,img,wbr"),Re=I("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ut=I("rp,rt"),Tr=O(ae,O(Re,I("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),O(ut,I("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),O(ut,Re)),Xs=I("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),s2=I("srcset"),y1=O(Xs,s2,I("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),I("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),o2=I("script,style,template");class o0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let d=this.checkClobberedElement(l,l.nextSibling);if(d){l=d;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!Tr.hasOwnProperty(l))return this.sanitizedSomething=!0,!o2.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=o.attributes;for(let d=0;d<u.length;d++){const p=u.item(d),_=p.name,C=_.toLowerCase();if(!y1.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let M=p.value;Xs[C]&&(M=g(M)),s2[C]&&(s=M,M=(s=String(s)).split(",").map(o=>g(o.trim())).join(", ")),this.buf.push(" ",_,'="',Sl(M),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();Tr.hasOwnProperty(l)&&!ae.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Sl(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const a2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Al=/([^\#-~ |!])/g;function Sl(s){return s.replace(/&/g,"&amp;").replace(a2,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Al,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let c2;function a0(s,o){let l=null;try{c2=c2||function(s){const o=new Sh(s);return function(){try{return!!(new window.DOMParser).parseFromString(_1(""),"text/html")}catch(s){return!1}}()?new Ah(o):o}(s);let u=o?String(o):"";l=c2.getInertBodyElement(u);let d=5,p=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=p,p=l.innerHTML,l=c2.getInertBodyElement(u)}while(u!==p);return _1((new o0).sanitizeChildren(hc(l)||l))}finally{if(l){const u=hc(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function hc(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ir=(()=>((ir=ir||{})[ir.NONE=0]="NONE",ir[ir.HTML=1]="HTML",ir[ir.STYLE=2]="STYLE",ir[ir.SCRIPT=3]="SCRIPT",ir[ir.URL=4]="URL",ir[ir.RESOURCE_URL=5]="RESOURCE_URL",ir))();function Ss(s){const o=xl();return o?ac(o.sanitize(ir.HTML,s)||""):Ea(s,"HTML")?ac(ko(s)):a0(j1(),re(s))}function u6(s){const o=xl();return o?o.sanitize(ir.URL,s)||"":Ea(s,"URL")?ko(s):g(re(s))}function xl(){const s=Le();return s&&s[12]}const Nh="__ngContext__";function xi(s,o){s[Nh]=o}function Lh(s){const o=function(s){return s[Nh]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Oh(s){return s.ngOriginalError}function Y9(s,...o){s.error(...o)}class h0{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),u=(s=o)&&s.ngErrorLogger||Y9;var s;u(this._console,"ERROR",o),l&&u(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Oh(o);for(;l&&Oh(l);)l=Oh(l);return l||null}}const v5=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(sn))();function No(s){return s instanceof Function?s():s}var Aa=(()=>((Aa=Aa||{})[Aa.Important=1]="Important",Aa[Aa.DashCase=2]="DashCase",Aa))();function d0(s,o){return undefined(s,o)}function f0(s){const o=s[3];return Mi(o)?o[3]:o}function Vh(s){return w5(s[13])}function Hh(s){return w5(s[4])}function w5(s){for(;null!==s&&!Mi(s);)s=s[4];return s}function pc(s,o,l,u,d){if(null!=u){let p,_=!1;Mi(u)?p=u:_s(u)&&(_=!0,u=u[0]);const C=Nn(u);0===s&&null!==l?null==d?E5(o,l,C):mc(o,l,C,d||null,!0):1===s&&null!==l?mc(o,l,C,d||null,!0):2===s?function(s,o,l){const u=C6(s,o);u&&function(s,o,l,u){an(s)?s.removeChild(o,l,u):o.removeChild(l)}(s,u,o,l)}(o,C,_):3===s&&o.destroyNode(C),null!=p&&function(s,o,l,u,d){const p=l[7];p!==Nn(l)&&pc(o,s,u,p,d);for(let C=10;C<l.length;C++){const M=l[C];Tl(M[1],M,s,o,u,p)}}(o,s,p,l,d)}}function Uh(s,o,l){return an(s)?s.createElement(o,l):null===l?s.createElement(o):s.createElementNS(l,o)}function qh(s,o){const l=s[9],u=l.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,oa(d,-1)),l.splice(u,1)}function Gh(s,o){if(s.length<=10)return;const l=10+o,u=s[l];if(u){const d=u[17];null!==d&&d!==s&&qh(d,u),o>0&&(s[l-1][4]=u[4]);const p=m1(s,10+o);!function(s,o){Tl(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const _=p[19];null!==_&&_.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Wh(s,o){if(!(256&o[2])){const l=o[11];an(l)&&l.destroyNode&&Tl(s,o,l,3,null,null),function(s){let o=s[13];if(!o)return y6(s[1],s);for(;o;){let l=null;if(_s(o))l=o[13];else{const u=o[10];u&&(l=u)}if(!l){for(;o&&!o[4]&&o!==s;)_s(o)&&y6(o[1],o),o=o[3];null===o&&(o=s),_s(o)&&y6(o[1],o),l=o&&o[4]}o=l}}(o)}}function y6(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let u=0;u<l.length;u+=2){const d=o[l[u]];if(!(d instanceof Co)){const p=l[u+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const C=d[p[_]],M=p[_+1];try{M.call(C)}finally{}}else try{p.call(d)}finally{}}}}(s,o),function(s,o){const l=s.cleanup,u=o[7];let d=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const _=l[p+1],C="function"==typeof _?_(o):Nn(o[_]),M=u[d=l[p+2]],D=l[p+3];"boolean"==typeof D?C.removeEventListener(l[p],M,D):D>=0?u[d=D]():u[d=-D].unsubscribe(),p+=2}else{const _=u[d=l[p+1]];l[p].call(_)}if(null!==u){for(let p=d+1;p<u.length;p++)u[p]();o[7]=null}}(s,o),1===o[1].type&&an(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&Mi(o[3])){l!==o[3]&&qh(l,o);const u=o[19];null!==u&&u.detachView(s)}}}function l2(s,o,l){return function(s,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[0];if(2&u.flags){const d=s.data[u.directiveStart].encapsulation;if(d===Ke.None||d===Ke.Emulated)return null}return Sr(u,l)}(s,o.parent,l)}function mc(s,o,l,u,d){an(s)?s.insertBefore(o,l,u,d):o.insertBefore(l,u,d)}function E5(s,o,l){an(s)?s.appendChild(o,l):o.appendChild(l)}function Yh(s,o,l,u,d){null!==u?mc(s,o,l,u,d):E5(s,o,l)}function C6(s,o){return an(s)?s.parentNode(o):o.parentNode}function Qh(s,o,l){return S5(s,o,l)}let S5=function(s,o,l){return 40&s.type?Sr(s,l):null};function w6(s,o,l,u){const d=l2(s,u,o),p=o[11],C=Qh(u.parent||o[6],u,o);if(null!=d)if(Array.isArray(l))for(let M=0;M<l.length;M++)Yh(p,d,l[M],C,!1);else Yh(p,d,l,C,!1)}function M6(s,o){if(null!==o){const l=o.type;if(3&l)return Sr(o,s);if(4&l)return ed(-1,s[o.index]);if(8&l){const u=o.child;if(null!==u)return M6(s,u);{const d=s[o.index];return Mi(d)?ed(-1,d):Nn(d)}}if(32&l)return d0(o,s)()||Nn(s[o.index]);{const u=Xh(s,o);return null!==u?Array.isArray(u)?u[0]:M6(f0(s[16]),u):M6(s,o.next)}}return null}function Xh(s,o){return null!==o?s[16][6].projection[o.projection]:null}function ed(s,o){const l=10+s+1;if(l<o.length){const u=o[l],d=u[1].firstChild;if(null!==d)return M6(u,d)}return o[7]}function E6(s,o,l,u,d,p,_){for(;null!=l;){const C=u[l.index],M=l.type;if(_&&0===o&&(C&&xi(Nn(C),u),l.flags|=4),64!=(64&l.flags))if(8&M)E6(s,o,l.child,u,d,p,!1),pc(o,s,d,C,p);else if(32&M){const D=d0(l,u);let k;for(;k=D();)pc(o,s,d,k,p);pc(o,s,d,C,p)}else 16&M?Lo(s,o,u,l,d,p):pc(o,s,d,C,p);l=_?l.projectionNext:l.next}}function Tl(s,o,l,u,d,p){E6(l,u,s.firstChild,o,d,p,!1)}function Lo(s,o,l,u,d,p){const _=l[16],M=_[6].projection[u.projection];if(Array.isArray(M))for(let D=0;D<M.length;D++)pc(o,s,d,M[D],p);else E6(s,o,M,_[3],d,p,!0)}function D5(s,o,l){an(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function td(s,o,l){an(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function T5(s,o,l){let u=s.length;for(;;){const d=s.indexOf(o,l);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const p=o.length;if(d+p===u||s.charCodeAt(d+p)<=32)return d}l=d+1}}const C1="ng-template";function I5(s,o,l){let u=0;for(;u<s.length;){let d=s[u++];if(l&&"class"===d){if(d=s[u],-1!==T5(d.toLowerCase(),o,0))return!0}else if(1===d){for(;u<s.length&&"string"==typeof(d=s[u++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function vi(s){return 4===s.type&&s.value!==C1}function u2(s,o,l){return o===(4!==s.type||l?s.value:C1)}function pg(s,o,l){let u=4;const d=s.attrs||[],p=function(s){for(let o=0;o<s.length;o++)if(ha(s[o]))return o;return s.length}(d);let _=!1;for(let C=0;C<o.length;C++){const M=o[C];if("number"!=typeof M){if(!_)if(4&u){if(u=2|1&u,""!==M&&!u2(s,M,l)||""===M&&1===o.length){if(zr(u))return!1;_=!0}}else{const D=8&u?M:o[++C];if(8&u&&null!==s.attrs){if(!I5(s.attrs,D,l)){if(zr(u))return!1;_=!0}continue}const P=k5(8&u?"class":M,d,vi(s),l);if(-1===P){if(zr(u))return!1;_=!0;continue}if(""!==D){let K;K=P>p?"":d[P+1].toLowerCase();const ie=8&u?K:null;if(ie&&-1!==T5(ie,D,0)||2&u&&D!==K){if(zr(u))return!1;_=!0}}}}else{if(!_&&!zr(u)&&!zr(M))return!1;if(_&&zr(M))continue;_=!1,u=M|1&u}}return zr(u)||_}function zr(s){return 0==(1&s)}function k5(s,o,l,u){if(null===o)return-1;let d=0;if(u||!l){let p=!1;for(;d<o.length;){const _=o[d];if(_===s)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let C=o[++d];for(;"string"==typeof C;)C=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const u=s[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,s)}function nd(s,o,l=!1){for(let u=0;u<o.length;u++)if(pg(s,o[u],l))return!0;return!1}function O5(s,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(s.length===u.length){for(let d=0;d<s.length;d++)if(s[d]!==u[d])continue e;return!0}}return!1}function rd(s,o){return s?":not("+o.trim()+")":o}function P5(s){let o=s[0],l=1,u=2,d="",p=!1;for(;l<s.length;){let _=s[l];if("string"==typeof _)if(2&u){const C=s[++l];d+="["+_+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?d+="."+_:4&u&&(d+=" "+_);else""!==d&&!zr(_)&&(o+=rd(p,d),d=""),u=_,p=p||!zr(u);l++}return""!==d&&(o+=rd(p,d)),o}const Vt={};function id(s){sd(Kt(),Le(),Ln()+s,q1())}function sd(s,o,l,u){if(!u)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&is(o,p,l)}else{const p=s.preOrderHooks;null!==p&&c1(o,p,0,l)}Gs(l)}function m0(s,o){return s<<17|o<<2}function eo(s){return s>>17&32767}function g0(s){return 2|s}function Sa(s){return(131068&s)>>2}function S6(s,o){return-131069&s|o<<2}function v0(s){return 1|s}function Nl(s,o){const l=s.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const d=l[u],p=l[u+1];if(-1!==p){const _=s.data[p];ua(d),_.contentQueries(2,o[p],p)}}}function b1(s,o,l,u,d,p,_,C,M,D){const k=o.blueprint.slice();return k[0]=d,k[2]=140|u,sa(k),k[3]=k[15]=s,k[8]=l,k[10]=_||s&&s[10],k[11]=C||s&&s[11],k[12]=M||s&&s[12]||null,k[9]=D||s&&s[9]||null,k[6]=p,k[16]=2==o.type?s[16]:k,k}function Rl(s,o,l,u,d){let p=s.data[o];if(null===p)p=function(s,o,l,u,d){const p=B2(),_=n1(),M=s.data[o]=function(s,o,l,u,d,p){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,l,o,u,d);return null===s.firstChild&&(s.firstChild=M),null!==p&&(_?null==p.child&&null!==M.parent&&(p.child=M):null===p.next&&(p.next=M)),M}(s,o,l,u,d),vt.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=l,p.value=u,p.attrs=d;const _=function(){const s=vt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return qr(p,!0),p}function vc(s,o,l,u){if(0===l)return-1;const d=o.length;for(let p=0;p<l;p++)o.push(u),s.blueprint.push(u),s.data.push(null);return d}function _c(s,o,l){$1(o);try{const u=s.viewQuery;null!==u&&F6(1,u,l);const d=s.template;null!==d&&L6(s,o,d,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Nl(s,o),s.staticViewQueries&&F6(2,s.viewQuery,l);const p=s.components;null!==p&&function(s,o){for(let l=0;l<o.length;l++)Ig(s,o[l])}(o,p)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,$2()}}function yc(s,o,l,u){const d=o[2];if(256==(256&d))return;$1(o);const p=q1();try{sa(o),function(s){vt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&L6(s,o,l,2,u);const _=3==(3&d);if(!p)if(_){const D=s.preOrderCheckHooks;null!==D&&is(o,D,null)}else{const D=s.preOrderHooks;null!==D&&c1(o,D,0,null),fl(o,0)}if(function(s){for(let o=Vh(s);null!==o;o=Hh(o)){if(!o[2])continue;const l=o[9];for(let u=0;u<l.length;u++){const d=l[u],p=d[3];0==(1024&d[2])&&oa(p,1),d[2]|=1024}}}(o),function(s){for(let o=Vh(s);null!==o;o=Hh(o))for(let l=10;l<o.length;l++){const u=o[l],d=u[1];ra(u)&&yc(d,u,d.template,u[8])}}(o),null!==s.contentQueries&&Nl(s,o),!p)if(_){const D=s.contentCheckHooks;null!==D&&is(o,D)}else{const D=s.contentHooks;null!==D&&c1(o,D,1),fl(o,1)}!function(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const d=l[u];if(d<0)Gs(~d);else{const p=d,_=l[++u],C=l[++u];Z2(_,p),C(2,o[p])}}}finally{Gs(-1)}}(s,o);const C=s.components;null!==C&&function(s,o){for(let l=0;l<o.length;l++)Tg(s,o[l])}(o,C);const M=s.viewQuery;if(null!==M&&F6(2,M,u),!p)if(_){const D=s.viewCheckHooks;null!==D&&is(o,D)}else{const D=s.viewHooks;null!==D&&c1(o,D,2),fl(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,oa(o[3],-1))}finally{$2()}}function Cd(s,o,l,u){const d=o[10],p=!q1(),_=na(o);try{p&&!_&&d.begin&&d.begin(),_&&_c(s,o,u),yc(s,o,l,u)}finally{p&&!_&&d.end&&d.end()}}function L6(s,o,l,u,d){const p=Ln(),_=2&u;try{Gs(-1),_&&o.length>20&&sd(s,o,20,q1()),l(u,d)}finally{Gs(p)}}function us(s,o,l){if(V4(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const _=s.data[p];_.contentQueries&&_.contentQueries(1,l[p],p)}}}function w1(s,o,l){!t1()||(function(s,o,l,u){const d=l.directiveStart,p=l.directiveEnd;s.firstCreatePass||ss(l,o),xi(u,o);const _=l.initialInputs;for(let C=d;C<p;C++){const M=s.data[C],D=li(M);D&&Dd(o,l,M);const k=$s(o,s,C,l);xi(k,o),null!==_&&w0(0,C-d,k,M,0,_),D&&(cn(l.index,o)[8]=k)}}(s,o,l,Sr(l,o)),128==(128&l.flags)&&function(s,o,l){const u=l.directiveStart,d=l.directiveEnd,_=l.index,C=vt.lFrame.currentDirectiveIndex;try{Gs(_);for(let M=u;M<d;M++){const D=s.data[M],k=o[M];o1(M),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Q5(D,k)}}finally{Gs(-1),o1(C)}}(s,o,l))}function bd(s,o,l=Sr){const u=o.localNames;if(null!==u){let d=o.index+1;for(let p=0;p<u.length;p+=2){const _=u[p+1],C=-1===_?l(o,s):s[_];s[d++]=C}}}function q5(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=f2(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function f2(s,o,l,u,d,p,_,C,M,D){const k=20+u,P=k+d,K=function(s,o){const l=[];for(let u=0;u<o;u++)l.push(u<s?null:Vt);return l}(k,P),ie="function"==typeof D?D():D;return K[1]={type:s,blueprint:K,template:l,queries:null,viewQuery:C,declTNode:o,data:K.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:M,consts:ie,incompleteFirstPass:!1}}function wg(s,o,l,u){const d=V6(o);null===l?d.push(u):(d.push(l),s.firstCreatePass&&Nd(s).push(u,d.length-1))}function G5(s,o,l){for(let u in s)if(s.hasOwnProperty(u)){const d=s[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(o,d):l[u]=[o,d]}return l}function hs(s,o,l,u,d,p,_,C){const M=Sr(o,l);let k,D=o.inputs;!C&&null!=D&&(k=D[u])?(o7(s,l,k,u,d),ts(o)&&function(s,o){const l=cn(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(u=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),d=null!=_?_(d,o.value||"",u):d,an(p)?p.setProperty(M,u,d):tt(u)||(M.setProperty?M.setProperty(u,d):M[u]=d))}function Sd(s,o,l,u){let d=!1;if(t1()){const p=function(s,o,l){const u=s.directiveRegistry;let d=null;if(u)for(let p=0;p<u.length;p++){const _=u[p];nd(l,_.selectors,!1)&&(d||(d=[]),fa(ss(l,o),s,_.type),li(_)?(X5(s,l),d.unshift(_)):d.push(_))}return d}(s,o,l),_=null===u?null:{"":-1};if(null!==p){d=!0,O6(l,s.data.length,p.length);for(let k=0;k<p.length;k++){const P=p[k];P.providersResolver&&P.providersResolver(P)}let C=!1,M=!1,D=vc(s,o,p.length,null);for(let k=0;k<p.length;k++){const P=p[k];l.mergedAttrs=pn(l.mergedAttrs,P.hostAttrs),e7(s,l,o,D,P),Ag(D,P,_),null!==P.contentQueries&&(l.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(l.flags|=128);const K=P.type.prototype;!C&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),C=!0),!M&&(K.ngOnChanges||K.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),M=!0),D++}!function(s,o){const u=o.directiveEnd,d=s.data,p=o.attrs,_=[];let C=null,M=null;for(let D=o.directiveStart;D<u;D++){const k=d[D],P=k.inputs,K=null===p||vi(o)?null:Sg(P,p);_.push(K),C=G5(P,D,C),M=G5(k.outputs,D,M)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=C,o.outputs=M}(s,l)}_&&function(s,o,l){if(o){const u=s.localNames=[];for(let d=0;d<o.length;d+=2){const p=l[o[d+1]];if(null==p)throw new Ze("301",`Export of name '${o[d+1]}' not found!`);u.push(o[d],p)}}}(l,u,_)}return l.mergedAttrs=pn(l.mergedAttrs,l.attrs),d}function b0(s,o,l,u,d,p){const _=p.hostBindings;if(_){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const M=~o.index;(function(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(C)!=M&&C.push(M),C.push(u,d,_)}}function Q5(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function X5(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Ag(s,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=s;li(o)&&(l[""]=s)}}function O6(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function e7(s,o,l,u,d){s.data[u]=d;const p=d.factory||(d.factory=Bs(d.type)),_=new Co(p,li(d),null);s.blueprint[u]=_,l[u]=_,b0(s,o,0,u,vc(s,l,d.hostVars,Vt),d)}function Dd(s,o,l){const u=Sr(o,s),d=q5(l),p=s[10],_=Pl(s,b1(s,d,null,l.onPush?64:16,u,o,p,p.createRenderer(u,l),null,null));s[o.index]=_}function Oo(s,o,l,u,d,p){const _=Sr(s,o);!function(s,o,l,u,d,p,_){if(null==p)an(s)?s.removeAttribute(o,d,l):o.removeAttribute(d);else{const C=null==_?re(p):_(p,u||"",d);an(s)?s.setAttribute(o,d,C,l):l?o.setAttributeNS(l,d,C):o.setAttribute(d,C)}}(o[11],_,p,s.value,l,u,d)}function w0(s,o,l,u,d,p){const _=p[o];if(null!==_){const C=u.setInput;for(let M=0;M<_.length;){const D=_[M++],k=_[M++],P=_[M++];null!==C?u.setInput(l,P,D,k):l[k]=P}}}function Sg(s,o){let l=null,u=0;for(;u<o.length;){const d=o[u];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===l&&(l=[]),l.push(d,s[d],o[u+1])),u+=2}else u+=2;else u+=4}return l}function t7(s,o,l,u){return new Array(s,!0,!1,o,null,0,u,l,null,null)}function Tg(s,o){const l=cn(o,s);if(ra(l)){const u=l[1];80&l[2]?yc(u,l,u.template,l[8]):l[5]>0&&P6(l)}}function P6(s){for(let u=Vh(s);null!==u;u=Hh(u))for(let d=10;d<u.length;d++){const p=u[d];if(1024&p[2]){const _=p[1];yc(_,p,_.template,p[8])}else p[5]>0&&P6(p)}const l=s[1].components;if(null!==l)for(let u=0;u<l.length;u++){const d=cn(l[u],s);ra(d)&&d[5]>0&&P6(d)}}function Ig(s,o){const l=cn(o,s),u=l[1];(function(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(u,l),_c(u,l,l[8])}function Pl(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function kd(s){for(;s;){s[2]|=64;const o=f0(s);if(Jo(s)&&!o)return s;s=o}return null}function zl(s,o,l){const u=o[10];u.begin&&u.begin();try{yc(s,o,s.template,l)}catch(d){throw Ld(o,d),d}finally{u.end&&u.end()}}function r7(s){!function(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],u=Lh(l),d=u[1];Cd(d,u,d.template,l)}}(s[8])}function F6(s,o,l){ua(0),o(s,l)}const Ng=(()=>Promise.resolve(null))();function V6(s){return s[7]||(s[7]=[])}function Nd(s){return s.cleanup||(s.cleanup=[])}function s7(s,o,l){return(null===s||li(s))&&(l=function(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function Ld(s,o){const l=s[9],u=l?l.get(h0,null):null;u&&u.handleError(o)}function o7(s,o,l,u,d){for(let p=0;p<l.length;){const _=l[p++],C=l[p++],M=o[_],D=s.data[_];null!==D.setInput?D.setInput(M,d,u,C):M[C]=d}}function xa(s,o,l){const u=Us(o,s);!function(s,o,l){an(s)?s.setValue(o,l):o.textContent=l}(s[11],u,l)}function H6(s,o,l){let u=l?s.styles:null,d=l?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const C=o[_];"number"==typeof C?p=C:1==p?d=ye(d,C):2==p&&(u=ye(u,C+": "+o[++_]+";"))}l?s.styles=u:s.stylesWithoutHost=u,l?s.classes=d:s.classesWithoutHost=d}const c7=new On("INJECTOR",-1);class Og{get(o,l=gi){if(l===gi){const u=new Error(`NullInjectorError: No provider for ${pe(o)}!`);throw u.name="NullInjectorError",u}return l}}const l7=new On("Set Injector scope."),Fl={},Pg={};let Rd;function zg(){return void 0===Rd&&(Rd=new Og),Rd}function Fg(s,o=null,l=null,u){const d=Vg(s,o,l,u);return d._resolveInjectorDefTypes(),d}function Vg(s,o=null,l=null,u){return new u7(s,l,o||zg(),u)}class u7{constructor(o,l,u,d=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];l&&mi(l,C=>this.processProvider(C,o,l)),mi([o],C=>this.processInjectorType(C,[],p)),this.records.set(c7,Vl(void 0,this));const _=this.records.get(l7);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof o?null:pe(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=gi,u=gt.Default){this.assertNotDestroyed();const d=N(this),p=cr(void 0);try{if(!(u&gt.SkipSelf)){let C=this.records.get(o);if(void 0===C){const M=("function"==typeof(s=o)||"object"==typeof s&&s instanceof On)&&Oi(o);C=M&&this.injectableDefInScope(M)?Vl(B6(o),Fl):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(u&gt.Self?zg():this.parent).get(o,l=u&gt.Optional&&l===gi?null:l)}catch(_){if("NullInjectorError"===_.name){if((_[ya]=_[ya]||[]).unshift(pe(o)),d)throw _;return function(s,o,l,u){const d=s[ya];throw o[wl]&&d.unshift(o[wl]),s.message=function(s,o,l,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=pe(o);if(Array.isArray(o))d=o.map(pe).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let C=o[_];p.push(_+":"+("string"==typeof C?JSON.stringify(C):pe(C)))}d=`{${p.join(", ")}}`}return`${l}${u?"("+u+")":""}[${d}]: ${s.replace(bl,"\n  ")}`}("\n"+s.message,d,l,u),s.ngTokenPath=d,s[ya]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{cr(p),N(d)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,d)=>o.push(pe(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,l,u){if(!(o=oe(o)))return!1;let d=Ji(o);const p=null==d&&o.ngModule||void 0,_=void 0===p?o:p,C=-1!==u.indexOf(_);if(void 0!==p&&(d=Ji(p)),null==d)return!1;if(null!=d.imports&&!C){let k;u.push(_);try{mi(d.imports,P=>{this.processInjectorType(P,l,u)&&(void 0===k&&(k=[]),k.push(P))})}finally{}if(void 0!==k)for(let P=0;P<k.length;P++){const{ngModule:K,providers:ie}=k[P];mi(ie,Ae=>this.processProvider(Ae,K,ie||j))}}this.injectorDefTypes.add(_);const M=Bs(_)||(()=>new _);this.records.set(_,Vl(M,Fl));const D=d.providers;if(null!=D&&!C){const k=o;mi(D,P=>this.processProvider(P,k,D))}return void 0!==p&&void 0!==o.providers}processProvider(o,l,u){let d=xs(o=oe(o))?o:oe(o&&o.provide);const p=(s=o,d7(s)?Vl(void 0,s.useValue):Vl(h7(s),Fl));var s;if(xs(o)||!0!==o.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=Vl(void 0,Fl,!0),_.factory=()=>Qe(_.multi),this.records.set(d,_)),d=o,_.multi.push(o)}this.records.set(d,p)}hydrate(o,l){return l.value===Fl&&(l.value=Pg,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(s=l.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const l=oe(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function B6(s){const o=Oi(s),l=null!==o?o.factory:Bs(s);if(null!==l)return l;if(s instanceof On)throw new Error(`Token ${pe(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const u=ws(o,"?");throw new Error(`Can't resolve all parameters for ${pe(s)}: (${u.join(", ")}).`)}const l=function(s){const o=s&&(s[bi]||s[Pi]);if(o){const l=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Error("unreachable")}function h7(s,o,l){let u;if(xs(s)){const d=oe(s);return Bs(d)||B6(d)}if(d7(s))u=()=>oe(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...Qe(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))u=()=>q(oe(s.useExisting));else{const d=oe(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return Bs(d)||B6(d);u=()=>new d(...Qe(s.deps))}return u}function Vl(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function d7(s){return null!==s&&"object"==typeof s&&E in s}function xs(s){return"function"==typeof s}let Ds=(()=>{class s{static create(l,u){var d;if(Array.isArray(l))return Fg({name:""},u,l,"");{const p=null!==(d=l.name)&&void 0!==d?d:"";return Fg({name:p},l.parent,l.providers,p)}}}return s.THROW_IF_NOT_FOUND=gi,s.NULL=new Og,s.\u0275prov=Et({token:s,providedIn:"any",factory:()=>q(c7)}),s.__NG_ELEMENT_ID__=-1,s})();function Vd(s,o){Ws(Lh(s)[1],Fn())}function b7(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const u=[s];for(;o;){let d;if(li(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");d=o.\u0275dir}if(d){if(l){u.push(d);const _=s;_.inputs=Hd(s.inputs),_.declaredInputs=Hd(s.declaredInputs),_.outputs=Hd(s.outputs);const C=d.hostBindings;C&&G6(s,C);const M=d.viewQuery,D=d.contentQueries;if(M&&Jb(s,M),D&&Xb(s,D),se(s.inputs,d.inputs),se(s.declaredInputs,d.declaredInputs),se(s.outputs,d.outputs),li(d)&&d.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const C=p[_];C&&C.ngInherit&&C(s),C===b7&&(l=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,l=null;for(let u=s.length-1;u>=0;u--){const d=s[u];d.hostVars=o+=d.hostVars,d.hostAttrs=pn(d.hostAttrs,l=pn(l,d.hostAttrs))}}(u)}function Hd(s){return s===Q?{}:s===j?[]:s}function Jb(s,o){const l=s.viewQuery;s.viewQuery=l?(u,d)=>{o(u,d),l(u,d)}:o}function Xb(s,o){const l=s.contentQueries;s.contentQueries=l?(u,d,p)=>{o(u,d,p),l(u,d,p)}:o}function G6(s,o){const l=s.hostBindings;s.hostBindings=l?(u,d)=>{o(u,d),l(u,d)}:o}let E0=null;function Bl(){if(!E0){const s=sn.Symbol;if(s&&s.iterator)E0=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const u=o[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(E0=u)}}}return E0}function W6(s){return!!Fo(s)&&(Array.isArray(s)||!(s instanceof Map)&&Bl()in s)}function Fo(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ts(s,o,l){return s[o]=l}function At(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Cc(s,o,l,u){const d=At(s,o,l);return At(s,o+1,u)||d}function A0(s,o,l,u){const d=Le();return At(d,ca(),o)&&(Kt(),Oo(Vn(),d,s,o,l,u)),A0}function E1(s,o,l,u){return At(s,ca(),l)?o+re(l)+u:Vt}function p2(s,o,l,u,d,p){const C=Cc(s,bs(),l,d);return Ei(2),C?o+re(l)+u+re(d)+p:Vt}function Ul(s,o,l,u,d,p,_,C,M,D){const P=function(s,o,l,u,d,p){const _=Cc(s,o,l,u);return Cc(s,o+2,d,p)||_}(s,bs(),l,d,_,M);return Ei(4),P?o+re(l)+u+re(d)+p+re(_)+C+re(M)+D:Vt}function $6(s,o,l,u,d,p,_,C){const M=Le(),D=Kt(),k=s+20,P=D.firstCreatePass?function(s,o,l,u,d,p,_,C,M){const D=o.consts,k=Rl(o,s,4,_||null,hi(D,C));Sd(o,l,k,hi(D,M)),Ws(o,k);const P=k.tViews=f2(2,k,u,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,D);return null!==o.queries&&(o.queries.template(o,k),P.queries=o.queries.embeddedTView(k)),k}(k,D,M,o,l,u,d,p,_):D.data[k];qr(P,!1);const K=M[11].createComment("");w6(D,M,K,P),xi(K,M),Pl(M,M[k]=t7(K,M,K,P)),L2(P)&&w1(D,M,P),null!=_&&bd(M,P,C)}function qd(s){return js(vt.lFrame.contextLView,20+s)}function L0(s,o=gt.Default){const l=Le();return null===l?q(s,o):pa(Fn(),l,oe(s),o)}function t8(){throw new Error("invalid")}function e3(s,o,l){const u=Le();return At(u,ca(),o)&&hs(Kt(),Vn(),u,s,o,u[11],l,!1),e3}function R0(s,o,l,u,d){const _=d?"class":"style";o7(s,l,o.inputs[_],_,u)}function n8(s,o,l,u){const d=Le(),p=Kt(),_=20+s,C=d[11],M=d[_]=Uh(C,o,vt.lFrame.currentNamespace),D=p.firstCreatePass?function(s,o,l,u,d,p,_){const C=o.consts,D=Rl(o,s,2,d,hi(C,p));return Sd(o,l,D,hi(C,_)),null!==D.attrs&&H6(D,D.attrs,!1),null!==D.mergedAttrs&&H6(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(_,p,d,0,o,l,u):p.data[_];qr(D,!0);const k=D.mergedAttrs;null!==k&&bn(C,M,k);const P=D.classes;null!==P&&td(C,M,P);const K=D.styles;null!==K&&D5(C,M,K),64!=(64&D.flags)&&w6(p,d,M,D),0===vt.lFrame.elementDepthCount&&xi(M,d),vt.lFrame.elementDepthCount++,L2(D)&&(w1(p,d,D),us(p,D,d)),null!==u&&bd(d,D)}function O0(){let s=Fn();n1()?r1():(s=s.parent,qr(s,!1));const o=s;vt.lFrame.elementDepthCount--;const l=Kt();l.firstCreatePass&&(Ws(l,s),V4(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&R0(l,o,Le(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&R0(l,o,Le(),o.stylesWithoutHost,!1)}function t3(s,o,l,u){n8(s,o,l,u),O0()}function n3(s,o,l){(function(s,o,l){const u=Le(),d=Kt(),p=s+20,_=d.firstCreatePass?function(s,o,l,u,d){const p=o.consts,_=hi(p,u),C=Rl(o,s,8,"ng-container",_);return null!==_&&H6(C,_,!0),Sd(o,l,C,hi(p,d)),null!==o.queries&&o.queries.elementStart(o,C),C}(p,d,u,o,l):d.data[p];qr(_,!0);const C=u[p]=u[11].createComment("");w6(d,u,C,_),xi(C,u),L2(_)&&(w1(d,u,_),us(d,_,u)),null!=l&&bd(u,_)})(s,o,l),function(){let s=Fn();const o=Kt();n1()?r1():(s=s.parent,qr(s,!1)),o.firstCreatePass&&(Ws(o,s),V4(s)&&o.queries.elementEnd(s))}()}function z7(){return Le()}function r8(s){return!!s&&"function"==typeof s.then}function i8(s){return!!s&&"function"==typeof s.subscribe}const F7=i8;function s8(s,o,l,u){const d=Le(),p=Kt(),_=Fn();return V7(p,d,d[11],_,s,o,!!l,u),s8}function z0(s,o){const l=Fn(),u=Le(),d=Kt();return V7(d,u,s7(la(d.data),l,u),l,s,o,!1),z0}function V7(s,o,l,u,d,p,_,C){const M=L2(u),k=s.firstCreatePass&&Nd(s),P=o[8],K=V6(o);let ie=!0;if(3&u.type||C){const $e=Sr(u,o),st=C?C($e):$e,Ie=K.length,Ct=C?Jt=>C(Nn(Jt[u.index])):u.index;if(an(l)){let Jt=null;if(!C&&M&&(Jt=function(s,o,l,u){const d=s.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===l&&d[p+1]===u){const C=o[7],M=d[p+2];return C.length>M?C[M]:null}"string"==typeof _&&(p+=2)}return null}(s,o,d,u.index)),null!==Jt)(Jt.__ngLastListenerFn__||Jt).__ngNextListenerFn__=p,Jt.__ngLastListenerFn__=p,ie=!1;else{p=s3(u,o,P,p,!1);const gn=l.listen(st,d,p);K.push(p,gn),k&&k.push(d,Ct,Ie,Ie+1)}}else p=s3(u,o,P,p,!0),st.addEventListener(d,p,_),K.push(p),k&&k.push(d,Ct,Ie,_)}else p=s3(u,o,P,p,!1);const Ae=u.outputs;let Fe;if(ie&&null!==Ae&&(Fe=Ae[d])){const $e=Fe.length;if($e)for(let st=0;st<$e;st+=2){const Qi=o[Fe[st]][Fe[st+1]].subscribe(p),ms=K.length;K.push(p,Qi),k&&k.push(d,u.index,ms,-(ms+1))}}}function r3(s,o,l,u){try{return!1!==l(u)}catch(d){return Ld(s,d),!1}}function s3(s,o,l,u,d){return function p(_){if(_===Function)return u;const C=2&s.flags?cn(s.index,o):o;0==(32&o[2])&&kd(C);let M=r3(o,0,u,_),D=p.__ngNextListenerFn__;for(;D;)M=r3(o,0,D,_)&&M,D=D.__ngNextListenerFn__;return d&&!1===M&&(_.preventDefault(),_.returnValue=!1),M}}function H7(s=1){return function(s){return(vt.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,vt.lFrame.contextLView))[8]}(s)}function o3(s,o){let l=null;const u=function(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let d=0;d<o.length;d++){const p=o[d];if("*"!==p){if(null===u?nd(s,p,!0):O5(u,p))return d}else l=d}return l}function a3(s){const o=Le()[16][6];if(!o.projection){const u=o.projection=ws(s?s.length:1,null),d=u.slice();let p=o.child;for(;null!==p;){const _=s?o3(p,s):0;null!==_&&(d[_]?d[_].projectionNext=p:u[_]=p,d[_]=p),p=p.next}}}function c3(s,o=0,l){const u=Le(),d=Kt(),p=Rl(d,20+s,16,null,l||null);null===p.projection&&(p.projection=o),r1(),64!=(64&p.flags)&&function(s,o,l){Lo(o[11],0,o,l,l2(s,l,o),Qh(l.parent||o[6],l,o))}(d,u,p)}function l3(s,o,l){return u3(s,"",o,"",l),l3}function u3(s,o,l,u,d){const p=Le(),_=E1(p,o,l,u);return _!==Vt&&hs(Kt(),Vn(),p,s,_,p[11],d,!1),u3}function bc(s,o,l,u,d,p,_){const C=Le(),M=p2(C,o,l,u,d,p);return M!==Vt&&hs(Kt(),Vn(),C,s,M,C[11],_,!1),bc}function h3(s,o,l,u,d,p,_,C,M,D,k){const P=Le(),K=Ul(P,o,l,u,d,p,_,C,M,D);return K!==Vt&&hs(Kt(),Vn(),P,s,K,P[11],k,!1),h3}function l8(s,o,l,u,d){const p=s[l+1],_=null===o;let C=u?eo(p):Sa(p),M=!1;for(;0!==C&&(!1===M||_);){const k=s[C+1];d3(s[C],o)&&(M=!0,s[C+1]=u?v0(k):g0(k)),C=u?eo(k):Sa(k)}M&&(s[l+1]=u?g0(p):v0(p))}function d3(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ms(s,o)>=0}function Ec(s,o){return function(s,o,l,u){const d=Le(),p=Kt(),_=Ei(2);p.firstUpdatePass&&function(s,o,l,u){const d=s.data;if(null===d[l+1]){const p=d[Ln()],_=function(s,o){return o>=s.expandoStartIndex}(s,l);(function(s,o){return 0!=(s.flags&(o?16:32))})(p,u)&&null===o&&!_&&(o=!1),o=function(s,o,l,u){const d=la(s);let p=u?o.residualClasses:o.residualStyles;if(null===d)0===(u?o.classBindings:o.styleBindings)&&(l=Ho(l=Ac(null,s,o,l,u),o.attrs,u),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==d)if(l=Ac(d,s,o,l,u),null===p){let M=function(s,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==Sa(u))return s[eo(u)]}(s,o,u);void 0!==M&&Array.isArray(M)&&(M=Ac(null,s,o,M[1],u),M=Ho(M,o.attrs,u),function(s,o,l,u){s[eo(l?o.classBindings:o.styleBindings)]=u}(s,o,u,M))}else p=function(s,o,l){let u;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)u=Ho(u,s[p].hostAttrs,l);return Ho(u,o.attrs,l)}(s,o,u)}return void 0!==p&&(u?o.residualClasses=p:o.residualStyles=p),l}(d,p,o,u),function(s,o,l,u,d,p){let _=p?o.classBindings:o.styleBindings,C=eo(_),M=Sa(_);s[u]=l;let k,D=!1;if(Array.isArray(l)){const P=l;k=P[1],(null===k||Ms(P,k)>0)&&(D=!0)}else k=l;if(d)if(0!==M){const K=eo(s[C+1]);s[u+1]=m0(K,C),0!==K&&(s[K+1]=S6(s[K+1],u)),s[C+1]=function(s,o){return 131071&s|o<<17}(s[C+1],u)}else s[u+1]=m0(C,0),0!==C&&(s[C+1]=S6(s[C+1],u)),C=u;else s[u+1]=m0(M,0),0===C?C=u:s[M+1]=S6(s[M+1],u),M=u;D&&(s[u+1]=g0(s[u+1])),l8(s,k,u,!0),l8(s,k,u,!1),function(s,o,l,u,d){const p=d?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Ms(p,o)>=0&&(l[u+1]=v0(l[u+1]))}(o,k,s,u,p),_=m0(C,M),p?o.classBindings=_:o.styleBindings=_}(d,p,o,l,_,u)}}(p,s,_,u),o!==Vt&&At(d,_,o)&&function(s,o,l,u,d,p,_,C){if(!(3&o.type))return;const M=s.data,D=M[C+1];Ta(function(s){return 1==(1&s)}(D)?m3(M,o,l,d,Sa(D),_):void 0)||(Ta(p)||function(s){return 2==(2&s)}(D)&&(p=m3(M,null,l,d,C,_)),function(s,o,l,u,d){const p=an(s);if(o)d?p?s.addClass(l,u):l.classList.add(u):p?s.removeClass(l,u):l.classList.remove(u);else{let _=-1===u.indexOf("-")?void 0:Aa.DashCase;if(null==d)p?s.removeStyle(l,u,_):l.style.removeProperty(u);else{const C="string"==typeof d&&d.endsWith("!important");C&&(d=d.slice(0,-10),_|=Aa.Important),p?s.setStyle(l,u,d,_):l.style.setProperty(u,d,C?"important":"")}}}(u,_,Us(Ln(),l),d,p))}(p,p.data[Ln()],d,d[11],s,d[_+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=pe(ko(s)))),s}(o,l),u,_)}(s,o,null,!0),Ec}function Ac(s,o,l,u,d){let p=null;const _=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<_&&(p=o[C],u=Ho(u,p.hostAttrs,d),p!==s);)C++;return null!==s&&(l.directiveStylingLast=C),u}function Ho(s,o,l){const u=l?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?d=_:d===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Dr(s,_,!!l||o[++p]))}return void 0===s?null:s}function m3(s,o,l,u,d,p){const _=null===o;let C;for(;d>0;){const M=s[d],D=Array.isArray(M),k=D?M[1]:M,P=null===k;let K=l[d+1];K===Vt&&(K=P?j:void 0);let ie=P?Bi(K,u):k===u?K:void 0;if(D&&!Ta(ie)&&(ie=Bi(M,u)),Ta(ie)&&(C=ie,_))return C;const Ae=s[d+1];d=_?eo(Ae):Sa(Ae)}if(null!==o){let M=p?o.residualClasses:o.residualStyles;null!=M&&(C=Bi(M,u))}return C}function Ta(s){return void 0!==s}function _2(s,o=""){const l=Le(),u=Kt(),d=s+20,p=u.firstCreatePass?Rl(u,d,1,o,null):u.data[d],_=l[d]=function(s,o){return an(s)?s.createText(o):s.createTextNode(o)}(l[11],o);w6(u,l,_,p),qr(p,!1)}function Bo(s){return xc("",s,""),Bo}function xc(s,o,l){const u=Le(),d=E1(u,s,o,l);return d!==Vt&&xa(u,Ln(),d),xc}function Kl(s,o,l,u,d){const p=Le(),_=p2(p,s,o,l,u,d);return _!==Vt&&xa(p,Ln(),_),Kl}function Jl(s,o,l){const u=Le();return At(u,ca(),o)&&hs(Kt(),Vn(),u,s,o,u[11],l,!0),Jl}function Dc(s,o,l){const u=Le();if(At(u,ca(),o)){const p=Kt(),_=Vn();hs(p,_,u,s,o,s7(la(p.data),_,u),l,!0)}return Dc}const Ia=void 0;var cp=["en",[["a","p"],["AM","PM"],Ia],[["AM","PM"],Ia,Ia],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ia,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ia,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ia,"{1} 'at' {0}",Ia],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const l=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let ka={};function M8(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=lp(o);if(l)return l;const u=o.split("-")[0];if(l=lp(u),l)return l;if("en"===u)return cp;throw new Error(`Missing locale data for the locale "${s}".`)}function E8(s){return M8(s)[Dt.PluralCase]}function lp(s){return s in ka||(ka[s]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[s]),ka[s]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const W0="en-US";let b3=W0;function La(s,o,l,u,d){if(s=oe(s),Array.isArray(s))for(let p=0;p<s.length;p++)La(s[p],o,l,u,d);else{const p=Kt(),_=Le();let C=xs(s)?s:oe(s.provide),M=h7(s);const D=Fn(),k=1048575&D.providerIndexes,P=D.directiveStart,K=D.providerIndexes>>20;if(xs(s)||!s.multi){const ie=new Co(M,d,L0),Ae=X0(C,o,d?k:k+K,P);-1===Ae?(fa(ss(D,_),p,C),dr(p,s,o.length),o.push(C),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),l.push(ie),_.push(ie)):(l[Ae]=ie,_[Ae]=ie)}else{const ie=X0(C,o,k+K,P),Ae=X0(C,o,k,k+K),Fe=ie>=0&&l[ie],$e=Ae>=0&&l[Ae];if(d&&!$e||!d&&!Fe){fa(ss(D,_),p,C);const st=function(s,o,l,u,d){const p=new Co(s,l,L0);return p.multi=[],p.index=o,p.componentProviders=0,Lc(p,d,u&&!l),p}(d?eu:Ip,l.length,d,u,M);!d&&$e&&(l[Ae].providerFactory=st),dr(p,s,o.length,0),o.push(C),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),l.push(st),_.push(st)}else dr(p,s,ie>-1?ie:Ae,Lc(l[d?Ae:ie],M,!d&&u));!d&&u&&$e&&l[Ae].componentProviders++}}}function dr(s,o,l,u){const d=xs(o),p=function(s){return!!s.useClass}(o);if(d||p){const M=(p?oe(o.useClass):o).prototype.ngOnDestroy;if(M){const D=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const k=D.indexOf(l);-1===k?D.push(l,[u,M]):D[k+1].push(u,M)}else D.push(l,M)}}}function Lc(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function X0(s,o,l,u){for(let d=l;d<u;d++)if(o[d]===s)return d;return-1}function Ip(s,o,l,u){return x1(this.multi,[])}function eu(s,o,l,u){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,C=$s(l,l[1],this.providerFactory.index,u);p=C.slice(0,_),x1(d,p);for(let M=_;M<C.length;M++)p.push(C[M])}else p=[],x1(d,p);return p}function x1(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function O8(s,o=[]){return l=>{l.providersResolver=(u,d)=>function(s,o,l){const u=Kt();if(u.firstCreatePass){const d=li(s);La(l,u.data,u.blueprint,d,!0),La(o,u.data,u.blueprint,d,!1)}}(u,d?d(s):s,o)}}class b2{}class kp{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${pe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Rc=(()=>{class s{}return s.NULL=new kp,s})();function P8(){return D1(Fn(),Le())}function D1(s,o){return new Oc(Sr(s,o))}let Oc=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=P8,s})();function z8(s){return s instanceof Oc?s.nativeElement:s}class F8{}let S3=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function(){const s=Le(),l=cn(Fn().index,s);return function(s){return s[11]}(_s(l)?l:s)}(),s})(),Np=(()=>{class s{}return s.\u0275prov=Et({token:s,providedIn:"root",factory:()=>null}),s})();class $n{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Lp=new $n("13.1.1"),x3={};function w2(s,o,l,u,d=!1){for(;null!==l;){const p=o[l.index];if(null!==p&&u.push(Nn(p)),Mi(p))for(let C=10;C<p.length;C++){const M=p[C],D=M[1].firstChild;null!==D&&w2(M[1],M,D,u)}const _=l.type;if(8&_)w2(s,o,l.child,u);else if(32&_){const C=d0(l,o);let M;for(;M=C();)u.push(M)}else if(16&_){const C=Xh(o,l);if(Array.isArray(C))u.push(...C);else{const M=f0(o[16]);w2(M[1],M,C,u,!0)}}l=d?l.projectionNext:l.next}return u}class ru{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return w2(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Mi(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(Gh(o,u),m1(l,u))}this._attachedToViewContainer=!1}Wh(this._lView[1],this._lView)}onDestroy(o){wg(this._lView[1],this._lView,null,o)}markForCheck(){kd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){zl(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,l){s1(!0);try{zl(s,o,l)}finally{s1(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,Tl(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class D3 extends ru{constructor(o){super(o),this._view=o}detectChanges(){r7(this._view)}checkNoChanges(){!function(s){s1(!0);try{r7(s)}finally{s1(!1)}}(this._view)}get context(){return null}}class iu extends Rc{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=It(o);return new V8(l,this.ngModule)}}function ki(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}const Rv=new On("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>v5});class V8 extends b2{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=o.selectors.map(P5).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return ki(this.componentDef.inputs)}get outputs(){return ki(this.componentDef.outputs)}create(o,l,u,d){const p=(d=d||this.ngModule)?function(s,o){return{get:(l,u,d)=>{const p=s.get(l,x3,d);return p!==x3||u===x3?p:o.get(l,u,d)}}}(o,d.injector):o,_=p.get(F8,Xa),C=p.get(Np,null),M=_.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",k=u?function(s,o,l){if(an(s))return s.selectRootElement(o,l===Ke.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(M,u,this.componentDef.encapsulation):Uh(_.createRenderer(null,this.componentDef),D,function(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(D)),P=this.componentDef.onPush?576:528,K=function(s,o){return{components:[],scheduler:s||v5,clean:Ng,playerHandler:o||null,flags:0}}(),ie=f2(0,null,null,1,0,null,null,null,null,null),Ae=b1(null,ie,K,P,null,null,_,M,C,p);let Fe,$e;$1(Ae);try{const st=function(s,o,l,u,d,p){const _=l[1];l[20]=s;const M=Rl(_,20,2,"#host",null),D=M.mergedAttrs=o.hostAttrs;null!==D&&(H6(M,D,!0),null!==s&&(bn(d,s,D),null!==M.classes&&td(d,s,M.classes),null!==M.styles&&D5(d,s,M.styles)));const k=u.createRenderer(s,o),P=b1(l,q5(o),null,o.onPush?64:16,l[20],M,u,k,p||null,null);return _.firstCreatePass&&(fa(ss(M,l),_,o.type),X5(_,M),O6(M,l.length,1)),Pl(l,P),l[20]=P}(k,this.componentDef,Ae,_,M);if(k)if(u)bn(M,k,["ng-version",Lp.full]);else{const{attrs:Ie,classes:Ct}=function(s){const o=[],l=[];let u=1,d=2;for(;u<s.length;){let p=s[u];if("string"==typeof p)2===d?""!==p&&o.push(p,s[++u]):8===d&&l.push(p);else{if(!zr(d))break;d=p}u++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Ie&&bn(M,k,Ie),Ct&&Ct.length>0&&td(M,k,Ct.join(" "))}if($e=Cs(ie,20),void 0!==l){const Ie=$e.projection=[];for(let Ct=0;Ct<this.ngContentSelectors.length;Ct++){const Jt=l[Ct];Ie.push(null!=Jt?Array.from(Jt):null)}}Fe=function(s,o,l,u,d){const p=l[1],_=function(s,o,l){const u=Fn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),e7(s,u,o,vc(s,o,1,null),l));const d=$s(o,s,u.directiveStart,u);xi(d,o);const p=Sr(u,o);return p&&xi(p,o),d}(p,l,o);if(u.components.push(_),s[8]=_,d&&d.forEach(M=>M(_,o)),o.contentQueries){const M=Fn();o.contentQueries(1,_,M.directiveStart)}const C=Fn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Gs(C.index),b0(l[1],C,0,C.directiveStart,C.directiveEnd,o),Q5(o,_)),_}(st,this.componentDef,Ae,K,[Vd]),_c(ie,Ae,null)}finally{$2()}return new Pv(this.componentType,Fe,D1($e,Ae),Ae,$e)}}class Pv extends class{}{constructor(o,l,u,d,p){super(),this.location=u,this._rootLView=d,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new D3(d),this.componentType=o}get injector(){return new xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class o4{}class a4{}const T1=new Map;class Pc extends o4{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new iu(this);const u=yn(o);this._bootstrapComponents=No(u.bootstrap),this._r3Injector=Vg(o,l,[{provide:o4,useValue:this},{provide:Rc,useValue:this.componentFactoryResolver}],pe(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Ds.THROW_IF_NOT_FOUND,u=gt.Default){return o===Ds||o===o4||o===c7?this:this._r3Injector.get(o,l,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class c4 extends a4{constructor(o){super(),this.moduleType=o,null!==yn(o)&&function(s){const o=new Set;!function l(u){const d=yn(u,!0),p=d.id;null!==p&&(function(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${pe(o)} vs ${pe(o.name)}`)}(p,T1.get(p),u),T1.set(p,u));const _=No(d.imports);for(const C of _)o.has(C)||(o.add(C),l(C))}(s)}(o)}create(o){return new Pc(this.moduleType,o)}}function ou(s,o,l){const u=ur()+s,d=Le();return d[u]===Vt?Ts(d,u,l?o.call(l):o()):function(s,o){return s[o]}(d,u)}function Z8(s,o,l,u,d,p){const _=o+l;return At(s,_,d)?Ts(s,_+1,p?u.call(p,d):u(d)):function(s,o){const l=s[o];return l===Vt?void 0:l}(s,_+1)}function cu(s,o){const l=Kt();let u;const d=s+20;l.firstCreatePass?(u=function(s,o){if(o)for(let l=o.length-1;l>=0;l--){const u=o[l];if(s===u.name)return u}}(o,l.pipeRegistry),l.data[d]=u,u.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(d,u.onDestroy)):u=l.data[d];const p=u.factory||(u.factory=Bs(u.type)),_=cr(L0);try{const C=u1(!1),M=p();return u1(C),function(s,o,l,u){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=u}(l,Le(),d,M),M}finally{cr(_)}}function Hp(s,o,l){const u=s+20,d=Le(),p=js(d,u);return function(s,o){return s[1].data[o].pure}(d,u)?Z8(d,ur(),o,p.transform,l,p):p.transform(l)}function M2(s){return o=>{setTimeout(s,void 0,o)}}const Zo=class extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){var d,p,_;let C=o,M=l||(()=>null),D=u;if(o&&"object"==typeof o){const P=o;C=null===(d=P.next)||void 0===d?void 0:d.bind(P),M=null===(p=P.error)||void 0===p?void 0:p.bind(P),D=null===(_=P.complete)||void 0===_?void 0:_.bind(P)}this.__isAsync&&(M=M2(M),C&&(C=M2(C)),D&&(D=M2(D)));const k=super.subscribe({next:C,error:M,complete:D});return o instanceof B.w0&&o.add(k),k}};function Zp(){return this._results[Bl()]()}class Fc{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Bl(),u=Fc.prototype;u[l]||(u[l]=Zp)}get changes(){return this._changes||(this._changes=new Zo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const d=pi(o);(this._changesDetected=!function(s,o,l){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let d=s[u],p=o[u];if(l&&(d=l(d),p=l(p)),p!==d)return!1}return!0}(u._results,d,l))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let lu=(()=>{class s{}return s.__NG_ELEMENT_ID__=T3,s})();const Bv=lu,Nr=class extends Bv{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(o){const l=this._declarationTContainer.tViews,u=b1(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(u[19]=p.createEmbeddedView(l)),_c(l,u,o),new ru(u)}};function T3(){return Vc(Fn(),Le())}function Vc(s,o){return 4&s.type?new Nr(o,s,D1(s,o)):null}let I3=(()=>{class s{}return s.__NG_ELEMENT_ID__=$8,s})();function $8(){return k1(Fn(),Le())}const Uv=I3,K8=class extends Uv{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return D1(this._hostTNode,this._hostLView)}get injector(){return new xo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ao(this._hostTNode,this._hostLView);if(jn(o)){const l=da(o,this._hostLView),u=wo(o);return new xo(l[1].data[u+8],l)}return new xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Y8(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,u){const d=o.createEmbeddedView(l||{});return this.insert(d,u),d}createComponent(o,l,u,d,p){const _=o&&!("function"==typeof o);let C;if(_)C=l;else{const P=l||{};C=P.index,u=P.injector,d=P.projectableNodes,p=P.ngModuleRef}const M=_?o:new V8(It(o)),D=u||this.parentInjector;if(!p&&null==M.ngModule&&D){const P=D.get(o4,null);P&&(p=P)}const k=M.create(D,d,void 0,p);return this.insert(k.hostView,C),k}insert(o,l){const u=o._lView,d=u[1];if(Mi(u[3])){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const P=u[3],K=new K8(P,P[6],P[3]);K.detach(K.indexOf(o))}}const p=this._adjustIndex(l),_=this._lContainer;!function(s,o,l,u){const d=10+u,p=l.length;u>0&&(l[d-1][4]=o),u<p-10?(o[4]=l[d],p1(l,10+u,o)):(l.push(o),o[4]=null),o[3]=l;const _=o[17];null!==_&&l!==_&&function(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(_,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=128}(d,u,_,p);const C=ed(p,_),M=u[11],D=C6(M,_[7]);return null!==D&&function(s,o,l,u,d,p){u[0]=d,u[6]=o,Tl(s,u,l,1,d,p)}(d,_[6],M,u,D,C),o.attachToViewContainerRef(),p1(Hc(_),p,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Y8(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=Gh(this._lContainer,l);u&&(m1(Hc(this._lContainer),l),Wh(u[1],u))}detach(o){const l=this._adjustIndex(o,-1),u=Gh(this._lContainer,l);return u&&null!=m1(Hc(this._lContainer),l)?new ru(u):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function Y8(s){return s[8]}function Hc(s){return s[8]||(s[8]=[])}function k1(s,o){let l;const u=o[s.index];if(Mi(u))l=u;else{let d;if(8&s.type)d=Nn(u);else{const p=o[11];d=p.createComment("");const _=Sr(s,o);mc(p,C6(p,_),d,function(s,o){return an(s)?s.nextSibling(o):o.nextSibling}(p,_),!1)}o[s.index]=l=t7(u,o,d,s),Pl(o,l)}return new K8(l,s,o)}class Bc{constructor(o){this.queryList=o,this.matches=null}clone(){return new Bc(this.queryList)}setDirty(){this.queryList.setDirty()}}class uu{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,d=[];for(let p=0;p<u;p++){const _=l.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new uu(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==Mn(o,l).matches&&this.queries[l].setDirty()}}class Wp{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class fr{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const d=null!==l?l.length:0,p=this.getByIndex(u).embeddedTView(o,d);p&&(p.indexInDeclarationView=u,null!==l?l.push(p):l=[p])}return null!==l?new fr(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class en{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new en(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const p=u[d];this.matchTNodeWithReadOption(o,l,$p(l,p)),this.matchTNodeWithReadOption(o,l,Gr(l,o,p,!1,!1))}else u===lu?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Gr(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===Oc||d===I3||d===lu&&4&l.type)this.addMatch(l.index,-2);else{const p=Gr(l,o,d,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function $p(s,o){const l=s.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function Hr(s,o,l,u){return-1===l?function(s,o){return 11&s.type?D1(s,o):4&s.type?Vc(s,o):null}(o,s):-2===l?function(s,o,l){return l===Oc?D1(o,s):l===lu?Vc(o,s):l===I3?k1(o,s):void 0}(s,o,u):$s(s,s[1],l,o)}function ti(s,o,l,u){const d=o[19].queries[u];if(null===d.matches){const p=s.data,_=l.matches,C=[];for(let M=0;M<_.length;M+=2){const D=_[M];C.push(D<0?null:Hr(o,p[D],_[M+1],l.metadata.read))}d.matches=C}return d.matches}function er(s,o,l,u){const d=s.queries.getByIndex(l),p=d.matches;if(null!==p){const _=ti(s,o,d,l);for(let C=0;C<p.length;C+=2){const M=p[C];if(M>0)u.push(_[C/2]);else{const D=p[C+1],k=o[-M];for(let P=10;P<k.length;P++){const K=k[P];K[17]===K[3]&&er(K[1],K,D,u)}if(null!==k[9]){const P=k[9];for(let K=0;K<P.length;K++){const ie=P[K];er(ie[1],ie,D,u)}}}}}return u}function Q8(s){const o=Le(),l=Kt(),u=W1();ua(u+1);const d=Mn(l,u);if(s.dirty&&na(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const p=d.crossesNgTemplate?er(l,o,u,[]):ti(l,o,d,u);s.reset(p,z8),s.notifyOnChanges()}return!0}return!1}function Yp(s,o,l){const u=Kt();u.firstCreatePass&&(X8(u,new Wp(s,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),Jp(u,Le(),o)}function Ns(s,o,l,u){const d=Kt();if(d.firstCreatePass){const p=Fn();X8(d,new Wp(o,l,u),p.index),function(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(d,s),2==(2&l)&&(d.staticContentQueries=!0)}Jp(d,Le(),l)}function Qp(){return s=Le(),o=W1(),s[19].queries[o].queryList;var s,o}function Jp(s,o,l){const u=new Fc(4==(4&l));wg(s,o,u,u.destroy),null===o[19]&&(o[19]=new uu),o[19].queries.push(new Bc(u))}function X8(s,o,l){null===s.queries&&(s.queries=new fr),s.queries.track(new en(o,l))}function Mn(s,o){return s.queries.getByIndex(o)}function Xp(s,o){return Vc(s,o)}function Pn(...s){}const ff=new On("Application Initializer");let m4=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Pn,this.reject=Pn,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(r8(p))l.push(p);else if(F7(p)){const _=new Promise((C,M)=>{p.subscribe({complete:C,error:M})});l.push(_)}}Promise.all(l).then(()=>{u()}).catch(d=>{this.reject(d)}),0===l.length&&u(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(q(ff,8))},s.\u0275prov=Et({token:s,factory:s.\u0275fac}),s})();const or=new On("AppId"),fs={provide:or,useFactory:function(){return`${Br()}${Br()}${Br()}`},deps:[]};function Br(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ps=new On("Platform Initializer"),A2=new On("Platform ID"),Va=new On("appBootstrapListener");let Zc=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Et({token:s,factory:s.\u0275fac}),s})();const P3=new On("LocaleId"),pf=new On("DefaultCurrencyCode");class Go{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let gf=(()=>{class s{compileModuleSync(l){return new c4(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),p=No(yn(l).declarations).reduce((_,C)=>{const M=It(C);return M&&_.push(new V8(M)),_},[]);return new Go(u,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Et({token:s,factory:s.\u0275fac}),s})();const r_=(()=>Promise.resolve(0))();function N1(s){"undefined"==typeof Zone?r_.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class $i{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zo(!1),this.onMicrotaskEmpty=new Zo(!1),this.onStable=new Zo(!1),this.onError=new Zo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&l,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let s=sn.requestAnimationFrame,o=sn.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(sn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Ha(s),s.isCheckStableRunning=!0,Ni(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Ha(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,d,p,_,C)=>{try{return yf(s),l.invokeTask(d,p,_,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),z3(s)}},onInvoke:(l,u,d,p,_,C,M)=>{try{return yf(s),l.invoke(d,p,_,C,M)}finally{s.shouldCoalesceRunChangeDetection&&o(),z3(s)}},onHasTask:(l,u,d,p)=>{l.hasTask(d,p),u===d&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Ha(s),Ni(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,u,d,p)=>(l.handleError(d,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$i.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($i.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,o,lm,Pn,Pn);try{return p.runTask(_,l,u)}finally{p.cancelTask(_)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const lm={};function Ni(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Ha(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function yf(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function z3(s){s._nesting--,Ni(s)}class um{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zo,this.onMicrotaskEmpty=new Zo,this.onStable=new Zo,this.onError=new Zo}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,d){return o.apply(l,u)}}let F3=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$i.assertNotInAngularZone(),N1(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())N1(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,d){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:d})}whenStable(l,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,u,d){return[]}}return s.\u0275fac=function(l){return new(l||s)(q($i))},s.\u0275prov=Et({token:s,factory:s.\u0275fac}),s})(),Cf=(()=>{class s{constructor(){this._applications=new Map,S2.addToWindow(this)}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return S2.findTestabilityInTree(this,l,u)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Et({token:s,factory:s.\u0275fac}),s})();class v4{addToWindow(o){}findTestabilityInTree(o,l,u){return null}}function _4(s){S2=s}let Ki,S2=new v4;const wf=new On("AllowMultipleToken");class dm{constructor(o,l){this.name=o,this.token=l}}function V3(s,o,l=[]){const u=`Platform: ${o}`,d=new On(u);return(p=[])=>{let _=Mf();if(!_||_.injector.get(wf,!1))if(s)s(l.concat(p).concat({provide:d,useValue:!0}));else{const C=l.concat(p).concat({provide:d,useValue:!0},{provide:l7,useValue:"platform"});!function(s){if(Ki&&!Ki.destroyed&&!Ki.injector.get(wf,!1))throw new Ze("400","");Ki=s.get(Yi);const o=s.get(ps,null);o&&o.forEach(l=>l())}(Ds.create({providers:C,name:u}))}return function(s){const o=Mf();if(!o)throw new Ze("401","");return o}()}}function Mf(){return Ki&&!Ki.destroyed?Ki:null}let Yi=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const C=function(s,o){let l;return l="noop"===s?new um:("zone.js"===s?void 0:s)||new $i({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),M=[{provide:$i,useValue:C}];return C.run(()=>{const D=Ds.create({providers:M,parent:this.injector,name:l.moduleType.name}),k=l.create(D),P=k.injector.get(h0,null);if(!P)throw new Ze("402","");return C.runOutsideAngular(()=>{const K=C.onError.subscribe({next:ie=>{P.handleError(ie)}});k.onDestroy(()=>{Ba(this._modules,k),K.unsubscribe()})}),function(s,o,l){try{const u=l();return r8(u)?u.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(P,C,()=>{const K=k.injector.get(m4);return K.runInitializers(),K.donePromise.then(()=>(function(s){lt(s,"Expected localeId to be defined"),"string"==typeof s&&(b3=s.toLowerCase().replace(/_/g,"-"))}(k.injector.get(P3,W0)||W0),this._moduleDoBootstrap(k),k))})})}bootstrapModule(l,u=[]){const d=B3({},u);return function(s,o,l){const u=new c4(l);return Promise.resolve(u)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(l){const u=l.injector.get(y4);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!l.instance.ngDoBootstrap)throw new Ze("403","");l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ze("404","");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(q(Ds))},s.\u0275prov=Et({token:s,factory:s.\u0275fac}),s})();function B3(s,o){return Array.isArray(o)?o.reduce(B3,s):Object.assign(Object.assign({},s),o)}let y4=(()=>{class s{constructor(l,u,d,p,_){this._zone=l,this._injector=u,this._exceptionHandler=d,this._componentFactoryResolver=p,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new L.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),M=new L.y(D=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{$i.assertNotInAngularZone(),N1(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{$i.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{k.unsubscribe(),P.unsubscribe()}});this.isStable=(0,he.T)(C,M.pipe((0,fe.B)()))}bootstrap(l,u){if(!this._initStatus.done)throw new Ze("405","");let d;d=l instanceof b2?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(d.componentType);const p=function(s){return s.isBoundToModule}(d)?void 0:this._injector.get(o4),C=d.create(Ds.NULL,[],u||d.selector,p),M=C.location.nativeElement,D=C.injector.get(F3,null),k=D&&C.injector.get(Cf);return D&&k&&k.registerApplication(M,D),C.onDestroy(()=>{this.detachView(C.hostView),Ba(this.components,C),k&&k.unregisterApplication(M)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Ze("101","");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;Ba(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Va,[]).concat(this._bootstrapListeners).forEach(d=>d(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(q($i),q(Ds),q(h0),q(Rc),q(m4))},s.\u0275prov=Et({token:s,factory:s.\u0275fac}),s})();function Ba(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let x2=!0,mm=!1;function C4(){return mm=!0,x2}function gm(){if(mm)throw new Error("Cannot enable prod mode after platform setup.");x2=!1}let vm=(()=>{class s{}return s.__NG_ELEMENT_ID__=c_,s})();function c_(s){return function(s,o,l){if(ts(s)&&!l){const u=cn(s.index,o);return new ru(u,u)}return 47&s.type?new ru(o[16],o):null}(Fn(),Le(),16==(16&s))}class xf{constructor(){}supports(o){return W6(o)}create(o){return new wm(o)}}const m_=(s,o)=>o;class wm{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||m_}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,d=0,p=null;for(;l||u;){const _=!u||l&&l.currentIndex<Z3(u,d,p)?l:u,C=Z3(_,d,p),M=_.currentIndex;if(_===u)d--,u=u._nextRemoved;else if(l=l._next,null==_.previousIndex)d++;else{p||(p=[]);const D=C-d,k=M-d;if(D!=k){for(let K=0;K<D;K++){const ie=K<p.length?p[K]:p[K]=0,Ae=ie+K;k<=Ae&&Ae<D&&(p[K]=ie+1)}p[_.previousIndex]=k-D}}C!==M&&o(_,C,M)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!W6(o))throw new Error(`Error trying to diff '${pe(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,_,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)p=o[C],_=this._trackByFn(C,p),null!==l&&Object.is(l.trackById,_)?(u&&(l=this._verifyReinsertion(l,p,_,C)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,_,C),u=!0),l=l._next}else d=0,function(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Bl()]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,C=>{_=this._trackByFn(d,C),null!==l&&Object.is(l.trackById,_)?(u&&(l=this._verifyReinsertion(l,C,_,d)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,_,d),u=!0),l=l._next,d++}),this.length=d;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,p,d)):o=this._addAfter(new g_(l,u),p,d),o}_verifyReinsertion(o,l,u,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const d=null===l?this._itHead:l._next;return o._next=d,o._prev=l,null===d?this._itTail=o:d._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new $c),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $c),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class g_{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class M4{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class $c{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new M4,this.map.set(l,u)),u.add(o)}get(o,l){const d=this.map.get(o);return d?d.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Z3(s,o,l){const u=s.previousIndex;if(null===u)return u;let d=0;return l&&u<l.length&&(d=l[u]),u+o+d}class Mu{constructor(){}supports(o){return o instanceof Map||Fo(o)}create(){return new Mm}}class Mm{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Fo(o)))throw new Error(`Error trying to diff '${pe(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,d)=>{if(l&&l.key===d)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(d,u);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,l);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const u=new Em(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class Em{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Am(){return new E4([new xf])}let E4=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(null!=u){const d=u.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||Am()),deps:[[s,new Si,new dn]]}}find(l){const u=this.factories.find(d=>d.supports(l));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(s){return s.name||typeof s}(l)}'`)}}return s.\u0275prov=Et({token:s,providedIn:"root",factory:Am}),s})();function q3(){return new G3([new Mu])}let G3=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(u){const d=u.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||q3()),deps:[[s,new Si,new dn]]}}find(l){const u=this.factories.find(d=>d.supports(l));if(u)return u;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return s.\u0275prov=Et({token:s,providedIn:"root",factory:q3}),s})();const Df=[new Mu],Tf=new E4([new xf]),ri=new G3(Df),y_=V3(null,"core",[{provide:A2,useValue:"unknown"},{provide:Yi,deps:[Ds]},{provide:Cf,deps:[]},{provide:Zc,deps:[]}]),If=[{provide:y4,useClass:y4,deps:[$i,Ds,h0,Rc,m4]},{provide:Rv,deps:[$i],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(l){o.push(l)}}},{provide:m4,useClass:m4,deps:[[new dn,ff]]},{provide:gf,useClass:gf,deps:[]},fs,{provide:E4,useFactory:function(){return Tf},deps:[]},{provide:G3,useFactory:function(){return ri},deps:[]},{provide:P3,useFactory:function(s){return s||"undefined"!=typeof $localize&&$localize.locale||W0},deps:[[new Xn(P3),new dn,new Si]]},{provide:pf,useValue:"USD"}];let xm=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(q(y4))},s.\u0275mod=J({type:s}),s.\u0275inj=An({providers:If}),s})()},3942:(ht,Te,R)=>{"use strict";R.d(Te,{Z:()=>Ze});var c=R(2090),B=R(4859),L=R(9681),he=R(1877);class fe{constructor(ge,re){this._delegate=ge,this.firebase=re,(0,L._addComponent)(ge,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(ge,re=L._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const Me=this._delegate.container.getProvider(ge);return!Me.isInitialized()&&"EXPLICIT"===(null===(me=Me.getComponent())||void 0===me?void 0:me.instantiationMode)&&Me.initialize(),Me.getImmediate({identifier:re})}_removeServiceInstance(ge,re=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(re)}_addComponent(ge){(0,L._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,L._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ye(){const Be=function(Be){const ge={},re={__esModule:!0,initializeApp:function(le,it={}){const F=L.initializeApp(le,it);if((0,c.r3)(ge,F.name))return ge[F.name];const U=new Be(F,re);return ge[F.name]=U,U},app:Me,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function(le){const it=le.name,F=it.replace("-compat","");if(L._registerComponent(le)&&"PUBLIC"===le.type){const U=(G=Me())=>{if("function"!=typeof G[F])throw se.create("invalid-app-argument",{appName:it});return G[F]()};void 0!==le.serviceProps&&(0,c.ZB)(U,le.serviceProps),re[F]=U,Be.prototype[F]=function(...G){return this._getService.bind(this,it).apply(this,le.multipleInstances?G:[])}}return"PUBLIC"===le.type?re[F]:null},removeApp:function(le){delete ge[le]},useAsService:function(le,it){return"serverAuth"===it?null:it},modularAPIs:L}};function Me(le){if(!(0,c.r3)(ge,le=le||L._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:le});return ge[le]}return re.default=re,Object.defineProperty(re,"apps",{get:function(){return Object.keys(ge).map(le=>ge[le])}}),Me.App=Be,re}(fe);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function(re){(0,c.ZB)(Be,re)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Be}(),W=new he.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=$;(0,L.registerVersion)("@firebase/app-compat","0.1.14",undefined)},9681:(ht,Te,R)=>{"use strict";R.r(Te),R.d(Te,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>vs,_DEFAULT_ENTRY_NAME:()=>nn,_addComponent:()=>Lt,_addOrOverwriteComponent:()=>zn,_apps:()=>lt,_clearComponents:()=>An,_components:()=>Mt,_getProvider:()=>Et,_registerComponent:()=>tr,_removeServiceInstance:()=>En,deleteApp:()=>Pi,getApp:()=>bi,getApps:()=>Yn,initializeApp:()=>Ji,onLog:()=>Wt,registerVersion:()=>gt,setLogLevel:()=>pr});var c=R(5861),B=R(4859),L=R(1877),he=R(2090);class fe{constructor(bt){this.container=bt}getPlatformInfoString(){return this.container.getProviders().map(Bt=>{if(function(mt){const bt=mt.getComponent();return"VERSION"===(null==bt?void 0:bt.type)}(Bt)){const Ut=Bt.getImmediate();return`${Ut.library}/${Ut.version}`}return null}).filter(Bt=>Bt).join(" ")}}const se="@firebase/app",ye=new L.Yd("@firebase/app"),nn="[DEFAULT]",qe={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},lt=new Map,Mt=new Map;function Lt(mt,bt){try{mt.container.addComponent(bt)}catch(Bt){ye.debug(`Component ${bt.name} failed to register with FirebaseApp ${mt.name}`,Bt)}}function zn(mt,bt){mt.container.addOrOverwriteComponent(bt)}function tr(mt){const bt=mt.name;if(Mt.has(bt))return ye.debug(`There were multiple attempts to register component ${bt}.`),!1;Mt.set(bt,mt);for(const Bt of lt.values())Lt(Bt,mt);return!0}function Et(mt,bt){return mt.container.getProvider(bt)}function En(mt,bt,Bt=nn){Et(mt,bt).clearInstance(Bt)}function An(){Mt.clear()}const Kn=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Mr{constructor(bt,Bt,Ut){this._isDeleted=!1,this._options=Object.assign({},bt),this._config=Object.assign({},Bt),this._name=Bt.name,this._automaticDataCollectionEnabled=Bt.automaticDataCollectionEnabled,this._container=Ut,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(bt){this.checkDestroyed(),this._automaticDataCollectionEnabled=bt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(bt){this._isDeleted=bt}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}const vs="9.6.3";function Ji(mt,bt={}){"object"!=typeof bt&&(bt={name:bt});const Bt=Object.assign({name:nn,automaticDataCollectionEnabled:!1},bt),Ut=Bt.name;if("string"!=typeof Ut||!Ut)throw Kn.create("bad-app-name",{appName:String(Ut)});const lr=lt.get(Ut);if(lr){if((0,he.vZ)(mt,lr.options)&&(0,he.vZ)(Bt,lr.config))return lr;throw Kn.create("duplicate-app",{appName:Ut})}const rn=new B.H0(Ut);for(const at of Mt.values())rn.addComponent(at);const Ke=new Mr(mt,Bt,rn);return lt.set(Ut,Ke),Ke}function bi(mt=nn){const bt=lt.get(mt);if(!bt)throw Kn.create("no-app",{appName:mt});return bt}function Yn(){return Array.from(lt.values())}function Pi(mt){return oi.apply(this,arguments)}function oi(){return(oi=(0,c.Z)(function*(mt){const bt=mt.name;lt.has(bt)&&(lt.delete(bt),yield Promise.all(mt.container.getProviders().map(Bt=>Bt.delete())),mt.isDeleted=!0)})).apply(this,arguments)}function gt(mt,bt,Bt){var Ut;let lr=null!==(Ut=qe[mt])&&void 0!==Ut?Ut:mt;Bt&&(lr+=`-${Bt}`);const rn=lr.match(/\s|\//),Ke=bt.match(/\s|\//);if(rn||Ke){const at=[`Unable to register library "${lr}" with version "${bt}":`];return rn&&at.push(`library name "${lr}" contains illegal characters (whitespace or "/")`),rn&&Ke&&at.push("and"),Ke&&at.push(`version name "${bt}" contains illegal characters (whitespace or "/")`),void ye.warn(at.join(" "))}tr(new B.wA(`${lr}-version`,()=>({library:lr,version:bt}),"VERSION"))}function Wt(mt,bt){if(null!==mt&&"function"!=typeof mt)throw Kn.create("invalid-log-argument");(0,L.Am)(mt,bt)}function pr(mt){(0,L.Ub)(mt)}tr(new B.wA("platform-logger",bt=>new fe(bt),"PRIVATE")),gt(se,"0.7.13",""),gt(se,"0.7.13","esm2017"),gt("fire-js","")},4859:(ht,Te,R)=>{"use strict";R.d(Te,{wA:()=>L,H0:()=>pe});var c=R(5861),B=R(2090);class L{constructor($,W,oe){this.name=$,this.instanceFactory=W,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const he="[DEFAULT]";class fe{constructor($,W){this.name=$,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const W=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(W)){const oe=new B.BH;if(this.instancesDeferred.set(W,oe),this.isInitialized(W)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:W});Ve&&oe.resolve(Ve)}catch(Ve){}}return this.instancesDeferred.get(W).promise}getImmediate($){var W;const oe=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Ve=null!==(W=null==$?void 0:$.optional)&&void 0!==W&&W;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(ke){if(Ve)return null;throw ke}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if("EAGER"===$.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:he})}catch(W){}for(const[W,oe]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(W);try{const ke=this.getOrInitializeService({instanceIdentifier:Ve});oe.resolve(ke)}catch(ke){}}}}clearInstance($=he){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,c.Z)(function*(){const W=Array.from($.instances.values());yield Promise.all([...W.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...W.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=he){return this.instances.has($)}getOptions($=he){return this.instancesOptions.get($)||{}}initialize($={}){const{options:W={}}=$,oe=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:oe,options:W});for(const[ke,Ze]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(ke)&&Ze.resolve(Ve);return Ve}onInit($,W){var oe;const Ve=this.normalizeInstanceIdentifier(W),ke=null!==(oe=this.onInitCallbacks.get(Ve))&&void 0!==oe?oe:new Set;ke.add($),this.onInitCallbacks.set(Ve,ke);const Ze=this.instances.get(Ve);return Ze&&$(Ze,Ve),()=>{ke.delete($)}}invokeOnInitCallbacks($,W){const oe=this.onInitCallbacks.get(W);if(oe)for(const Ve of oe)try{Ve($,W)}catch(ke){}}getOrInitializeService({instanceIdentifier:$,options:W={}}){let oe=this.instances.get($);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=$,ye===he?void 0:ye),options:W}),this.instances.set($,oe),this.instancesOptions.set($,W),this.invokeOnInitCallbacks(oe,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,oe)}catch(Ve){}var ye;return oe||null}normalizeInstanceIdentifier($=he){return this.component?this.component.multipleInstances?$:he:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor($){this.name=$,this.providers=new Map}addComponent($){const W=this.getProvider($.name);if(W.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);W.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const W=new fe($,this);return this.providers.set($,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,Te,R)=>{"use strict";R.d(Te,{in:()=>B,Yd:()=>se,Ub:()=>pe,Am:()=>ye});const c=[];var B=(()=>{return($=B||(B={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",B;var $})();const L={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},he=B.INFO,fe={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},we=($,W,...oe)=>{if(W<$.logLevel)return;const Ve=(new Date).toISOString(),ke=fe[W];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[ke](`[${Ve}]  ${$.name}:`,...oe)};class se{constructor(W){this.name=W,this._logLevel=he,this._logHandler=we,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in B))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?L[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...W),this._logHandler(this,B.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...W),this._logHandler(this,B.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,B.INFO,...W),this._logHandler(this,B.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,B.WARN,...W),this._logHandler(this,B.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...W),this._logHandler(this,B.ERROR,...W)}}function pe($){c.forEach(W=>{W.setLogLevel($)})}function ye($,W){for(const oe of c){let Ve=null;W&&W.level&&(Ve=L[W.level]),oe.userLogHandler=null===$?null:(ke,Ze,...Be)=>{const ge=Be.map(re=>{if(null==re)return null;if("string"==typeof re)return re;if("number"==typeof re||"boolean"==typeof re)return re.toString();if(re instanceof Error)return re.message;try{return JSON.stringify(re)}catch(me){return null}}).filter(re=>re).join(" ");Ze>=(null!=Ve?Ve:ke.logLevel)&&$({level:B[Ze].toLowerCase(),message:ge,args:Be,type:ke.name})}}}},5861:(ht,Te,R)=>{"use strict";function c(L,he,fe,we,se,pe,ye){try{var $=L[pe](ye),W=$.value}catch(oe){return void fe(oe)}$.done?he(W):Promise.resolve(W).then(we,se)}function B(L){return function(){var he=this,fe=arguments;return new Promise(function(we,se){var pe=L.apply(he,fe);function ye(W){c(pe,we,se,ye,$,"next",W)}function $(W){c(pe,we,se,ye,$,"throw",W)}ye(void 0)})}}R.d(Te,{Z:()=>B})}},ht=>{ht(ht.s=3276)}]);